(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["page-hit-stage~e78882ce"],{b12f:function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"appstage"}},[e("form",{on:{submit:function(a){return a.preventDefault(),t.submit(a)}}},[e("div",{staticClass:"row justify-content-center"},[e("div",{staticClass:"col-10 p-3 shadow rounded"},[t.forms?e("div",[e("p",{staticClass:"p-3 text-xl font-semibold"},[t._v("Form Table stage : ")]),e("hr",{staticClass:"my-2"}),e("div",{staticClass:"sm-form"},[e("label",{attrs:{for:"id"}},[t._v("id")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.vdata["id"],expression:"vdata['id']"}],staticClass:"form-control form-control-sm",attrs:{disabled:"",type:"Disabled",id:"id",name:"id",placeholder:"id"},domProps:{value:t.vdata["id"]},on:{input:function(a){a.target.composing||t.$set(t.vdata,"id",a.target.value)}}})]),e("div",{staticClass:"sm-form"},[e("label",{attrs:{for:"stage_name"}},[t._v("stage_name")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.vdata["stage_name"],expression:"vdata['stage_name']"}],staticClass:"form-control form-control-sm",attrs:{required:"",type:"Text",id:"stage_name",name:"stage_name",placeholder:"stage_name"},domProps:{value:t.vdata["stage_name"]},on:{input:function(a){a.target.composing||t.$set(t.vdata,"stage_name",a.target.value)}}})]),e("hr",{staticClass:"style2"}),e("div",{staticClass:"my-3"},[e("button",{staticClass:"btn btn-sm capitalize ",class:"tambah"==t.btn?"btn-primary":"update"==t.btn?"btn-success":"btn-danger",attrs:{type:"submit"}},[e("span",{staticClass:"typcn typcn-info"}),t._v(" @"+t._s(t.btn)+" ")]),e("div",{staticClass:"float-right"},["tambah"!=t.btn?e("button",{staticClass:"btn btn-sm btn-dark",attrs:{type:"button"},on:{click:function(a){t.btn="tambah",t.vdata={}}}},[e("span",{staticClass:"typcn typcn-edit"}),t._v(" Refresh ")]):t._e(),"tambah"!=t.btn?e("button",{staticClass:"ml-3 btn btn-sm btn-danger",attrs:{type:"button"},on:{click:function(a){t.btn="delete"}}},[e("span",{staticClass:"typcn typcn-delete"}),t._v(" Delete ")]):t._e()])])]):t._e(),t.btable?e("div",{staticClass:"shadow rounded p-3"},[e("div",{staticClass:"p-3"},[e("button",{staticClass:"btn btn-sm btn-success  ",attrs:{type:"button"},on:{click:function(a){t.forms=!t.forms}}},[t._v("@"+t._s(t.forms?"Hide":"Show")+" Form")])]),e("Btables",{attrs:{tables:t.datanya,hide:["upload","created_at","id","updated_at","deleted_at","file","gambar"]},on:{selected:t.ambil,hapusdata:t.hapusData,hapussemuadata:t.hapusSemuaData,pdf:t.pdf,excel:t.excel}})],1):t._e()])])])])},s=[],i=e("5530"),o=e("1da1"),r=(e("96cf"),e("d81d"),e("4160"),e("159b"),e("4795"),e("6be6")),c=e("4b97"),l=e("8aa5"),d=e.n(l),u=new c["a"],b=d.a.firestore(),m={layout:"hit-mobile",data:function(){return{vdata:{},btn:"tambah",content:"",datanya:[],relationship:{},btable:!1,forms:!1}},components:{Btables:r["a"]},methods:{getAlldata:function(t){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,b.collection("".concat(t)).get();case 2:return n=e.sent,n=n.docs.map((function(t){return Object(i["a"])({id:t.id},t.data())})),a.relationship[t]=n,e.abrupt("return",hasil);case 6:case"end":return e.stop()}}),e)})))()},pdf:function(){},excel:function(){var t="reports.xls",a=this.datanya,e=XLSX.utils.json_to_sheet(a),n=XLSX.utils.book_new();XLSX.utils.book_append_sheet(n,e,"People"),XLSX.writeFile(n,t)},hapusData:function(){var t=this;confirm("Apakah hapus data ?")&&b.collection("stage").doc(this.vdata.id)["delete"]().then((function(a){t.getData(),u.alert("Delete Data Berhasil","bg-green-400")}))["catch"]((function(t){u.alert("Delete Data Gagal","bg-red-400")}))},hapusSemuaData:function(t){var a=this;confirm("Apakah hapus Semua data ?")&&(t.forEach((function(t){b.collection("stage").doc(t.id)["delete"]().then((function(t){u.alert("Delete Data Berhasil","bg-green-400")}))["catch"]((function(t){u.alert("Delete Data Gagal","bg-red-400")}))})),setTimeout((function(){a.getData()}),2e3))},upload:function(t){var a=this,e=document.querySelector("#".concat(t));e=document.querySelector("#filenya"),u.collection("tbuser",!1).upload(e,!1,!0).then((function(e){a.vdata["".concat(t)]=e,a.$forceUpdate(),u.alert("Upload Data Berhasil","bg-green-400")}))},ambil:function(t){this.vdata=JSON.parse(JSON.stringify(t)),this.btn="update",this.forms=!0,this.$forceUpdate()},getData:function(){var t=this;t.btable=!1,b.collection("stage").get().then((function(a){var e=a.docs.map((function(t){return Object(i["a"])({id:t.id},t.data())}));t.datanya=e,t.btable=!0,t.$forceUpdate(),u.alert("Get Data Berhasil","bg-green-400")}))["catch"]((function(a){t.btable=!0,u.alert("Get Data Gagal","bg-red-400")}))},submit:function(){var t=this;confirm("Apakah yakin proses dilanjutkan ?")&&("tambah"==this.btn?(delete this.vdata.id,b.collection("stage").doc().set(this.vdata,{merge:!0}).then((function(a){t.getData(),u.alert("Add Data Berhasil","bg-green-400")}))["catch"]((function(t){u.alert("Add Data Gagal","bg-red-400")}))):"update"==this.btn?b.collection("stage").doc(this.vdata.id).set(this.vdata,{merge:!0}).then((function(a){t.getData(),u.alert("Update Data Berhasil","bg-green-400")}))["catch"]((function(t){u.alert("Update Data Gagal","bg-red-400")})):"delete"==this.btn&&b.collection("stage").doc(this.vdata.id)["delete"]().then((function(a){t.getData(),u.alert("Delete Data Berhasil","bg-green-400")}))["catch"]((function(t){u.alert("Delete Data Gagal","bg-red-400")})))}},mounted:function(){this.getData()}},p=m,h=e("2877"),f=Object(h["a"])(p,n,s,!1,null,null,null);a["default"]=f.exports}}]);
//# sourceMappingURL=page-hit-stage~e78882ce.aecc64e7.js.map