(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["page-hit-index~31ecd969"],{1276:function(t,e,a){"use strict";var i=a("d784"),s=a("44e7"),n=a("825a"),r=a("1d80"),l=a("4840"),o=a("8aa59"),c=a("50c4"),d=a("14c3"),u=a("9263"),p=a("d039"),m=[].push,v=Math.min,f=4294967295,g=!p((function(){return!RegExp(f,"y")}));i("split",2,(function(t,e,a){var i;return i="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,a){var i=String(r(this)),n=void 0===a?f:a>>>0;if(0===n)return[];if(void 0===t)return[i];if(!s(t))return e.call(i,t,n);var l,o,c,d=[],p=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),v=0,g=new RegExp(t.source,p+"g");while(l=u.call(g,i)){if(o=g.lastIndex,o>v&&(d.push(i.slice(v,l.index)),l.length>1&&l.index<i.length&&m.apply(d,l.slice(1)),c=l[0].length,v=o,d.length>=n))break;g.lastIndex===l.index&&g.lastIndex++}return v===i.length?!c&&g.test("")||d.push(""):d.push(i.slice(v)),d.length>n?d.slice(0,n):d}:"0".split(void 0,0).length?function(t,a){return void 0===t&&0===a?[]:e.call(this,t,a)}:e,[function(e,a){var s=r(this),n=void 0==e?void 0:e[t];return void 0!==n?n.call(e,s,a):i.call(String(s),e,a)},function(t,s){var r=a(i,t,this,s,i!==e);if(r.done)return r.value;var u=n(t),p=String(this),m=l(u,RegExp),h=u.unicode,b=(u.ignoreCase?"i":"")+(u.multiline?"m":"")+(u.unicode?"u":"")+(g?"y":"g"),_=new m(g?u:"^(?:"+u.source+")",b),y=void 0===s?f:s>>>0;if(0===y)return[];if(0===p.length)return null===d(_,p)?[p]:[];var k=0,x=0,w=[];while(x<p.length){_.lastIndex=g?x:0;var C,D=d(_,g?p:p.slice(x));if(null===D||(C=v(c(_.lastIndex+(g?0:x)),p.length))===k)x=o(p,x,h);else{if(w.push(p.slice(k,x)),w.length===y)return w;for(var $=1;$<=D.length-1;$++)if(w.push(D[$]),w.length===y)return w;x=k=C}}return w.push(p.slice(k)),w}]}),!g)},"44e7":function(t,e,a){var i=a("861d"),s=a("c6b6"),n=a("b622"),r=n("match");t.exports=function(t){var e;return i(t)&&(void 0!==(e=t[r])?!!e:"RegExp"==s(t))}},a15b:function(t,e,a){"use strict";var i=a("23e7"),s=a("44ad"),n=a("fc6a"),r=a("a640"),l=[].join,o=s!=Object,c=r("join",",");i({target:"Array",proto:!0,forced:o||!c},{join:function(t){return l.call(n(this),void 0===t?",":t)}})},a725:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"appreport_pegawai"}},[a("form",{on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[t.btable?a("div",{staticClass:"row justify-content-center"},[a("div",{staticClass:"col-10 p-3 shadow rounded"},[t.forms?a("div",[a("p",{staticClass:"p-3 text-xl font-semibold"},[t._v("Form Table report_pegawai :")]),a("hr",{staticClass:"my-2"}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-6"},[a("div",{staticClass:"sm-form"},[a("label",{attrs:{for:"tanggal"}},[t._v("tanggal")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.vdata["tanggal"],expression:"vdata['tanggal']"}],staticClass:"form-control form-control-sm",attrs:{required:"",type:"Date",id:"tanggal",name:"tanggal",placeholder:"tanggal"},domProps:{value:t.vdata["tanggal"]},on:{input:function(e){e.target.composing||t.$set(t.vdata,"tanggal",e.target.value)}}})]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-6"},[a("div",{staticClass:"sm-form "},[a("label",{attrs:{for:"time_dari"}},[t._v("Time dari : ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.vdata.time_dari,expression:"vdata.time_dari"}],staticClass:"form-control form-control-sm",attrs:{type:"time",id:"time_dari",name:"time_dari",placeholder:"time_dari"},domProps:{value:t.vdata.time_dari},on:{input:function(e){e.target.composing||t.$set(t.vdata,"time_dari",e.target.value)}}})])]),a("div",{staticClass:"col-6"},[a("div",{staticClass:"sm-form "},[a("label",{attrs:{for:"time_sampai"}},[t._v("Time sampai : ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.vdata.time_sampai,expression:"vdata.time_sampai"}],staticClass:"form-control form-control-sm",attrs:{type:"time",id:"time_sampai",name:"time_sampai",placeholder:"time_sampai"},domProps:{value:t.vdata.time_sampai},on:{input:function(e){e.target.composing||t.$set(t.vdata,"time_sampai",e.target.value)}}})])])]),a("div",{staticClass:"sm-form"},[a("label",{attrs:{for:"subject"}},[t._v("subject")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.vdata["subject"],expression:"vdata['subject']"}],staticClass:"form-control form-control-sm",attrs:{required:"",type:"Text",id:"subject",name:"subject",placeholder:"subject"},domProps:{value:t.vdata["subject"]},on:{input:function(e){e.target.composing||t.$set(t.vdata,"subject",e.target.value)}}})]),a("p",[t._v("customer_id :")]),a("v-select",{attrs:{options:t.relationship.customer,label:"customer_name",reduce:function(t){return t["customer_name"]}},model:{value:t.vdata.customer_id,callback:function(e){t.$set(t.vdata,"customer_id",e)},expression:"vdata.customer_id"}}),a("p",[t._v("assigned_id :")]),a("v-select",{attrs:{options:t.relationship.assigned,label:"assigned_name",reduce:function(t){return t["assigned_name"]}},model:{value:t.vdata.assigned_id,callback:function(e){t.$set(t.vdata,"assigned_id",e)},expression:"vdata.assigned_id"}}),a("p",[t._v("tags_id :")]),a("v-select",{attrs:{options:t.relationship.tags,label:"tags_name",reduce:function(t){return t["tags_name"]}},model:{value:t.vdata.tags_id,callback:function(e){t.$set(t.vdata,"tags_id",e)},expression:"vdata.tags_id"}})],1),a("div",{staticClass:"col-sm-6"},[a("p",[t._v("stage_id :")]),a("v-select",{attrs:{options:t.relationship.stage,label:"stage_name",reduce:function(t){return t["stage_name"]}},model:{value:t.vdata.stage_id,callback:function(e){t.$set(t.vdata,"stage_id",e)},expression:"vdata.stage_id"}}),a("div",{staticClass:"sm-form"},[a("label",{attrs:{for:"description"}},[t._v("description")]),a("div",{staticClass:"sm-form"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.vdata["description"],expression:"vdata['description']"}],staticClass:"form-control md-textarea",attrs:{required:"",type:"text",id:"description",name:"description",rows:"2",placeholder:"description"},domProps:{value:t.vdata["description"]},on:{input:function(e){e.target.composing||t.$set(t.vdata,"description",e.target.value)}}})])]),a("p",[t._v("helpdesk_id :")]),a("v-select",{attrs:{options:t.relationship.helpdesk,label:"helpdesk_name",reduce:function(t){return t["helpdesk_name"]}},model:{value:t.vdata.helpdesk_id,callback:function(e){t.$set(t.vdata,"helpdesk_id",e)},expression:"vdata.helpdesk_id"}}),a("p",[t._v("ticket_type_id :")]),a("v-select",{attrs:{options:t.relationship.ticket_type,label:"ticket_type",reduce:function(t){return t["ticket_type"]}},model:{value:t.vdata.ticket_type_id,callback:function(e){t.$set(t.vdata,"ticket_type_id",e)},expression:"vdata.ticket_type_id"}})],1)]),a("hr",{staticClass:"style2"}),a("div",{staticClass:"my-3"},[a("button",{staticClass:"btn btn-sm capitalize",class:"tambah"==t.btn?"btn-primary":"update"==t.btn?"btn-success":"btn-danger",attrs:{type:"submit"}},[a("span",{staticClass:"typcn typcn-info"}),t._v(" @"+t._s(t.btn)+" ")]),a("div",{staticClass:"float-right"},["tambah"!=t.btn?a("button",{staticClass:"btn btn-sm btn-dark",attrs:{type:"button"},on:{click:function(e){t.btn="tambah",t.vdata={}}}},[a("span",{staticClass:"typcn typcn-edit"}),t._v(" Refresh ")]):t._e(),"tambah"!=t.btn?a("button",{staticClass:"ml-3 btn btn-sm btn-danger",attrs:{type:"button"},on:{click:function(e){t.btn="delete"}}},[a("span",{staticClass:"typcn typcn-delete"}),t._v(" Delete ")]):t._e()])])]):t._e(),t.btable?a("div",[a("p",{staticClass:"text-xs font-semibold text-red-400"},[t._v("Tambahkan list customer, assigned, tags, stage, helpdesk, ticket_type di menu kiri aplikasi")]),a("div",{staticClass:"p-3"},[a("button",{staticClass:"btn btn-sm btn-success",attrs:{type:"button"},on:{click:function(e){t.forms=!t.forms}}},[t._v(" "+t._s(t.forms?"Hide":"Show")+" Form ")]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-6"},[a("p",[t._v("Bulan : ")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.filterBulan,expression:"filterBulan"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.filterBulan=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"01"}},[t._v("Januari")]),a("option",{attrs:{value:"02"}},[t._v("Februari")]),a("option",{attrs:{value:"03"}},[t._v("Maret")]),a("option",{attrs:{value:"04"}},[t._v("April")]),a("option",{attrs:{value:"05"}},[t._v("Mei")]),a("option",{attrs:{value:"06"}},[t._v("Juni")]),a("option",{attrs:{value:"07"}},[t._v("Juli")]),a("option",{attrs:{value:"08"}},[t._v("Agustus")]),a("option",{attrs:{value:"09"}},[t._v("September")]),a("option",{attrs:{value:"10"}},[t._v("Oktober")]),a("option",{attrs:{value:"11"}},[t._v("November")]),a("option",{attrs:{value:"12"}},[t._v("Desember")])])]),a("div",{staticClass:"col-6"},[a("div",{staticClass:"sm-form "},[a("label",{attrs:{for:"filterTahun"}},[t._v("Tahun : ")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.filterTahun,expression:"filterTahun"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.filterTahun=e.target.multiple?a:a[0]}}},t._l(50,(function(e,i){return a("option",{key:i+"ok"},[t._v(t._s(2020+e))])})),0)])])])]),a("Btable",{attrs:{tables:t.td,hide:["upload","id","created_at","updated_at","deleted_at","file","gambar","description","time_dari","time_sampai"]},on:{selected:t.ambil,hapusdata:t.hapusData,hapussemuadata:t.hapusSemuaData,pdf:t.pdf,excel:t.excel}})],1):t._e()])]):a("div",[t._m(0)])])])},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"d-flex justify-content-center align-items-center shadow-lg rounded-lg",staticStyle:{height:"60vh"}},[a("div",{staticStyle:{width:"100%"}},[a("p",{staticClass:"text-center animate__animated animate__bounce animate__infinite text-lg font-semibold "},[t._v("Loading ...")])])])}],n=a("5530"),r=a("1da1"),l=(a("96cf"),a("4795"),a("4de4"),a("c975"),a("1276"),a("ac1f"),a("d81d"),a("a15b"),a("4160"),a("159b"),a("a4d3"),a("e01a"),a("0d03"),a("6be6")),o=a("4b97"),c=a("8aa5"),d=a.n(c),u=new o["a"],p=d.a.firestore(),m={layout:"hit-mobile",data:function(){return{vdata:{},btn:"tambah",filterBulan:"01",filterTahun:"2022",content:"",datanya:[],relationship:{},btable:!1,forms:!1}},components:{Btable:l["a"]},watch:{filterBulan:function(){var t=this;this.btable=!1,this.$forceUpdate(),setTimeout((function(){t.btable=!0,t.$forceUpdate()}),500)},filterTahun:function(){var t=this;this.btable=!1,this.$forceUpdate(),setTimeout((function(){t.btable=!0,t.$forceUpdate()}),500)},btable:function(){}},computed:{td:function(){var t=this,e=this.datanya;return e=e.filter((function(e){if(-1!=e.tanggal.split("-")[0].indexOf(t.filterTahun))return e})),e=e.filter((function(e){if(-1!=e.tanggal.split("-")[1].indexOf(t.filterBulan))return e})),e}},methods:{getAlldata:function(t){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,p.collection("".concat(t)).get();case 2:return i=a.sent,i=i.docs.map((function(t){return Object(n["a"])({id:t.id},t.data())})),e.relationship[t]=i,a.abrupt("return",i);case 6:case"end":return a.stop()}}),a)})))()},pdf:function(){},excel:function(){window.open("https://akbarmaliki.github.io/infolayanansjs/#/excel?data=".concat(JSON.stringify(this.datanya).split("&").join("%26")),"_blank")},hapusData:function(){var t=this;confirm("Apakah hapus data ?")&&p.collection("users/"+this.$store.state.users.uid+"/report_pegawai").doc(this.vdata.id)["delete"]().then((function(e){t.getData(),u.alert("Delete Data Berhasil","bg-green-400")}))["catch"]((function(t){u.alert("Delete Data Gagal","bg-red-400")}))},hapusSemuaData:function(t){var e=this,a=this;confirm("Apakah hapus Semua data ?")&&(t.forEach((function(t){p.collection("users/"+e.$store.state.users.uid+"/report_pegawai").doc(t.id)["delete"]().then((function(t){u.alert("Delete Data Berhasil","bg-green-400")}))["catch"]((function(t){u.alert("Delete Data Gagal","bg-red-400")}))})),setTimeout((function(){a.getData()}),2e3))},upload:function(t){var e=this,a=document.querySelector("#".concat(t));a=document.querySelector("#filenya"),u.collection("tbuser",!1).upload(a,!1,!0).then((function(a){e.vdata["".concat(t)]=a,e.$forceUpdate(),u.alert("Upload Data Berhasil","bg-green-400")}))},ambil:function(t){this.vdata=JSON.parse(JSON.stringify(t)),this.btn="update",this.forms=!0,this.$forceUpdate()},getData:function(){var t=this;t.btable=!1,p.collection("users/"+this.$store.state.users.uid+"/report_pegawai").get().then((function(e){var a=e.docs.map((function(t){return Object(n["a"])({id:t.id},t.data())}));a=a.map((function(t){return{id:t.id,tanggal:t.tanggal,time_dari:t.time_dari,time_sampai:t.time_sampai,subject:t.subject,customer_id:t.customer_id,assigned_id:t.assigned_id,tags_id:t.tags_id,stage_id:t.stage_id,description:t.description,helpdesk_id:t.helpdesk_id,ticket_type_id:t.ticket_type_id}})),a=_.orderBy(a,["tanggal"],["asc"]),t.datanya=a,t.btable=!0,t.$forceUpdate(),u.alert("Get Data Berhasil","bg-green-400")}))["catch"]((function(e){t.btable=!0,u.alert("Get Data Gagal","bg-red-400")}))},submit:function(){var t=this;confirm("Apakah yakin proses dilanjutkan ?")&&("tambah"==this.btn?(delete this.vdata.id,p.collection("users/"+this.$store.state.users.uid+"/report_pegawai").doc().set(this.vdata,{merge:!0}).then((function(e){t.getData(),u.alert("Add Data Berhasil","bg-green-400")}))["catch"]((function(t){u.alert("Add Data Gagal","bg-red-400")}))):"update"==this.btn?p.collection("users/"+this.$store.state.users.uid+"/report_pegawai").doc(this.vdata.id).set(this.vdata,{merge:!0}).then((function(e){t.getData(),u.alert("Update Data Berhasil","bg-green-400")}))["catch"]((function(t){u.alert("Update Data Gagal","bg-red-400")})):"delete"==this.btn&&p.collection("users/"+this.$store.state.users.uid+"/report_pegawai").doc(this.vdata.id)["delete"]().then((function(e){t.getData(),u.alert("Delete Data Berhasil","bg-green-400")}))["catch"]((function(t){u.alert("Delete Data Gagal","bg-red-400")})))},getTahun:function(t){return this.$datefns.format(new Date(t),"YYYY")},getBulan:function(t){return this.$datefns.format(new Date(t),"MM")}},mounted:function(){var t=this;this.filterTahun=this.getTahun(new Date),this.filterBulan=this.getBulan(new Date),setTimeout((function(){t.getData(),t.getAlldata("customer"),t.getAlldata("assigned"),t.getAlldata("tags"),t.getAlldata("stage"),t.getAlldata("helpdesk"),t.getAlldata("ticket_type")}),1e3)}},v=m,f=a("2877"),g=Object(f["a"])(v,i,s,!1,null,null,null);e["default"]=g.exports}}]);
//# sourceMappingURL=page-hit-index~31ecd969.d73aabf4.js.map