{"version":3,"sources":["webpack:///./node_modules/node-libs-browser/mock/process.js","webpack:///./node_modules/signature_pad/dist/signature_pad.js","webpack:///./node_modules/register-service-worker/index.js","webpack:///./node_modules/idb/build/idb.js","webpack:///./node_modules/sortablejs/modular/sortable.esm.js","webpack:///./node_modules/merge-images/dist/index.es2015.js","webpack:///./node_modules/hammerjs/hammer.js","webpack:///./node_modules/path-browserify/index.js"],"names":["exports","nextTick","fn","args","Array","prototype","slice","call","arguments","shift","setTimeout","apply","platform","arch","execPath","title","pid","browser","env","argv","binding","name","Error","path","cwd","chdir","dir","resolve","exit","kill","umask","dlopen","uptime","memoryUsage","uvCounters","features","Point","x","y","time","this","Date","now","start","Math","sqrt","pow","other","distanceTo","Bezier","startPoint","control2","control1","endPoint","startWidth","endWidth","points","widths","c2","calculateControlPoints","c3","c1","end","s1","s2","s3","dx1","dy1","dx2","dy2","m1","m2","l1","l2","dxm","dym","k","cm","tx","ty","steps","px","py","length","i","t","cx","point","cy","xdiff","ydiff","throttle","wait","result","storedContext","storedArgs","previous","timeout","later","remaining","clearTimeout","window","SignaturePad","canvas","options","_handleMouseDown","event","which","_mouseButtonDown","_strokeBegin","_handleMouseMove","_strokeMoveUpdate","_handleMouseUp","_strokeEnd","_handleTouchStart","preventDefault","targetTouches","touch","changedTouches","_handleTouchMove","_handleTouchEnd","wasCanvasTouched","target","velocityFilterWeight","minWidth","maxWidth","minDistance","dotSize","penColor","backgroundColor","onBegin","onEnd","_strokeUpdate","_ctx","getContext","clear","on","ctx","fillStyle","clearRect","width","height","fillRect","_data","_reset","_isEmpty","dataUrl","callback","image","Image","ratio","devicePixelRatio","onload","drawImage","onerror","error","src","type","encoderOptions","_toSVG","toDataURL","style","touchAction","msTouchAction","PointerEvent","_handlePointerEvents","_handleMouseEvents","_handleTouchEvents","removeEventListener","document","pointGroups","_fromData","color","curve","_drawCurve","_drawDot","newPointGroup","push","clientX","clientY","_createPoint","lastPointGroup","lastPoints","lastPoint","isLastPointTooClose","_addPoint","addEventListener","_lastPoints","_lastVelocity","_lastWidth","rect","getBoundingClientRect","left","top","getTime","unshift","_calculateCurveWidths","fromPoints","velocity","velocityFrom","newWidth","_strokeWidth","max","moveTo","arc","PI","widthDelta","drawSteps","floor","beginPath","tt","ttt","u","uu","uuu","min","_drawCurveSegment","closePath","fill","drawCurve","drawDot","group","j","basicPoint","minX","minY","maxX","maxY","svg","createElementNS","setAttribute","toString","createElement","isNaN","attr","toFixed","appendChild","circle","prefix","header","body","innerHTML","undefined","dummy","nodes","childNodes","cloneNode","footer","data","btoa","waitWindowLoad","isLocalhost","Boolean","location","hostname","match","register","swUrl","hooks","registrationOptions","emit","hook","len","navigator","then","checkValidServiceWorker","serviceWorker","ready","registration","catch","handleError","registerValidSW","onLine","waiting","onupdatefound","installingWorker","installing","onstatechange","state","controller","fetch","response","status","unregister","headers","get","indexOf","Promise","cb","global","factory","toArray","arr","promisifyRequest","request","reject","onsuccess","promisifyRequestCall","obj","method","p","promisifyCursorRequestCall","value","Cursor","proxyProperties","ProxyClass","targetProp","properties","forEach","prop","Object","defineProperty","set","val","proxyRequestMethods","Constructor","proxyMethods","proxyCursorRequestMethods","Index","index","_index","cursor","_cursor","_request","ObjectStore","store","_store","Transaction","idbTransaction","_tx","complete","oncomplete","onabort","UpgradeDB","db","oldVersion","transaction","_db","DB","openDb","version","upgradeCallback","indexedDB","onupgradeneeded","deleteDb","IDBIndex","IDBCursor","methodName","createIndex","IDBObjectStore","objectStore","IDBTransaction","createObjectStore","IDBDatabase","funcName","replace","nativeObject","getAll","query","count","instance","items","iterateCursor","continue","_typeof","Symbol","iterator","constructor","_defineProperty","key","enumerable","configurable","writable","_extends","assign","source","hasOwnProperty","_objectSpread","ownKeys","keys","getOwnPropertySymbols","concat","filter","sym","getOwnPropertyDescriptor","_objectWithoutPropertiesLoose","excluded","sourceKeys","_objectWithoutProperties","sourceSymbolKeys","propertyIsEnumerable","_toConsumableArray","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","isArray","arr2","iter","from","TypeError","userAgent","pattern","IE11OrLess","Edge","FireFox","Safari","IOS","ChromeForAndroid","captureMode","capture","passive","el","off","matches","selector","substring","msMatchesSelector","webkitMatchesSelector","_","getParentOrHost","host","nodeType","parentNode","closest","includeCTX","_throttleTimeout","R_SPACE","toggleClass","classList","className","css","defaultView","getComputedStyle","currentStyle","matrix","selfOnly","appliedTransforms","transform","matrixFn","DOMMatrix","WebKitCSSMatrix","CSSMatrix","MSCSSMatrix","find","tagName","list","getElementsByTagName","n","getWindowScrollingElement","scrollingElement","documentElement","getRect","relativeToContainingBlock","relativeToNonStaticParent","undoScale","container","elRect","bottom","right","innerHeight","innerWidth","containerRect","parseInt","elMatrix","scaleX","a","scaleY","d","isScrolledPast","elSide","parentSide","parent","getParentAutoScrollElement","elSideVal","parentSideVal","visible","getChild","childNum","currentChild","children","display","Sortable","ghost","dragged","draggable","lastChild","last","lastElementChild","previousElementSibling","nodeName","toUpperCase","clone","getRelativeScrollOffset","offsetLeft","offsetTop","winScroller","scrollLeft","scrollTop","indexOfObject","Number","includeSelf","elem","gotSelf","clientWidth","scrollWidth","clientHeight","scrollHeight","elemCSS","overflowX","overflowY","extend","dst","isRectEqual","rect1","rect2","round","ms","_this","cancelThrottle","scrollBy","Polymer","$","jQuery","Zepto","dom","setRect","unsetRect","expando","AnimationStateManager","animationCallbackId","animationStates","captureAnimationState","animation","child","fromRect","thisAnimationDuration","childMatrix","f","e","addAnimationState","removeAnimationState","splice","animateAll","animating","animationTime","toRect","prevFromRect","prevToRect","animatingRect","targetMatrix","calculateRealTime","animate","animationResetTimer","currentRect","duration","translateX","translateY","animatingX","animatingY","repaint","easing","animated","offsetWidth","plugins","defaults","initializeByDefault","PluginManager","mount","plugin","option","pluginEvent","eventName","sortable","evt","eventCanceled","cancel","eventNameGlobal","pluginName","initializePlugins","initialized","modified","modifyOption","getEventProperties","eventProperties","modifiedValue","optionListeners","dispatchEvent","_ref","rootEl","targetEl","cloneEl","toEl","fromEl","oldIndex","newIndex","oldDraggableIndex","newDraggableIndex","originalEvent","putSortable","extraEventProperties","onName","charAt","substr","CustomEvent","createEvent","initEvent","bubbles","cancelable","to","item","pullMode","lastPutMode","allEventProperties","bind","dragEl","parentEl","ghostEl","nextEl","lastDownEl","cloneHidden","dragStarted","moved","activeSortable","active","hideGhostForTarget","_hideGhostForTarget","unhideGhostForTarget","_unhideGhostForTarget","cloneNowHidden","cloneNowShown","dispatchSortableEvent","_dispatchEvent","info","activeGroup","tapEvt","touchEvt","lastDx","lastDy","tapDistanceLeft","tapDistanceTop","lastTarget","lastDirection","targetMoveDistance","ghostRelativeParent","awaitingDragStarted","ignoreNextClick","sortables","pastFirstInvertThresh","isCircumstantialInvert","ghostRelativeParentInitialScroll","_silent","savedInputChecked","documentExists","PositionGhostAbsolutely","CSSFloatProperty","supportDraggable","supportCssPointerEvents","cssText","pointerEvents","_detectDirection","elCSS","elWidth","paddingLeft","paddingRight","borderLeftWidth","borderRightWidth","child1","child2","firstChildCSS","secondChildCSS","firstChildWidth","marginLeft","marginRight","secondChildWidth","flexDirection","gridTemplateColumns","split","touchingSideChild2","_dragElInRowColumn","dragRect","targetRect","vertical","dragElS1Opp","dragElS2Opp","dragElOppLength","targetS1Opp","targetS2Opp","targetOppLength","_detectNearestEmptySortable","ret","some","threshold","emptyInsertThreshold","insideHorizontally","insideVertically","_prepareGroup","toFn","pull","sameGroup","otherGroup","join","originalGroup","checkPull","checkPut","put","revertClone","stopPropagation","stopImmediatePropagation","nearestEmptyInsertDetectEvent","touches","nearest","_onDragOver","_checkOutsideTargetEl","_isOutsideThisEl","sort","disabled","handle","test","swapThreshold","invertSwap","invertedSwapThreshold","removeCloneOnHide","direction","ghostClass","chosenClass","dragClass","ignore","preventOnFilter","setData","dataTransfer","textContent","dropBubble","dragoverBubble","dataIdAttr","delay","delayOnTouchOnly","touchStartThreshold","forceFallback","fallbackClass","fallbackOnBody","fallbackTolerance","fallbackOffset","supportPointer","nativeDraggable","_onTapStart","_globalDragOver","dropEffect","_onMove","willInsertAfter","retVal","onMoveFn","onMove","draggedRect","related","relatedRect","_disableDraggable","_unsilent","_ghostIsLast","spacer","_getSwapDirection","isLastTarget","mouseOnAxis","targetLength","targetS1","targetS2","invert","_getInsertDirection","_generateId","str","href","sum","charCodeAt","_saveInputCheckedState","root","inputs","idx","checked","_nextTick","_cancelNextTick","id","contains","_getDirection","pointerType","originalTarget","shadowRoot","composedPath","button","isContentEditable","criteria","trim","_prepareDragStart","dragStartFn","ownerDocument","nextSibling","_lastX","_lastY","_onDrop","_disableDelayedDragEvents","_triggerDragStart","_disableDelayedDrag","_delayedDragTouchMoveHandler","_dragStartTimer","abs","_onTouchMove","_onDragStart","selection","empty","getSelection","removeAllRanges","err","_dragStarted","fallback","_appendGhost","_nulling","_emulateDragOver","elementFromPoint","inserted","ghostMatrix","relativeScrollOffset","dx","dy","b","c","cssMatrix","_hideClone","cloneId","insertBefore","_loopId","setInterval","effectAllowed","_dragStartId","revert","isOwner","canSort","fromSortable","completedFired","dragOverEvent","_ignoreWhileAnimating","completed","elLastChild","changed","targetBeforeFirstSwap","sibling","differentLevel","differentRowCol","side1","scrolledPastTop","scrollBefore","dragIndex","nextElementSibling","after","moveVector","extra","axis","insertion","_showClone","_offMoveEvents","_offUpEvents","clearInterval","removeChild","save","handleEvent","order","getAttribute","destroy","querySelectorAll","removeAttribute","utils","is","cancelNextTick","detectDirection","element","_len","_key","create","scrollEl","scrollRootEl","lastAutoScrollX","lastAutoScrollY","touchEvt$1","pointerElemChangedInterval","autoScrolls","scrolling","AutoScrollPlugin","AutoScroll","scroll","scrollSensitivity","scrollSpeed","bubbleScroll","_handleAutoScroll","_handleFallbackAutoScroll","dragOverCompleted","_ref2","dragOverBubble","drop","clearPointerElemChangedInterval","clearAutoScrolls","nulling","autoScroll","ogElemScroller","newElem","lastSwapEl","isFallback","scrollCustomFn","sens","speed","scrollThisInstance","scrollFn","layersOut","currentParent","canScrollX","canScrollY","scrollPosX","scrollPosY","vx","vy","layer","scrollOffsetY","scrollOffsetX","toSortable","onSpill","Revert","Remove","SwapPlugin","Swap","swapClass","dragStart","dragOverValid","swap","prevSwapEl","_ref3","swapNodes","swapItem","n1","n2","i1","i2","p1","p2","isEqualNode","startIndex","_ref4","parentSortable","lastMultiDragSelect","multiDragSortable","dragEl$1","clonesFromRect","clonesHidden","multiDragElements","multiDragClones","initialFolding","folding","MultiDragPlugin","MultiDrag","_deselectMultiDrag","_checkKeyDown","_checkKeyUp","selectedClass","multiDragKey","multiDragElement","multiDragKeyDown","isMultiDrag","delayStartGlobal","delayEnded","setupClone","sortableIndex","insertMultiDragClones","showClone","hideClone","_ref5","dragStartGlobal","_ref6","multiDrag","_ref7","_this2","removeMultiDragElements","dragOver","_ref8","_ref9","insertMultiDragElements","_ref10","dragRectAbsolute","clonesHiddenBefore","dragOverAnimationCapture","_ref11","dragMatrix","dragOverAnimationComplete","_ref12","originalEvt","shiftKey","lastIndex","currentIndex","multiDragIndex","update","nullingGlobal","destroyGlobal","select","deselect","_this3","oldIndicies","newIndicies","clones","toLowerCase","clonesInserted","elementsInserted","defaultOptions","format","quality","Canvas","crossOrigin","mergeImages","sources","images","map","img","all","getSize","dim","globalAlpha","opacity","progressive","jpeg","exportName","VENDOR_PREFIXES","TEST_ELEMENT","TYPE_FUNCTION","setTimeoutContext","context","bindFn","invokeArrayArg","arg","each","deprecate","message","deprecationMessage","stack","log","console","warn","output","nextKey","dest","merge","inherit","base","childP","baseP","_super","boolOrFn","ifUndefined","val1","val2","addEventListeners","types","handler","splitStr","removeEventListeners","hasParent","node","inStr","inArray","findByKey","uniqueArray","results","values","prefixed","property","camelProp","_uniqueId","uniqueId","getWindowForElement","doc","parentWindow","MOBILE_REGEX","SUPPORT_TOUCH","SUPPORT_POINTER_EVENTS","SUPPORT_ONLY_TOUCH","INPUT_TYPE_TOUCH","INPUT_TYPE_PEN","INPUT_TYPE_MOUSE","INPUT_TYPE_KINECT","COMPUTE_INTERVAL","INPUT_START","INPUT_MOVE","INPUT_END","INPUT_CANCEL","DIRECTION_NONE","DIRECTION_LEFT","DIRECTION_RIGHT","DIRECTION_UP","DIRECTION_DOWN","DIRECTION_HORIZONTAL","DIRECTION_VERTICAL","DIRECTION_ALL","PROPS_XY","PROPS_CLIENT_XY","Input","manager","self","inputTarget","domHandler","ev","enable","init","createInputInstance","Type","inputClass","PointerEventInput","TouchInput","TouchMouseInput","MouseInput","inputHandler","eventType","input","pointersLen","pointers","changedPointersLen","changedPointers","isFirst","isFinal","session","computeInputData","recognize","prevInput","pointersLength","firstInput","simpleCloneInputData","firstMultiple","offsetCenter","center","getCenter","timeStamp","deltaTime","angle","getAngle","distance","getDistance","computeDeltaXY","offsetDirection","getDirection","deltaX","deltaY","overallVelocity","getVelocity","overallVelocityX","overallVelocityY","scale","getScale","rotation","getRotation","maxPointers","computeIntervalInputData","srcEvent","offset","offsetDelta","prevDelta","velocityX","velocityY","lastInterval","v","props","atan2","evEl","evTarget","evWin","MOUSE_INPUT_MAP","mousedown","mousemove","mouseup","MOUSE_ELEMENT_EVENTS","MOUSE_WINDOW_EVENTS","pressed","POINTER_INPUT_MAP","pointerdown","pointermove","pointerup","pointercancel","pointerout","IE10_POINTER_TYPE_ENUM","2","3","4","5","POINTER_ELEMENT_EVENTS","POINTER_WINDOW_EVENTS","MSPointerEvent","removePointer","eventTypeNormalized","isTouch","storeIndex","pointerId","SINGLE_TOUCH_INPUT_MAP","touchstart","touchmove","touchend","touchcancel","SINGLE_TOUCH_TARGET_EVENTS","SINGLE_TOUCH_WINDOW_EVENTS","SingleTouchInput","started","normalizeSingleTouches","TOUCH_INPUT_MAP","TOUCH_TARGET_EVENTS","targetIds","getTouches","allTouches","identifier","changedTargetTouches","DEDUP_TIMEOUT","DEDUP_DISTANCE","mouse","primaryTouch","lastTouches","recordTouches","eventData","setLastTouch","lastTouch","lts","removeLastTouch","isSyntheticEvent","inputEvent","inputData","isMouse","sourceCapabilities","firesTouchEvents","PREFIXED_TOUCH_ACTION","NATIVE_TOUCH_ACTION","TOUCH_ACTION_COMPUTE","TOUCH_ACTION_AUTO","TOUCH_ACTION_MANIPULATION","TOUCH_ACTION_NONE","TOUCH_ACTION_PAN_X","TOUCH_ACTION_PAN_Y","TOUCH_ACTION_MAP","getTouchActionProps","TouchAction","cleanTouchActions","actions","hasPanX","hasPanY","touchMap","cssSupports","CSS","supports","compute","recognizers","recognizer","getTouchAction","preventDefaults","prevented","hasNone","isTapPointer","isTapMovement","isTapTouchTime","preventSrc","STATE_POSSIBLE","STATE_BEGAN","STATE_CHANGED","STATE_ENDED","STATE_RECOGNIZED","STATE_CANCELLED","STATE_FAILED","Recognizer","simultaneous","requireFail","stateStr","directionStr","getRecognizerByNameIfManager","otherRecognizer","AttrRecognizer","PanRecognizer","pX","pY","PinchRecognizer","PressRecognizer","_timer","_input","RotateRecognizer","SwipeRecognizer","TapRecognizer","pTime","pCenter","Hammer","preset","Manager","recognizeWith","dropRecognizeWith","requireFailure","dropRequireFailure","hasRequireFailures","canRecognizeWith","additionalEvent","tryEmit","canEmit","inputDataClone","reset","process","attrTest","optionPointers","isRecognized","isValid","directionTest","hasMoved","inOut","validPointers","validMovement","validTime","taps","interval","posThreshold","validTouchTime","failTimeout","validInterval","validMultiTap","tapCount","VERSION","domEvents","cssProps","userSelect","touchSelect","touchCallout","contentZooming","userDrag","tapHighlightColor","STOP","FORCED_STOP","handlers","oldCssProps","toggleCssProps","add","triggerDomEvent","gestureEvent","gesture","stop","force","stopped","curRecognizer","existing","remove","events","Tap","Pan","Swipe","Pinch","Rotate","Press","freeGlobal","normalizeArray","parts","allowAboveRoot","up","basename","matchedSlash","xs","res","resolvedPath","resolvedAbsolute","normalize","isAbsolute","trailingSlash","paths","relative","fromParts","toParts","samePartsLength","outputParts","sep","delimiter","dirname","code","hasRoot","ext","extname","startDot","startPart","preDotState"],"mappings":"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","file":"js/chunk-vendors~1f20a385.c64cb5bd.js","sourcesContent":["exports.nextTick = function nextTick(fn) {\n    var args = Array.prototype.slice.call(arguments);\n    args.shift();\n    setTimeout(function () {\n        fn.apply(null, args);\n    }, 0);\n};\n\nexports.platform = exports.arch = \nexports.execPath = exports.title = 'browser';\nexports.pid = 1;\nexports.browser = true;\nexports.env = {};\nexports.argv = [];\n\nexports.binding = function (name) {\n\tthrow new Error('No such module. (Possibly not yet loaded)')\n};\n\n(function () {\n    var cwd = '/';\n    var path;\n    exports.cwd = function () { return cwd };\n    exports.chdir = function (dir) {\n        if (!path) path = require('path');\n        cwd = path.resolve(dir, cwd);\n    };\n})();\n\nexports.exit = exports.kill = \nexports.umask = exports.dlopen = \nexports.uptime = exports.memoryUsage = \nexports.uvCounters = function() {};\nexports.features = {};\n","/*!\n * Signature Pad v3.0.0-beta.4 | https://github.com/szimek/signature_pad\n * (c) 2020 Szymon Nowak | Released under the MIT license\n */\n\nclass Point {\n    constructor(x, y, time) {\n        this.x = x;\n        this.y = y;\n        this.time = time || Date.now();\n    }\n    distanceTo(start) {\n        return Math.sqrt(Math.pow(this.x - start.x, 2) + Math.pow(this.y - start.y, 2));\n    }\n    equals(other) {\n        return this.x === other.x && this.y === other.y && this.time === other.time;\n    }\n    velocityFrom(start) {\n        return this.time !== start.time\n            ? this.distanceTo(start) / (this.time - start.time)\n            : 0;\n    }\n}\n\nclass Bezier {\n    constructor(startPoint, control2, control1, endPoint, startWidth, endWidth) {\n        this.startPoint = startPoint;\n        this.control2 = control2;\n        this.control1 = control1;\n        this.endPoint = endPoint;\n        this.startWidth = startWidth;\n        this.endWidth = endWidth;\n    }\n    static fromPoints(points, widths) {\n        const c2 = this.calculateControlPoints(points[0], points[1], points[2]).c2;\n        const c3 = this.calculateControlPoints(points[1], points[2], points[3]).c1;\n        return new Bezier(points[1], c2, c3, points[2], widths.start, widths.end);\n    }\n    static calculateControlPoints(s1, s2, s3) {\n        const dx1 = s1.x - s2.x;\n        const dy1 = s1.y - s2.y;\n        const dx2 = s2.x - s3.x;\n        const dy2 = s2.y - s3.y;\n        const m1 = { x: (s1.x + s2.x) / 2.0, y: (s1.y + s2.y) / 2.0 };\n        const m2 = { x: (s2.x + s3.x) / 2.0, y: (s2.y + s3.y) / 2.0 };\n        const l1 = Math.sqrt(dx1 * dx1 + dy1 * dy1);\n        const l2 = Math.sqrt(dx2 * dx2 + dy2 * dy2);\n        const dxm = m1.x - m2.x;\n        const dym = m1.y - m2.y;\n        const k = l2 / (l1 + l2);\n        const cm = { x: m2.x + dxm * k, y: m2.y + dym * k };\n        const tx = s2.x - cm.x;\n        const ty = s2.y - cm.y;\n        return {\n            c1: new Point(m1.x + tx, m1.y + ty),\n            c2: new Point(m2.x + tx, m2.y + ty),\n        };\n    }\n    length() {\n        const steps = 10;\n        let length = 0;\n        let px;\n        let py;\n        for (let i = 0; i <= steps; i += 1) {\n            const t = i / steps;\n            const cx = this.point(t, this.startPoint.x, this.control1.x, this.control2.x, this.endPoint.x);\n            const cy = this.point(t, this.startPoint.y, this.control1.y, this.control2.y, this.endPoint.y);\n            if (i > 0) {\n                const xdiff = cx - px;\n                const ydiff = cy - py;\n                length += Math.sqrt(xdiff * xdiff + ydiff * ydiff);\n            }\n            px = cx;\n            py = cy;\n        }\n        return length;\n    }\n    point(t, start, c1, c2, end) {\n        return (start * (1.0 - t) * (1.0 - t) * (1.0 - t))\n            + (3.0 * c1 * (1.0 - t) * (1.0 - t) * t)\n            + (3.0 * c2 * (1.0 - t) * t * t)\n            + (end * t * t * t);\n    }\n}\n\nfunction throttle(fn, wait = 250) {\n    let previous = 0;\n    let timeout = null;\n    let result;\n    let storedContext;\n    let storedArgs;\n    const later = () => {\n        previous = Date.now();\n        timeout = null;\n        result = fn.apply(storedContext, storedArgs);\n        if (!timeout) {\n            storedContext = null;\n            storedArgs = [];\n        }\n    };\n    return function wrapper(...args) {\n        const now = Date.now();\n        const remaining = wait - (now - previous);\n        storedContext = this;\n        storedArgs = args;\n        if (remaining <= 0 || remaining > wait) {\n            if (timeout) {\n                clearTimeout(timeout);\n                timeout = null;\n            }\n            previous = now;\n            result = fn.apply(storedContext, storedArgs);\n            if (!timeout) {\n                storedContext = null;\n                storedArgs = [];\n            }\n        }\n        else if (!timeout) {\n            timeout = window.setTimeout(later, remaining);\n        }\n        return result;\n    };\n}\n\nclass SignaturePad {\n    constructor(canvas, options = {}) {\n        this.canvas = canvas;\n        this.options = options;\n        this._handleMouseDown = (event) => {\n            if (event.which === 1) {\n                this._mouseButtonDown = true;\n                this._strokeBegin(event);\n            }\n        };\n        this._handleMouseMove = (event) => {\n            if (this._mouseButtonDown) {\n                this._strokeMoveUpdate(event);\n            }\n        };\n        this._handleMouseUp = (event) => {\n            if (event.which === 1 && this._mouseButtonDown) {\n                this._mouseButtonDown = false;\n                this._strokeEnd(event);\n            }\n        };\n        this._handleTouchStart = (event) => {\n            event.preventDefault();\n            if (event.targetTouches.length === 1) {\n                const touch = event.changedTouches[0];\n                this._strokeBegin(touch);\n            }\n        };\n        this._handleTouchMove = (event) => {\n            event.preventDefault();\n            const touch = event.targetTouches[0];\n            this._strokeMoveUpdate(touch);\n        };\n        this._handleTouchEnd = (event) => {\n            const wasCanvasTouched = event.target === this.canvas;\n            if (wasCanvasTouched) {\n                event.preventDefault();\n                const touch = event.changedTouches[0];\n                this._strokeEnd(touch);\n            }\n        };\n        this.velocityFilterWeight = options.velocityFilterWeight || 0.7;\n        this.minWidth = options.minWidth || 0.5;\n        this.maxWidth = options.maxWidth || 2.5;\n        this.throttle = ('throttle' in options ? options.throttle : 16);\n        this.minDistance = ('minDistance' in options\n            ? options.minDistance\n            : 5);\n        this.dotSize =\n            options.dotSize ||\n                function dotSize() {\n                    return (this.minWidth + this.maxWidth) / 2;\n                };\n        this.penColor = options.penColor || 'black';\n        this.backgroundColor = options.backgroundColor || 'rgba(0,0,0,0)';\n        this.onBegin = options.onBegin;\n        this.onEnd = options.onEnd;\n        this._strokeMoveUpdate = this.throttle\n            ? throttle(SignaturePad.prototype._strokeUpdate, this.throttle)\n            : SignaturePad.prototype._strokeUpdate;\n        this._ctx = canvas.getContext('2d');\n        this.clear();\n        this.on();\n    }\n    clear() {\n        const { _ctx: ctx, canvas } = this;\n        ctx.fillStyle = this.backgroundColor;\n        ctx.clearRect(0, 0, canvas.width, canvas.height);\n        ctx.fillRect(0, 0, canvas.width, canvas.height);\n        this._data = [];\n        this._reset();\n        this._isEmpty = true;\n    }\n    fromDataURL(dataUrl, options = {}, callback) {\n        const image = new Image();\n        const ratio = options.ratio || window.devicePixelRatio || 1;\n        const width = options.width || this.canvas.width / ratio;\n        const height = options.height || this.canvas.height / ratio;\n        this._reset();\n        image.onload = () => {\n            this._ctx.drawImage(image, 0, 0, width, height);\n            if (callback) {\n                callback();\n            }\n        };\n        image.onerror = (error) => {\n            if (callback) {\n                callback(error);\n            }\n        };\n        image.src = dataUrl;\n        this._isEmpty = false;\n    }\n    toDataURL(type = 'image/png', encoderOptions) {\n        switch (type) {\n            case 'image/svg+xml':\n                return this._toSVG();\n            default:\n                return this.canvas.toDataURL(type, encoderOptions);\n        }\n    }\n    on() {\n        this.canvas.style.touchAction = 'none';\n        this.canvas.style.msTouchAction = 'none';\n        if (window.PointerEvent) {\n            this._handlePointerEvents();\n        }\n        else {\n            this._handleMouseEvents();\n            if ('ontouchstart' in window) {\n                this._handleTouchEvents();\n            }\n        }\n    }\n    off() {\n        this.canvas.style.touchAction = 'auto';\n        this.canvas.style.msTouchAction = 'auto';\n        this.canvas.removeEventListener('pointerdown', this._handleMouseDown);\n        this.canvas.removeEventListener('pointermove', this._handleMouseMove);\n        document.removeEventListener('pointerup', this._handleMouseUp);\n        this.canvas.removeEventListener('mousedown', this._handleMouseDown);\n        this.canvas.removeEventListener('mousemove', this._handleMouseMove);\n        document.removeEventListener('mouseup', this._handleMouseUp);\n        this.canvas.removeEventListener('touchstart', this._handleTouchStart);\n        this.canvas.removeEventListener('touchmove', this._handleTouchMove);\n        this.canvas.removeEventListener('touchend', this._handleTouchEnd);\n    }\n    isEmpty() {\n        return this._isEmpty;\n    }\n    fromData(pointGroups) {\n        this.clear();\n        this._fromData(pointGroups, ({ color, curve }) => this._drawCurve({ color, curve }), ({ color, point }) => this._drawDot({ color, point }));\n        this._data = pointGroups;\n    }\n    toData() {\n        return this._data;\n    }\n    _strokeBegin(event) {\n        const newPointGroup = {\n            color: this.penColor,\n            points: [],\n        };\n        if (typeof this.onBegin === 'function') {\n            this.onBegin(event);\n        }\n        this._data.push(newPointGroup);\n        this._reset();\n        this._strokeUpdate(event);\n    }\n    _strokeUpdate(event) {\n        if (this._data.length === 0) {\n            this._strokeBegin(event);\n            return;\n        }\n        const x = event.clientX;\n        const y = event.clientY;\n        const point = this._createPoint(x, y);\n        const lastPointGroup = this._data[this._data.length - 1];\n        const lastPoints = lastPointGroup.points;\n        const lastPoint = lastPoints.length > 0 && lastPoints[lastPoints.length - 1];\n        const isLastPointTooClose = lastPoint\n            ? point.distanceTo(lastPoint) <= this.minDistance\n            : false;\n        const color = lastPointGroup.color;\n        if (!lastPoint || !(lastPoint && isLastPointTooClose)) {\n            const curve = this._addPoint(point);\n            if (!lastPoint) {\n                this._drawDot({ color, point });\n            }\n            else if (curve) {\n                this._drawCurve({ color, curve });\n            }\n            lastPoints.push({\n                time: point.time,\n                x: point.x,\n                y: point.y,\n            });\n        }\n    }\n    _strokeEnd(event) {\n        this._strokeUpdate(event);\n        if (typeof this.onEnd === 'function') {\n            this.onEnd(event);\n        }\n    }\n    _handlePointerEvents() {\n        this._mouseButtonDown = false;\n        this.canvas.addEventListener('pointerdown', this._handleMouseDown);\n        this.canvas.addEventListener('pointermove', this._handleMouseMove);\n        document.addEventListener('pointerup', this._handleMouseUp);\n    }\n    _handleMouseEvents() {\n        this._mouseButtonDown = false;\n        this.canvas.addEventListener('mousedown', this._handleMouseDown);\n        this.canvas.addEventListener('mousemove', this._handleMouseMove);\n        document.addEventListener('mouseup', this._handleMouseUp);\n    }\n    _handleTouchEvents() {\n        this.canvas.addEventListener('touchstart', this._handleTouchStart);\n        this.canvas.addEventListener('touchmove', this._handleTouchMove);\n        this.canvas.addEventListener('touchend', this._handleTouchEnd);\n    }\n    _reset() {\n        this._lastPoints = [];\n        this._lastVelocity = 0;\n        this._lastWidth = (this.minWidth + this.maxWidth) / 2;\n        this._ctx.fillStyle = this.penColor;\n    }\n    _createPoint(x, y) {\n        const rect = this.canvas.getBoundingClientRect();\n        return new Point(x - rect.left, y - rect.top, new Date().getTime());\n    }\n    _addPoint(point) {\n        const { _lastPoints } = this;\n        _lastPoints.push(point);\n        if (_lastPoints.length > 2) {\n            if (_lastPoints.length === 3) {\n                _lastPoints.unshift(_lastPoints[0]);\n            }\n            const widths = this._calculateCurveWidths(_lastPoints[1], _lastPoints[2]);\n            const curve = Bezier.fromPoints(_lastPoints, widths);\n            _lastPoints.shift();\n            return curve;\n        }\n        return null;\n    }\n    _calculateCurveWidths(startPoint, endPoint) {\n        const velocity = this.velocityFilterWeight * endPoint.velocityFrom(startPoint) +\n            (1 - this.velocityFilterWeight) * this._lastVelocity;\n        const newWidth = this._strokeWidth(velocity);\n        const widths = {\n            end: newWidth,\n            start: this._lastWidth,\n        };\n        this._lastVelocity = velocity;\n        this._lastWidth = newWidth;\n        return widths;\n    }\n    _strokeWidth(velocity) {\n        return Math.max(this.maxWidth / (velocity + 1), this.minWidth);\n    }\n    _drawCurveSegment(x, y, width) {\n        const ctx = this._ctx;\n        ctx.moveTo(x, y);\n        ctx.arc(x, y, width, 0, 2 * Math.PI, false);\n        this._isEmpty = false;\n    }\n    _drawCurve({ color, curve }) {\n        const ctx = this._ctx;\n        const widthDelta = curve.endWidth - curve.startWidth;\n        const drawSteps = Math.floor(curve.length()) * 2;\n        ctx.beginPath();\n        ctx.fillStyle = color;\n        for (let i = 0; i < drawSteps; i += 1) {\n            const t = i / drawSteps;\n            const tt = t * t;\n            const ttt = tt * t;\n            const u = 1 - t;\n            const uu = u * u;\n            const uuu = uu * u;\n            let x = uuu * curve.startPoint.x;\n            x += 3 * uu * t * curve.control1.x;\n            x += 3 * u * tt * curve.control2.x;\n            x += ttt * curve.endPoint.x;\n            let y = uuu * curve.startPoint.y;\n            y += 3 * uu * t * curve.control1.y;\n            y += 3 * u * tt * curve.control2.y;\n            y += ttt * curve.endPoint.y;\n            const width = Math.min(curve.startWidth + ttt * widthDelta, this.maxWidth);\n            this._drawCurveSegment(x, y, width);\n        }\n        ctx.closePath();\n        ctx.fill();\n    }\n    _drawDot({ color, point, }) {\n        const ctx = this._ctx;\n        const width = typeof this.dotSize === 'function' ? this.dotSize() : this.dotSize;\n        ctx.beginPath();\n        this._drawCurveSegment(point.x, point.y, width);\n        ctx.closePath();\n        ctx.fillStyle = color;\n        ctx.fill();\n    }\n    _fromData(pointGroups, drawCurve, drawDot) {\n        for (const group of pointGroups) {\n            const { color, points } = group;\n            if (points.length > 1) {\n                for (let j = 0; j < points.length; j += 1) {\n                    const basicPoint = points[j];\n                    const point = new Point(basicPoint.x, basicPoint.y, basicPoint.time);\n                    this.penColor = color;\n                    if (j === 0) {\n                        this._reset();\n                    }\n                    const curve = this._addPoint(point);\n                    if (curve) {\n                        drawCurve({ color, curve });\n                    }\n                }\n            }\n            else {\n                this._reset();\n                drawDot({\n                    color,\n                    point: points[0],\n                });\n            }\n        }\n    }\n    _toSVG() {\n        const pointGroups = this._data;\n        const ratio = Math.max(window.devicePixelRatio || 1, 1);\n        const minX = 0;\n        const minY = 0;\n        const maxX = this.canvas.width / ratio;\n        const maxY = this.canvas.height / ratio;\n        const svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n        svg.setAttribute('width', this.canvas.width.toString());\n        svg.setAttribute('height', this.canvas.height.toString());\n        this._fromData(pointGroups, ({ color, curve }) => {\n            const path = document.createElement('path');\n            if (!isNaN(curve.control1.x) &&\n                !isNaN(curve.control1.y) &&\n                !isNaN(curve.control2.x) &&\n                !isNaN(curve.control2.y)) {\n                const attr = `M ${curve.startPoint.x.toFixed(3)},${curve.startPoint.y.toFixed(3)} ` +\n                    `C ${curve.control1.x.toFixed(3)},${curve.control1.y.toFixed(3)} ` +\n                    `${curve.control2.x.toFixed(3)},${curve.control2.y.toFixed(3)} ` +\n                    `${curve.endPoint.x.toFixed(3)},${curve.endPoint.y.toFixed(3)}`;\n                path.setAttribute('d', attr);\n                path.setAttribute('stroke-width', (curve.endWidth * 2.25).toFixed(3));\n                path.setAttribute('stroke', color);\n                path.setAttribute('fill', 'none');\n                path.setAttribute('stroke-linecap', 'round');\n                svg.appendChild(path);\n            }\n        }, ({ color, point }) => {\n            const circle = document.createElement('circle');\n            const dotSize = typeof this.dotSize === 'function' ? this.dotSize() : this.dotSize;\n            circle.setAttribute('r', dotSize.toString());\n            circle.setAttribute('cx', point.x.toString());\n            circle.setAttribute('cy', point.y.toString());\n            circle.setAttribute('fill', color);\n            svg.appendChild(circle);\n        });\n        const prefix = 'data:image/svg+xml;base64,';\n        const header = '<svg' +\n            ' xmlns=\"http://www.w3.org/2000/svg\"' +\n            ' xmlns:xlink=\"http://www.w3.org/1999/xlink\"' +\n            ` viewBox=\"${minX} ${minY} ${maxX} ${maxY}\"` +\n            ` width=\"${maxX}\"` +\n            ` height=\"${maxY}\"` +\n            '>';\n        let body = svg.innerHTML;\n        if (body === undefined) {\n            const dummy = document.createElement('dummy');\n            const nodes = svg.childNodes;\n            dummy.innerHTML = '';\n            for (let i = 0; i < nodes.length; i += 1) {\n                dummy.appendChild(nodes[i].cloneNode(true));\n            }\n            body = dummy.innerHTML;\n        }\n        const footer = '</svg>';\n        const data = header + body + footer;\n        return prefix + btoa(data);\n    }\n}\n\nexport default SignaturePad;\n//# sourceMappingURL=signature_pad.js.map\n","// Register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\nvar isLocalhost = function () { return Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n); }\n\nvar waitWindowLoad\n// https://github.com/yyx990803/register-service-worker/pull/33#discussion_r394181861\nif (typeof window !== 'undefined') {\n  // Typically, a browser that supports `serviceWorker` should also have supported\n  // `Promise`. But as this package can be used in environments without service\n  // worker support (in that case it would do nothing), there's a chance that\n  // `Promise` does not exist. So we must check for its existence first.\n  if (typeof Promise !== 'undefined') {\n    waitWindowLoad = new Promise(function (resolve) { return window.addEventListener('load', resolve); })\n  } else {\n    waitWindowLoad = { then: function (cb) { return window.addEventListener('load', cb); } }\n  }\n}\n\nexport function register (swUrl, hooks) {\n  if ( hooks === void 0 ) hooks = {};\n\n  var registrationOptions = hooks.registrationOptions; if ( registrationOptions === void 0 ) registrationOptions = {};\n  delete hooks.registrationOptions\n\n  var emit = function (hook) {\n    var args = [], len = arguments.length - 1;\n    while ( len-- > 0 ) args[ len ] = arguments[ len + 1 ];\n\n    if (hooks && hooks[hook]) {\n      hooks[hook].apply(hooks, args)\n    }\n  }\n\n  if ('serviceWorker' in navigator) {\n    waitWindowLoad.then(function () {\n      if (isLocalhost()) {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, emit, registrationOptions)\n        navigator.serviceWorker.ready.then(function (registration) {\n          emit('ready', registration)\n        }).catch(function (error) { return handleError(emit, error); })\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl, emit, registrationOptions)\n        navigator.serviceWorker.ready.then(function (registration) {\n          emit('ready', registration)\n        }).catch(function (error) { return handleError(emit, error); })\n      }\n    })\n  }\n}\n\nfunction handleError (emit, error) {\n  if (!navigator.onLine) {\n    emit('offline')\n  }\n  emit('error', error)\n}\n\nfunction registerValidSW (swUrl, emit, registrationOptions) {\n  navigator.serviceWorker\n    .register(swUrl, registrationOptions)\n    .then(function (registration) {\n      emit('registered', registration)\n      if (registration.waiting) {\n        emit('updated', registration)\n        return\n      }\n      registration.onupdatefound = function () {\n        emit('updatefound', registration)\n        var installingWorker = registration.installing\n        installingWorker.onstatechange = function () {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              emit('updated', registration)\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              emit('cached', registration)\n            }\n          }\n        }\n      }\n    })\n    .catch(function (error) { return handleError(emit, error); })\n}\n\nfunction checkValidServiceWorker (swUrl, emit, registrationOptions) {\n  // Check if the service worker can be found.\n  fetch(swUrl)\n    .then(function (response) {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (response.status === 404) {\n        // No service worker found.\n        emit('error', new Error((\"Service worker not found at \" + swUrl)))\n        unregister()\n      } else if (response.headers.get('content-type').indexOf('javascript') === -1) {\n        emit('error', new Error(\n          \"Expected \" + swUrl + \" to have javascript content-type, \" +\n          \"but received \" + (response.headers.get('content-type'))))\n        unregister()\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, emit, registrationOptions)\n      }\n    })\n    .catch(function (error) { return handleError(emit, error); })\n}\n\nexport function unregister () {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(function (registration) {\n      registration.unregister()\n    }).catch(function (error) { return handleError(emit, error); })\n  }\n}\n","(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n  typeof define === 'function' && define.amd ? define(['exports'], factory) :\n  (global = global || self, factory(global.idb = {}));\n}(this, function (exports) { 'use strict';\n\n  function toArray(arr) {\n    return Array.prototype.slice.call(arr);\n  }\n\n  function promisifyRequest(request) {\n    return new Promise(function(resolve, reject) {\n      request.onsuccess = function() {\n        resolve(request.result);\n      };\n\n      request.onerror = function() {\n        reject(request.error);\n      };\n    });\n  }\n\n  function promisifyRequestCall(obj, method, args) {\n    var request;\n    var p = new Promise(function(resolve, reject) {\n      request = obj[method].apply(obj, args);\n      promisifyRequest(request).then(resolve, reject);\n    });\n\n    p.request = request;\n    return p;\n  }\n\n  function promisifyCursorRequestCall(obj, method, args) {\n    var p = promisifyRequestCall(obj, method, args);\n    return p.then(function(value) {\n      if (!value) return;\n      return new Cursor(value, p.request);\n    });\n  }\n\n  function proxyProperties(ProxyClass, targetProp, properties) {\n    properties.forEach(function(prop) {\n      Object.defineProperty(ProxyClass.prototype, prop, {\n        get: function() {\n          return this[targetProp][prop];\n        },\n        set: function(val) {\n          this[targetProp][prop] = val;\n        }\n      });\n    });\n  }\n\n  function proxyRequestMethods(ProxyClass, targetProp, Constructor, properties) {\n    properties.forEach(function(prop) {\n      if (!(prop in Constructor.prototype)) return;\n      ProxyClass.prototype[prop] = function() {\n        return promisifyRequestCall(this[targetProp], prop, arguments);\n      };\n    });\n  }\n\n  function proxyMethods(ProxyClass, targetProp, Constructor, properties) {\n    properties.forEach(function(prop) {\n      if (!(prop in Constructor.prototype)) return;\n      ProxyClass.prototype[prop] = function() {\n        return this[targetProp][prop].apply(this[targetProp], arguments);\n      };\n    });\n  }\n\n  function proxyCursorRequestMethods(ProxyClass, targetProp, Constructor, properties) {\n    properties.forEach(function(prop) {\n      if (!(prop in Constructor.prototype)) return;\n      ProxyClass.prototype[prop] = function() {\n        return promisifyCursorRequestCall(this[targetProp], prop, arguments);\n      };\n    });\n  }\n\n  function Index(index) {\n    this._index = index;\n  }\n\n  proxyProperties(Index, '_index', [\n    'name',\n    'keyPath',\n    'multiEntry',\n    'unique'\n  ]);\n\n  proxyRequestMethods(Index, '_index', IDBIndex, [\n    'get',\n    'getKey',\n    'getAll',\n    'getAllKeys',\n    'count'\n  ]);\n\n  proxyCursorRequestMethods(Index, '_index', IDBIndex, [\n    'openCursor',\n    'openKeyCursor'\n  ]);\n\n  function Cursor(cursor, request) {\n    this._cursor = cursor;\n    this._request = request;\n  }\n\n  proxyProperties(Cursor, '_cursor', [\n    'direction',\n    'key',\n    'primaryKey',\n    'value'\n  ]);\n\n  proxyRequestMethods(Cursor, '_cursor', IDBCursor, [\n    'update',\n    'delete'\n  ]);\n\n  // proxy 'next' methods\n  ['advance', 'continue', 'continuePrimaryKey'].forEach(function(methodName) {\n    if (!(methodName in IDBCursor.prototype)) return;\n    Cursor.prototype[methodName] = function() {\n      var cursor = this;\n      var args = arguments;\n      return Promise.resolve().then(function() {\n        cursor._cursor[methodName].apply(cursor._cursor, args);\n        return promisifyRequest(cursor._request).then(function(value) {\n          if (!value) return;\n          return new Cursor(value, cursor._request);\n        });\n      });\n    };\n  });\n\n  function ObjectStore(store) {\n    this._store = store;\n  }\n\n  ObjectStore.prototype.createIndex = function() {\n    return new Index(this._store.createIndex.apply(this._store, arguments));\n  };\n\n  ObjectStore.prototype.index = function() {\n    return new Index(this._store.index.apply(this._store, arguments));\n  };\n\n  proxyProperties(ObjectStore, '_store', [\n    'name',\n    'keyPath',\n    'indexNames',\n    'autoIncrement'\n  ]);\n\n  proxyRequestMethods(ObjectStore, '_store', IDBObjectStore, [\n    'put',\n    'add',\n    'delete',\n    'clear',\n    'get',\n    'getAll',\n    'getKey',\n    'getAllKeys',\n    'count'\n  ]);\n\n  proxyCursorRequestMethods(ObjectStore, '_store', IDBObjectStore, [\n    'openCursor',\n    'openKeyCursor'\n  ]);\n\n  proxyMethods(ObjectStore, '_store', IDBObjectStore, [\n    'deleteIndex'\n  ]);\n\n  function Transaction(idbTransaction) {\n    this._tx = idbTransaction;\n    this.complete = new Promise(function(resolve, reject) {\n      idbTransaction.oncomplete = function() {\n        resolve();\n      };\n      idbTransaction.onerror = function() {\n        reject(idbTransaction.error);\n      };\n      idbTransaction.onabort = function() {\n        reject(idbTransaction.error);\n      };\n    });\n  }\n\n  Transaction.prototype.objectStore = function() {\n    return new ObjectStore(this._tx.objectStore.apply(this._tx, arguments));\n  };\n\n  proxyProperties(Transaction, '_tx', [\n    'objectStoreNames',\n    'mode'\n  ]);\n\n  proxyMethods(Transaction, '_tx', IDBTransaction, [\n    'abort'\n  ]);\n\n  function UpgradeDB(db, oldVersion, transaction) {\n    this._db = db;\n    this.oldVersion = oldVersion;\n    this.transaction = new Transaction(transaction);\n  }\n\n  UpgradeDB.prototype.createObjectStore = function() {\n    return new ObjectStore(this._db.createObjectStore.apply(this._db, arguments));\n  };\n\n  proxyProperties(UpgradeDB, '_db', [\n    'name',\n    'version',\n    'objectStoreNames'\n  ]);\n\n  proxyMethods(UpgradeDB, '_db', IDBDatabase, [\n    'deleteObjectStore',\n    'close'\n  ]);\n\n  function DB(db) {\n    this._db = db;\n  }\n\n  DB.prototype.transaction = function() {\n    return new Transaction(this._db.transaction.apply(this._db, arguments));\n  };\n\n  proxyProperties(DB, '_db', [\n    'name',\n    'version',\n    'objectStoreNames'\n  ]);\n\n  proxyMethods(DB, '_db', IDBDatabase, [\n    'close'\n  ]);\n\n  // Add cursor iterators\n  // TODO: remove this once browsers do the right thing with promises\n  ['openCursor', 'openKeyCursor'].forEach(function(funcName) {\n    [ObjectStore, Index].forEach(function(Constructor) {\n      // Don't create iterateKeyCursor if openKeyCursor doesn't exist.\n      if (!(funcName in Constructor.prototype)) return;\n\n      Constructor.prototype[funcName.replace('open', 'iterate')] = function() {\n        var args = toArray(arguments);\n        var callback = args[args.length - 1];\n        var nativeObject = this._store || this._index;\n        var request = nativeObject[funcName].apply(nativeObject, args.slice(0, -1));\n        request.onsuccess = function() {\n          callback(request.result);\n        };\n      };\n    });\n  });\n\n  // polyfill getAll\n  [Index, ObjectStore].forEach(function(Constructor) {\n    if (Constructor.prototype.getAll) return;\n    Constructor.prototype.getAll = function(query, count) {\n      var instance = this;\n      var items = [];\n\n      return new Promise(function(resolve) {\n        instance.iterateCursor(query, function(cursor) {\n          if (!cursor) {\n            resolve(items);\n            return;\n          }\n          items.push(cursor.value);\n\n          if (count !== undefined && items.length == count) {\n            resolve(items);\n            return;\n          }\n          cursor.continue();\n        });\n      });\n    };\n  });\n\n  function openDb(name, version, upgradeCallback) {\n    var p = promisifyRequestCall(indexedDB, 'open', [name, version]);\n    var request = p.request;\n\n    if (request) {\n      request.onupgradeneeded = function(event) {\n        if (upgradeCallback) {\n          upgradeCallback(new UpgradeDB(request.result, event.oldVersion, request.transaction));\n        }\n      };\n    }\n\n    return p.then(function(db) {\n      return new DB(db);\n    });\n  }\n\n  function deleteDb(name) {\n    return promisifyRequestCall(indexedDB, 'deleteDatabase', [name]);\n  }\n\n  exports.openDb = openDb;\n  exports.deleteDb = deleteDb;\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n}));\n","/**!\n * Sortable 1.10.2\n * @author\tRubaXa   <trash@rubaxa.org>\n * @author\towenm    <owen23355@gmail.com>\n * @license MIT\n */\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];\n\n    return arr2;\n  }\n}\n\nfunction _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nvar version = \"1.10.2\";\n\nfunction userAgent(pattern) {\n  if (typeof window !== 'undefined' && window.navigator) {\n    return !!\n    /*@__PURE__*/\n    navigator.userAgent.match(pattern);\n  }\n}\n\nvar IE11OrLess = userAgent(/(?:Trident.*rv[ :]?11\\.|msie|iemobile|Windows Phone)/i);\nvar Edge = userAgent(/Edge/i);\nvar FireFox = userAgent(/firefox/i);\nvar Safari = userAgent(/safari/i) && !userAgent(/chrome/i) && !userAgent(/android/i);\nvar IOS = userAgent(/iP(ad|od|hone)/i);\nvar ChromeForAndroid = userAgent(/chrome/i) && userAgent(/android/i);\n\nvar captureMode = {\n  capture: false,\n  passive: false\n};\n\nfunction on(el, event, fn) {\n  el.addEventListener(event, fn, !IE11OrLess && captureMode);\n}\n\nfunction off(el, event, fn) {\n  el.removeEventListener(event, fn, !IE11OrLess && captureMode);\n}\n\nfunction matches(\n/**HTMLElement*/\nel,\n/**String*/\nselector) {\n  if (!selector) return;\n  selector[0] === '>' && (selector = selector.substring(1));\n\n  if (el) {\n    try {\n      if (el.matches) {\n        return el.matches(selector);\n      } else if (el.msMatchesSelector) {\n        return el.msMatchesSelector(selector);\n      } else if (el.webkitMatchesSelector) {\n        return el.webkitMatchesSelector(selector);\n      }\n    } catch (_) {\n      return false;\n    }\n  }\n\n  return false;\n}\n\nfunction getParentOrHost(el) {\n  return el.host && el !== document && el.host.nodeType ? el.host : el.parentNode;\n}\n\nfunction closest(\n/**HTMLElement*/\nel,\n/**String*/\nselector,\n/**HTMLElement*/\nctx, includeCTX) {\n  if (el) {\n    ctx = ctx || document;\n\n    do {\n      if (selector != null && (selector[0] === '>' ? el.parentNode === ctx && matches(el, selector) : matches(el, selector)) || includeCTX && el === ctx) {\n        return el;\n      }\n\n      if (el === ctx) break;\n      /* jshint boss:true */\n    } while (el = getParentOrHost(el));\n  }\n\n  return null;\n}\n\nvar R_SPACE = /\\s+/g;\n\nfunction toggleClass(el, name, state) {\n  if (el && name) {\n    if (el.classList) {\n      el.classList[state ? 'add' : 'remove'](name);\n    } else {\n      var className = (' ' + el.className + ' ').replace(R_SPACE, ' ').replace(' ' + name + ' ', ' ');\n      el.className = (className + (state ? ' ' + name : '')).replace(R_SPACE, ' ');\n    }\n  }\n}\n\nfunction css(el, prop, val) {\n  var style = el && el.style;\n\n  if (style) {\n    if (val === void 0) {\n      if (document.defaultView && document.defaultView.getComputedStyle) {\n        val = document.defaultView.getComputedStyle(el, '');\n      } else if (el.currentStyle) {\n        val = el.currentStyle;\n      }\n\n      return prop === void 0 ? val : val[prop];\n    } else {\n      if (!(prop in style) && prop.indexOf('webkit') === -1) {\n        prop = '-webkit-' + prop;\n      }\n\n      style[prop] = val + (typeof val === 'string' ? '' : 'px');\n    }\n  }\n}\n\nfunction matrix(el, selfOnly) {\n  var appliedTransforms = '';\n\n  if (typeof el === 'string') {\n    appliedTransforms = el;\n  } else {\n    do {\n      var transform = css(el, 'transform');\n\n      if (transform && transform !== 'none') {\n        appliedTransforms = transform + ' ' + appliedTransforms;\n      }\n      /* jshint boss:true */\n\n    } while (!selfOnly && (el = el.parentNode));\n  }\n\n  var matrixFn = window.DOMMatrix || window.WebKitCSSMatrix || window.CSSMatrix || window.MSCSSMatrix;\n  /*jshint -W056 */\n\n  return matrixFn && new matrixFn(appliedTransforms);\n}\n\nfunction find(ctx, tagName, iterator) {\n  if (ctx) {\n    var list = ctx.getElementsByTagName(tagName),\n        i = 0,\n        n = list.length;\n\n    if (iterator) {\n      for (; i < n; i++) {\n        iterator(list[i], i);\n      }\n    }\n\n    return list;\n  }\n\n  return [];\n}\n\nfunction getWindowScrollingElement() {\n  var scrollingElement = document.scrollingElement;\n\n  if (scrollingElement) {\n    return scrollingElement;\n  } else {\n    return document.documentElement;\n  }\n}\n/**\r\n * Returns the \"bounding client rect\" of given element\r\n * @param  {HTMLElement} el                       The element whose boundingClientRect is wanted\r\n * @param  {[Boolean]} relativeToContainingBlock  Whether the rect should be relative to the containing block of (including) the container\r\n * @param  {[Boolean]} relativeToNonStaticParent  Whether the rect should be relative to the relative parent of (including) the contaienr\r\n * @param  {[Boolean]} undoScale                  Whether the container's scale() should be undone\r\n * @param  {[HTMLElement]} container              The parent the element will be placed in\r\n * @return {Object}                               The boundingClientRect of el, with specified adjustments\r\n */\n\n\nfunction getRect(el, relativeToContainingBlock, relativeToNonStaticParent, undoScale, container) {\n  if (!el.getBoundingClientRect && el !== window) return;\n  var elRect, top, left, bottom, right, height, width;\n\n  if (el !== window && el !== getWindowScrollingElement()) {\n    elRect = el.getBoundingClientRect();\n    top = elRect.top;\n    left = elRect.left;\n    bottom = elRect.bottom;\n    right = elRect.right;\n    height = elRect.height;\n    width = elRect.width;\n  } else {\n    top = 0;\n    left = 0;\n    bottom = window.innerHeight;\n    right = window.innerWidth;\n    height = window.innerHeight;\n    width = window.innerWidth;\n  }\n\n  if ((relativeToContainingBlock || relativeToNonStaticParent) && el !== window) {\n    // Adjust for translate()\n    container = container || el.parentNode; // solves #1123 (see: https://stackoverflow.com/a/37953806/6088312)\n    // Not needed on <= IE11\n\n    if (!IE11OrLess) {\n      do {\n        if (container && container.getBoundingClientRect && (css(container, 'transform') !== 'none' || relativeToNonStaticParent && css(container, 'position') !== 'static')) {\n          var containerRect = container.getBoundingClientRect(); // Set relative to edges of padding box of container\n\n          top -= containerRect.top + parseInt(css(container, 'border-top-width'));\n          left -= containerRect.left + parseInt(css(container, 'border-left-width'));\n          bottom = top + elRect.height;\n          right = left + elRect.width;\n          break;\n        }\n        /* jshint boss:true */\n\n      } while (container = container.parentNode);\n    }\n  }\n\n  if (undoScale && el !== window) {\n    // Adjust for scale()\n    var elMatrix = matrix(container || el),\n        scaleX = elMatrix && elMatrix.a,\n        scaleY = elMatrix && elMatrix.d;\n\n    if (elMatrix) {\n      top /= scaleY;\n      left /= scaleX;\n      width /= scaleX;\n      height /= scaleY;\n      bottom = top + height;\n      right = left + width;\n    }\n  }\n\n  return {\n    top: top,\n    left: left,\n    bottom: bottom,\n    right: right,\n    width: width,\n    height: height\n  };\n}\n/**\r\n * Checks if a side of an element is scrolled past a side of its parents\r\n * @param  {HTMLElement}  el           The element who's side being scrolled out of view is in question\r\n * @param  {String}       elSide       Side of the element in question ('top', 'left', 'right', 'bottom')\r\n * @param  {String}       parentSide   Side of the parent in question ('top', 'left', 'right', 'bottom')\r\n * @return {HTMLElement}               The parent scroll element that the el's side is scrolled past, or null if there is no such element\r\n */\n\n\nfunction isScrolledPast(el, elSide, parentSide) {\n  var parent = getParentAutoScrollElement(el, true),\n      elSideVal = getRect(el)[elSide];\n  /* jshint boss:true */\n\n  while (parent) {\n    var parentSideVal = getRect(parent)[parentSide],\n        visible = void 0;\n\n    if (parentSide === 'top' || parentSide === 'left') {\n      visible = elSideVal >= parentSideVal;\n    } else {\n      visible = elSideVal <= parentSideVal;\n    }\n\n    if (!visible) return parent;\n    if (parent === getWindowScrollingElement()) break;\n    parent = getParentAutoScrollElement(parent, false);\n  }\n\n  return false;\n}\n/**\r\n * Gets nth child of el, ignoring hidden children, sortable's elements (does not ignore clone if it's visible)\r\n * and non-draggable elements\r\n * @param  {HTMLElement} el       The parent element\r\n * @param  {Number} childNum      The index of the child\r\n * @param  {Object} options       Parent Sortable's options\r\n * @return {HTMLElement}          The child at index childNum, or null if not found\r\n */\n\n\nfunction getChild(el, childNum, options) {\n  var currentChild = 0,\n      i = 0,\n      children = el.children;\n\n  while (i < children.length) {\n    if (children[i].style.display !== 'none' && children[i] !== Sortable.ghost && children[i] !== Sortable.dragged && closest(children[i], options.draggable, el, false)) {\n      if (currentChild === childNum) {\n        return children[i];\n      }\n\n      currentChild++;\n    }\n\n    i++;\n  }\n\n  return null;\n}\n/**\r\n * Gets the last child in the el, ignoring ghostEl or invisible elements (clones)\r\n * @param  {HTMLElement} el       Parent element\r\n * @param  {selector} selector    Any other elements that should be ignored\r\n * @return {HTMLElement}          The last child, ignoring ghostEl\r\n */\n\n\nfunction lastChild(el, selector) {\n  var last = el.lastElementChild;\n\n  while (last && (last === Sortable.ghost || css(last, 'display') === 'none' || selector && !matches(last, selector))) {\n    last = last.previousElementSibling;\n  }\n\n  return last || null;\n}\n/**\r\n * Returns the index of an element within its parent for a selected set of\r\n * elements\r\n * @param  {HTMLElement} el\r\n * @param  {selector} selector\r\n * @return {number}\r\n */\n\n\nfunction index(el, selector) {\n  var index = 0;\n\n  if (!el || !el.parentNode) {\n    return -1;\n  }\n  /* jshint boss:true */\n\n\n  while (el = el.previousElementSibling) {\n    if (el.nodeName.toUpperCase() !== 'TEMPLATE' && el !== Sortable.clone && (!selector || matches(el, selector))) {\n      index++;\n    }\n  }\n\n  return index;\n}\n/**\r\n * Returns the scroll offset of the given element, added with all the scroll offsets of parent elements.\r\n * The value is returned in real pixels.\r\n * @param  {HTMLElement} el\r\n * @return {Array}             Offsets in the format of [left, top]\r\n */\n\n\nfunction getRelativeScrollOffset(el) {\n  var offsetLeft = 0,\n      offsetTop = 0,\n      winScroller = getWindowScrollingElement();\n\n  if (el) {\n    do {\n      var elMatrix = matrix(el),\n          scaleX = elMatrix.a,\n          scaleY = elMatrix.d;\n      offsetLeft += el.scrollLeft * scaleX;\n      offsetTop += el.scrollTop * scaleY;\n    } while (el !== winScroller && (el = el.parentNode));\n  }\n\n  return [offsetLeft, offsetTop];\n}\n/**\r\n * Returns the index of the object within the given array\r\n * @param  {Array} arr   Array that may or may not hold the object\r\n * @param  {Object} obj  An object that has a key-value pair unique to and identical to a key-value pair in the object you want to find\r\n * @return {Number}      The index of the object in the array, or -1\r\n */\n\n\nfunction indexOfObject(arr, obj) {\n  for (var i in arr) {\n    if (!arr.hasOwnProperty(i)) continue;\n\n    for (var key in obj) {\n      if (obj.hasOwnProperty(key) && obj[key] === arr[i][key]) return Number(i);\n    }\n  }\n\n  return -1;\n}\n\nfunction getParentAutoScrollElement(el, includeSelf) {\n  // skip to window\n  if (!el || !el.getBoundingClientRect) return getWindowScrollingElement();\n  var elem = el;\n  var gotSelf = false;\n\n  do {\n    // we don't need to get elem css if it isn't even overflowing in the first place (performance)\n    if (elem.clientWidth < elem.scrollWidth || elem.clientHeight < elem.scrollHeight) {\n      var elemCSS = css(elem);\n\n      if (elem.clientWidth < elem.scrollWidth && (elemCSS.overflowX == 'auto' || elemCSS.overflowX == 'scroll') || elem.clientHeight < elem.scrollHeight && (elemCSS.overflowY == 'auto' || elemCSS.overflowY == 'scroll')) {\n        if (!elem.getBoundingClientRect || elem === document.body) return getWindowScrollingElement();\n        if (gotSelf || includeSelf) return elem;\n        gotSelf = true;\n      }\n    }\n    /* jshint boss:true */\n\n  } while (elem = elem.parentNode);\n\n  return getWindowScrollingElement();\n}\n\nfunction extend(dst, src) {\n  if (dst && src) {\n    for (var key in src) {\n      if (src.hasOwnProperty(key)) {\n        dst[key] = src[key];\n      }\n    }\n  }\n\n  return dst;\n}\n\nfunction isRectEqual(rect1, rect2) {\n  return Math.round(rect1.top) === Math.round(rect2.top) && Math.round(rect1.left) === Math.round(rect2.left) && Math.round(rect1.height) === Math.round(rect2.height) && Math.round(rect1.width) === Math.round(rect2.width);\n}\n\nvar _throttleTimeout;\n\nfunction throttle(callback, ms) {\n  return function () {\n    if (!_throttleTimeout) {\n      var args = arguments,\n          _this = this;\n\n      if (args.length === 1) {\n        callback.call(_this, args[0]);\n      } else {\n        callback.apply(_this, args);\n      }\n\n      _throttleTimeout = setTimeout(function () {\n        _throttleTimeout = void 0;\n      }, ms);\n    }\n  };\n}\n\nfunction cancelThrottle() {\n  clearTimeout(_throttleTimeout);\n  _throttleTimeout = void 0;\n}\n\nfunction scrollBy(el, x, y) {\n  el.scrollLeft += x;\n  el.scrollTop += y;\n}\n\nfunction clone(el) {\n  var Polymer = window.Polymer;\n  var $ = window.jQuery || window.Zepto;\n\n  if (Polymer && Polymer.dom) {\n    return Polymer.dom(el).cloneNode(true);\n  } else if ($) {\n    return $(el).clone(true)[0];\n  } else {\n    return el.cloneNode(true);\n  }\n}\n\nfunction setRect(el, rect) {\n  css(el, 'position', 'absolute');\n  css(el, 'top', rect.top);\n  css(el, 'left', rect.left);\n  css(el, 'width', rect.width);\n  css(el, 'height', rect.height);\n}\n\nfunction unsetRect(el) {\n  css(el, 'position', '');\n  css(el, 'top', '');\n  css(el, 'left', '');\n  css(el, 'width', '');\n  css(el, 'height', '');\n}\n\nvar expando = 'Sortable' + new Date().getTime();\n\nfunction AnimationStateManager() {\n  var animationStates = [],\n      animationCallbackId;\n  return {\n    captureAnimationState: function captureAnimationState() {\n      animationStates = [];\n      if (!this.options.animation) return;\n      var children = [].slice.call(this.el.children);\n      children.forEach(function (child) {\n        if (css(child, 'display') === 'none' || child === Sortable.ghost) return;\n        animationStates.push({\n          target: child,\n          rect: getRect(child)\n        });\n\n        var fromRect = _objectSpread({}, animationStates[animationStates.length - 1].rect); // If animating: compensate for current animation\n\n\n        if (child.thisAnimationDuration) {\n          var childMatrix = matrix(child, true);\n\n          if (childMatrix) {\n            fromRect.top -= childMatrix.f;\n            fromRect.left -= childMatrix.e;\n          }\n        }\n\n        child.fromRect = fromRect;\n      });\n    },\n    addAnimationState: function addAnimationState(state) {\n      animationStates.push(state);\n    },\n    removeAnimationState: function removeAnimationState(target) {\n      animationStates.splice(indexOfObject(animationStates, {\n        target: target\n      }), 1);\n    },\n    animateAll: function animateAll(callback) {\n      var _this = this;\n\n      if (!this.options.animation) {\n        clearTimeout(animationCallbackId);\n        if (typeof callback === 'function') callback();\n        return;\n      }\n\n      var animating = false,\n          animationTime = 0;\n      animationStates.forEach(function (state) {\n        var time = 0,\n            target = state.target,\n            fromRect = target.fromRect,\n            toRect = getRect(target),\n            prevFromRect = target.prevFromRect,\n            prevToRect = target.prevToRect,\n            animatingRect = state.rect,\n            targetMatrix = matrix(target, true);\n\n        if (targetMatrix) {\n          // Compensate for current animation\n          toRect.top -= targetMatrix.f;\n          toRect.left -= targetMatrix.e;\n        }\n\n        target.toRect = toRect;\n\n        if (target.thisAnimationDuration) {\n          // Could also check if animatingRect is between fromRect and toRect\n          if (isRectEqual(prevFromRect, toRect) && !isRectEqual(fromRect, toRect) && // Make sure animatingRect is on line between toRect & fromRect\n          (animatingRect.top - toRect.top) / (animatingRect.left - toRect.left) === (fromRect.top - toRect.top) / (fromRect.left - toRect.left)) {\n            // If returning to same place as started from animation and on same axis\n            time = calculateRealTime(animatingRect, prevFromRect, prevToRect, _this.options);\n          }\n        } // if fromRect != toRect: animate\n\n\n        if (!isRectEqual(toRect, fromRect)) {\n          target.prevFromRect = fromRect;\n          target.prevToRect = toRect;\n\n          if (!time) {\n            time = _this.options.animation;\n          }\n\n          _this.animate(target, animatingRect, toRect, time);\n        }\n\n        if (time) {\n          animating = true;\n          animationTime = Math.max(animationTime, time);\n          clearTimeout(target.animationResetTimer);\n          target.animationResetTimer = setTimeout(function () {\n            target.animationTime = 0;\n            target.prevFromRect = null;\n            target.fromRect = null;\n            target.prevToRect = null;\n            target.thisAnimationDuration = null;\n          }, time);\n          target.thisAnimationDuration = time;\n        }\n      });\n      clearTimeout(animationCallbackId);\n\n      if (!animating) {\n        if (typeof callback === 'function') callback();\n      } else {\n        animationCallbackId = setTimeout(function () {\n          if (typeof callback === 'function') callback();\n        }, animationTime);\n      }\n\n      animationStates = [];\n    },\n    animate: function animate(target, currentRect, toRect, duration) {\n      if (duration) {\n        css(target, 'transition', '');\n        css(target, 'transform', '');\n        var elMatrix = matrix(this.el),\n            scaleX = elMatrix && elMatrix.a,\n            scaleY = elMatrix && elMatrix.d,\n            translateX = (currentRect.left - toRect.left) / (scaleX || 1),\n            translateY = (currentRect.top - toRect.top) / (scaleY || 1);\n        target.animatingX = !!translateX;\n        target.animatingY = !!translateY;\n        css(target, 'transform', 'translate3d(' + translateX + 'px,' + translateY + 'px,0)');\n        repaint(target); // repaint\n\n        css(target, 'transition', 'transform ' + duration + 'ms' + (this.options.easing ? ' ' + this.options.easing : ''));\n        css(target, 'transform', 'translate3d(0,0,0)');\n        typeof target.animated === 'number' && clearTimeout(target.animated);\n        target.animated = setTimeout(function () {\n          css(target, 'transition', '');\n          css(target, 'transform', '');\n          target.animated = false;\n          target.animatingX = false;\n          target.animatingY = false;\n        }, duration);\n      }\n    }\n  };\n}\n\nfunction repaint(target) {\n  return target.offsetWidth;\n}\n\nfunction calculateRealTime(animatingRect, fromRect, toRect, options) {\n  return Math.sqrt(Math.pow(fromRect.top - animatingRect.top, 2) + Math.pow(fromRect.left - animatingRect.left, 2)) / Math.sqrt(Math.pow(fromRect.top - toRect.top, 2) + Math.pow(fromRect.left - toRect.left, 2)) * options.animation;\n}\n\nvar plugins = [];\nvar defaults = {\n  initializeByDefault: true\n};\nvar PluginManager = {\n  mount: function mount(plugin) {\n    // Set default static properties\n    for (var option in defaults) {\n      if (defaults.hasOwnProperty(option) && !(option in plugin)) {\n        plugin[option] = defaults[option];\n      }\n    }\n\n    plugins.push(plugin);\n  },\n  pluginEvent: function pluginEvent(eventName, sortable, evt) {\n    var _this = this;\n\n    this.eventCanceled = false;\n\n    evt.cancel = function () {\n      _this.eventCanceled = true;\n    };\n\n    var eventNameGlobal = eventName + 'Global';\n    plugins.forEach(function (plugin) {\n      if (!sortable[plugin.pluginName]) return; // Fire global events if it exists in this sortable\n\n      if (sortable[plugin.pluginName][eventNameGlobal]) {\n        sortable[plugin.pluginName][eventNameGlobal](_objectSpread({\n          sortable: sortable\n        }, evt));\n      } // Only fire plugin event if plugin is enabled in this sortable,\n      // and plugin has event defined\n\n\n      if (sortable.options[plugin.pluginName] && sortable[plugin.pluginName][eventName]) {\n        sortable[plugin.pluginName][eventName](_objectSpread({\n          sortable: sortable\n        }, evt));\n      }\n    });\n  },\n  initializePlugins: function initializePlugins(sortable, el, defaults, options) {\n    plugins.forEach(function (plugin) {\n      var pluginName = plugin.pluginName;\n      if (!sortable.options[pluginName] && !plugin.initializeByDefault) return;\n      var initialized = new plugin(sortable, el, sortable.options);\n      initialized.sortable = sortable;\n      initialized.options = sortable.options;\n      sortable[pluginName] = initialized; // Add default options from plugin\n\n      _extends(defaults, initialized.defaults);\n    });\n\n    for (var option in sortable.options) {\n      if (!sortable.options.hasOwnProperty(option)) continue;\n      var modified = this.modifyOption(sortable, option, sortable.options[option]);\n\n      if (typeof modified !== 'undefined') {\n        sortable.options[option] = modified;\n      }\n    }\n  },\n  getEventProperties: function getEventProperties(name, sortable) {\n    var eventProperties = {};\n    plugins.forEach(function (plugin) {\n      if (typeof plugin.eventProperties !== 'function') return;\n\n      _extends(eventProperties, plugin.eventProperties.call(sortable[plugin.pluginName], name));\n    });\n    return eventProperties;\n  },\n  modifyOption: function modifyOption(sortable, name, value) {\n    var modifiedValue;\n    plugins.forEach(function (plugin) {\n      // Plugin must exist on the Sortable\n      if (!sortable[plugin.pluginName]) return; // If static option listener exists for this option, call in the context of the Sortable's instance of this plugin\n\n      if (plugin.optionListeners && typeof plugin.optionListeners[name] === 'function') {\n        modifiedValue = plugin.optionListeners[name].call(sortable[plugin.pluginName], value);\n      }\n    });\n    return modifiedValue;\n  }\n};\n\nfunction dispatchEvent(_ref) {\n  var sortable = _ref.sortable,\n      rootEl = _ref.rootEl,\n      name = _ref.name,\n      targetEl = _ref.targetEl,\n      cloneEl = _ref.cloneEl,\n      toEl = _ref.toEl,\n      fromEl = _ref.fromEl,\n      oldIndex = _ref.oldIndex,\n      newIndex = _ref.newIndex,\n      oldDraggableIndex = _ref.oldDraggableIndex,\n      newDraggableIndex = _ref.newDraggableIndex,\n      originalEvent = _ref.originalEvent,\n      putSortable = _ref.putSortable,\n      extraEventProperties = _ref.extraEventProperties;\n  sortable = sortable || rootEl && rootEl[expando];\n  if (!sortable) return;\n  var evt,\n      options = sortable.options,\n      onName = 'on' + name.charAt(0).toUpperCase() + name.substr(1); // Support for new CustomEvent feature\n\n  if (window.CustomEvent && !IE11OrLess && !Edge) {\n    evt = new CustomEvent(name, {\n      bubbles: true,\n      cancelable: true\n    });\n  } else {\n    evt = document.createEvent('Event');\n    evt.initEvent(name, true, true);\n  }\n\n  evt.to = toEl || rootEl;\n  evt.from = fromEl || rootEl;\n  evt.item = targetEl || rootEl;\n  evt.clone = cloneEl;\n  evt.oldIndex = oldIndex;\n  evt.newIndex = newIndex;\n  evt.oldDraggableIndex = oldDraggableIndex;\n  evt.newDraggableIndex = newDraggableIndex;\n  evt.originalEvent = originalEvent;\n  evt.pullMode = putSortable ? putSortable.lastPutMode : undefined;\n\n  var allEventProperties = _objectSpread({}, extraEventProperties, PluginManager.getEventProperties(name, sortable));\n\n  for (var option in allEventProperties) {\n    evt[option] = allEventProperties[option];\n  }\n\n  if (rootEl) {\n    rootEl.dispatchEvent(evt);\n  }\n\n  if (options[onName]) {\n    options[onName].call(sortable, evt);\n  }\n}\n\nvar pluginEvent = function pluginEvent(eventName, sortable) {\n  var _ref = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},\n      originalEvent = _ref.evt,\n      data = _objectWithoutProperties(_ref, [\"evt\"]);\n\n  PluginManager.pluginEvent.bind(Sortable)(eventName, sortable, _objectSpread({\n    dragEl: dragEl,\n    parentEl: parentEl,\n    ghostEl: ghostEl,\n    rootEl: rootEl,\n    nextEl: nextEl,\n    lastDownEl: lastDownEl,\n    cloneEl: cloneEl,\n    cloneHidden: cloneHidden,\n    dragStarted: moved,\n    putSortable: putSortable,\n    activeSortable: Sortable.active,\n    originalEvent: originalEvent,\n    oldIndex: oldIndex,\n    oldDraggableIndex: oldDraggableIndex,\n    newIndex: newIndex,\n    newDraggableIndex: newDraggableIndex,\n    hideGhostForTarget: _hideGhostForTarget,\n    unhideGhostForTarget: _unhideGhostForTarget,\n    cloneNowHidden: function cloneNowHidden() {\n      cloneHidden = true;\n    },\n    cloneNowShown: function cloneNowShown() {\n      cloneHidden = false;\n    },\n    dispatchSortableEvent: function dispatchSortableEvent(name) {\n      _dispatchEvent({\n        sortable: sortable,\n        name: name,\n        originalEvent: originalEvent\n      });\n    }\n  }, data));\n};\n\nfunction _dispatchEvent(info) {\n  dispatchEvent(_objectSpread({\n    putSortable: putSortable,\n    cloneEl: cloneEl,\n    targetEl: dragEl,\n    rootEl: rootEl,\n    oldIndex: oldIndex,\n    oldDraggableIndex: oldDraggableIndex,\n    newIndex: newIndex,\n    newDraggableIndex: newDraggableIndex\n  }, info));\n}\n\nvar dragEl,\n    parentEl,\n    ghostEl,\n    rootEl,\n    nextEl,\n    lastDownEl,\n    cloneEl,\n    cloneHidden,\n    oldIndex,\n    newIndex,\n    oldDraggableIndex,\n    newDraggableIndex,\n    activeGroup,\n    putSortable,\n    awaitingDragStarted = false,\n    ignoreNextClick = false,\n    sortables = [],\n    tapEvt,\n    touchEvt,\n    lastDx,\n    lastDy,\n    tapDistanceLeft,\n    tapDistanceTop,\n    moved,\n    lastTarget,\n    lastDirection,\n    pastFirstInvertThresh = false,\n    isCircumstantialInvert = false,\n    targetMoveDistance,\n    // For positioning ghost absolutely\nghostRelativeParent,\n    ghostRelativeParentInitialScroll = [],\n    // (left, top)\n_silent = false,\n    savedInputChecked = [];\n/** @const */\n\nvar documentExists = typeof document !== 'undefined',\n    PositionGhostAbsolutely = IOS,\n    CSSFloatProperty = Edge || IE11OrLess ? 'cssFloat' : 'float',\n    // This will not pass for IE9, because IE9 DnD only works on anchors\nsupportDraggable = documentExists && !ChromeForAndroid && !IOS && 'draggable' in document.createElement('div'),\n    supportCssPointerEvents = function () {\n  if (!documentExists) return; // false when <= IE11\n\n  if (IE11OrLess) {\n    return false;\n  }\n\n  var el = document.createElement('x');\n  el.style.cssText = 'pointer-events:auto';\n  return el.style.pointerEvents === 'auto';\n}(),\n    _detectDirection = function _detectDirection(el, options) {\n  var elCSS = css(el),\n      elWidth = parseInt(elCSS.width) - parseInt(elCSS.paddingLeft) - parseInt(elCSS.paddingRight) - parseInt(elCSS.borderLeftWidth) - parseInt(elCSS.borderRightWidth),\n      child1 = getChild(el, 0, options),\n      child2 = getChild(el, 1, options),\n      firstChildCSS = child1 && css(child1),\n      secondChildCSS = child2 && css(child2),\n      firstChildWidth = firstChildCSS && parseInt(firstChildCSS.marginLeft) + parseInt(firstChildCSS.marginRight) + getRect(child1).width,\n      secondChildWidth = secondChildCSS && parseInt(secondChildCSS.marginLeft) + parseInt(secondChildCSS.marginRight) + getRect(child2).width;\n\n  if (elCSS.display === 'flex') {\n    return elCSS.flexDirection === 'column' || elCSS.flexDirection === 'column-reverse' ? 'vertical' : 'horizontal';\n  }\n\n  if (elCSS.display === 'grid') {\n    return elCSS.gridTemplateColumns.split(' ').length <= 1 ? 'vertical' : 'horizontal';\n  }\n\n  if (child1 && firstChildCSS[\"float\"] && firstChildCSS[\"float\"] !== 'none') {\n    var touchingSideChild2 = firstChildCSS[\"float\"] === 'left' ? 'left' : 'right';\n    return child2 && (secondChildCSS.clear === 'both' || secondChildCSS.clear === touchingSideChild2) ? 'vertical' : 'horizontal';\n  }\n\n  return child1 && (firstChildCSS.display === 'block' || firstChildCSS.display === 'flex' || firstChildCSS.display === 'table' || firstChildCSS.display === 'grid' || firstChildWidth >= elWidth && elCSS[CSSFloatProperty] === 'none' || child2 && elCSS[CSSFloatProperty] === 'none' && firstChildWidth + secondChildWidth > elWidth) ? 'vertical' : 'horizontal';\n},\n    _dragElInRowColumn = function _dragElInRowColumn(dragRect, targetRect, vertical) {\n  var dragElS1Opp = vertical ? dragRect.left : dragRect.top,\n      dragElS2Opp = vertical ? dragRect.right : dragRect.bottom,\n      dragElOppLength = vertical ? dragRect.width : dragRect.height,\n      targetS1Opp = vertical ? targetRect.left : targetRect.top,\n      targetS2Opp = vertical ? targetRect.right : targetRect.bottom,\n      targetOppLength = vertical ? targetRect.width : targetRect.height;\n  return dragElS1Opp === targetS1Opp || dragElS2Opp === targetS2Opp || dragElS1Opp + dragElOppLength / 2 === targetS1Opp + targetOppLength / 2;\n},\n\n/**\n * Detects first nearest empty sortable to X and Y position using emptyInsertThreshold.\n * @param  {Number} x      X position\n * @param  {Number} y      Y position\n * @return {HTMLElement}   Element of the first found nearest Sortable\n */\n_detectNearestEmptySortable = function _detectNearestEmptySortable(x, y) {\n  var ret;\n  sortables.some(function (sortable) {\n    if (lastChild(sortable)) return;\n    var rect = getRect(sortable),\n        threshold = sortable[expando].options.emptyInsertThreshold,\n        insideHorizontally = x >= rect.left - threshold && x <= rect.right + threshold,\n        insideVertically = y >= rect.top - threshold && y <= rect.bottom + threshold;\n\n    if (threshold && insideHorizontally && insideVertically) {\n      return ret = sortable;\n    }\n  });\n  return ret;\n},\n    _prepareGroup = function _prepareGroup(options) {\n  function toFn(value, pull) {\n    return function (to, from, dragEl, evt) {\n      var sameGroup = to.options.group.name && from.options.group.name && to.options.group.name === from.options.group.name;\n\n      if (value == null && (pull || sameGroup)) {\n        // Default pull value\n        // Default pull and put value if same group\n        return true;\n      } else if (value == null || value === false) {\n        return false;\n      } else if (pull && value === 'clone') {\n        return value;\n      } else if (typeof value === 'function') {\n        return toFn(value(to, from, dragEl, evt), pull)(to, from, dragEl, evt);\n      } else {\n        var otherGroup = (pull ? to : from).options.group.name;\n        return value === true || typeof value === 'string' && value === otherGroup || value.join && value.indexOf(otherGroup) > -1;\n      }\n    };\n  }\n\n  var group = {};\n  var originalGroup = options.group;\n\n  if (!originalGroup || _typeof(originalGroup) != 'object') {\n    originalGroup = {\n      name: originalGroup\n    };\n  }\n\n  group.name = originalGroup.name;\n  group.checkPull = toFn(originalGroup.pull, true);\n  group.checkPut = toFn(originalGroup.put);\n  group.revertClone = originalGroup.revertClone;\n  options.group = group;\n},\n    _hideGhostForTarget = function _hideGhostForTarget() {\n  if (!supportCssPointerEvents && ghostEl) {\n    css(ghostEl, 'display', 'none');\n  }\n},\n    _unhideGhostForTarget = function _unhideGhostForTarget() {\n  if (!supportCssPointerEvents && ghostEl) {\n    css(ghostEl, 'display', '');\n  }\n}; // #1184 fix - Prevent click event on fallback if dragged but item not changed position\n\n\nif (documentExists) {\n  document.addEventListener('click', function (evt) {\n    if (ignoreNextClick) {\n      evt.preventDefault();\n      evt.stopPropagation && evt.stopPropagation();\n      evt.stopImmediatePropagation && evt.stopImmediatePropagation();\n      ignoreNextClick = false;\n      return false;\n    }\n  }, true);\n}\n\nvar nearestEmptyInsertDetectEvent = function nearestEmptyInsertDetectEvent(evt) {\n  if (dragEl) {\n    evt = evt.touches ? evt.touches[0] : evt;\n\n    var nearest = _detectNearestEmptySortable(evt.clientX, evt.clientY);\n\n    if (nearest) {\n      // Create imitation event\n      var event = {};\n\n      for (var i in evt) {\n        if (evt.hasOwnProperty(i)) {\n          event[i] = evt[i];\n        }\n      }\n\n      event.target = event.rootEl = nearest;\n      event.preventDefault = void 0;\n      event.stopPropagation = void 0;\n\n      nearest[expando]._onDragOver(event);\n    }\n  }\n};\n\nvar _checkOutsideTargetEl = function _checkOutsideTargetEl(evt) {\n  if (dragEl) {\n    dragEl.parentNode[expando]._isOutsideThisEl(evt.target);\n  }\n};\n/**\n * @class  Sortable\n * @param  {HTMLElement}  el\n * @param  {Object}       [options]\n */\n\n\nfunction Sortable(el, options) {\n  if (!(el && el.nodeType && el.nodeType === 1)) {\n    throw \"Sortable: `el` must be an HTMLElement, not \".concat({}.toString.call(el));\n  }\n\n  this.el = el; // root element\n\n  this.options = options = _extends({}, options); // Export instance\n\n  el[expando] = this;\n  var defaults = {\n    group: null,\n    sort: true,\n    disabled: false,\n    store: null,\n    handle: null,\n    draggable: /^[uo]l$/i.test(el.nodeName) ? '>li' : '>*',\n    swapThreshold: 1,\n    // percentage; 0 <= x <= 1\n    invertSwap: false,\n    // invert always\n    invertedSwapThreshold: null,\n    // will be set to same as swapThreshold if default\n    removeCloneOnHide: true,\n    direction: function direction() {\n      return _detectDirection(el, this.options);\n    },\n    ghostClass: 'sortable-ghost',\n    chosenClass: 'sortable-chosen',\n    dragClass: 'sortable-drag',\n    ignore: 'a, img',\n    filter: null,\n    preventOnFilter: true,\n    animation: 0,\n    easing: null,\n    setData: function setData(dataTransfer, dragEl) {\n      dataTransfer.setData('Text', dragEl.textContent);\n    },\n    dropBubble: false,\n    dragoverBubble: false,\n    dataIdAttr: 'data-id',\n    delay: 0,\n    delayOnTouchOnly: false,\n    touchStartThreshold: (Number.parseInt ? Number : window).parseInt(window.devicePixelRatio, 10) || 1,\n    forceFallback: false,\n    fallbackClass: 'sortable-fallback',\n    fallbackOnBody: false,\n    fallbackTolerance: 0,\n    fallbackOffset: {\n      x: 0,\n      y: 0\n    },\n    supportPointer: Sortable.supportPointer !== false && 'PointerEvent' in window,\n    emptyInsertThreshold: 5\n  };\n  PluginManager.initializePlugins(this, el, defaults); // Set default options\n\n  for (var name in defaults) {\n    !(name in options) && (options[name] = defaults[name]);\n  }\n\n  _prepareGroup(options); // Bind all private methods\n\n\n  for (var fn in this) {\n    if (fn.charAt(0) === '_' && typeof this[fn] === 'function') {\n      this[fn] = this[fn].bind(this);\n    }\n  } // Setup drag mode\n\n\n  this.nativeDraggable = options.forceFallback ? false : supportDraggable;\n\n  if (this.nativeDraggable) {\n    // Touch start threshold cannot be greater than the native dragstart threshold\n    this.options.touchStartThreshold = 1;\n  } // Bind events\n\n\n  if (options.supportPointer) {\n    on(el, 'pointerdown', this._onTapStart);\n  } else {\n    on(el, 'mousedown', this._onTapStart);\n    on(el, 'touchstart', this._onTapStart);\n  }\n\n  if (this.nativeDraggable) {\n    on(el, 'dragover', this);\n    on(el, 'dragenter', this);\n  }\n\n  sortables.push(this.el); // Restore sorting\n\n  options.store && options.store.get && this.sort(options.store.get(this) || []); // Add animation state manager\n\n  _extends(this, AnimationStateManager());\n}\n\nSortable.prototype =\n/** @lends Sortable.prototype */\n{\n  constructor: Sortable,\n  _isOutsideThisEl: function _isOutsideThisEl(target) {\n    if (!this.el.contains(target) && target !== this.el) {\n      lastTarget = null;\n    }\n  },\n  _getDirection: function _getDirection(evt, target) {\n    return typeof this.options.direction === 'function' ? this.options.direction.call(this, evt, target, dragEl) : this.options.direction;\n  },\n  _onTapStart: function _onTapStart(\n  /** Event|TouchEvent */\n  evt) {\n    if (!evt.cancelable) return;\n\n    var _this = this,\n        el = this.el,\n        options = this.options,\n        preventOnFilter = options.preventOnFilter,\n        type = evt.type,\n        touch = evt.touches && evt.touches[0] || evt.pointerType && evt.pointerType === 'touch' && evt,\n        target = (touch || evt).target,\n        originalTarget = evt.target.shadowRoot && (evt.path && evt.path[0] || evt.composedPath && evt.composedPath()[0]) || target,\n        filter = options.filter;\n\n    _saveInputCheckedState(el); // Don't trigger start event when an element is been dragged, otherwise the evt.oldindex always wrong when set option.group.\n\n\n    if (dragEl) {\n      return;\n    }\n\n    if (/mousedown|pointerdown/.test(type) && evt.button !== 0 || options.disabled) {\n      return; // only left button and enabled\n    } // cancel dnd if original target is content editable\n\n\n    if (originalTarget.isContentEditable) {\n      return;\n    }\n\n    target = closest(target, options.draggable, el, false);\n\n    if (target && target.animated) {\n      return;\n    }\n\n    if (lastDownEl === target) {\n      // Ignoring duplicate `down`\n      return;\n    } // Get the index of the dragged element within its parent\n\n\n    oldIndex = index(target);\n    oldDraggableIndex = index(target, options.draggable); // Check filter\n\n    if (typeof filter === 'function') {\n      if (filter.call(this, evt, target, this)) {\n        _dispatchEvent({\n          sortable: _this,\n          rootEl: originalTarget,\n          name: 'filter',\n          targetEl: target,\n          toEl: el,\n          fromEl: el\n        });\n\n        pluginEvent('filter', _this, {\n          evt: evt\n        });\n        preventOnFilter && evt.cancelable && evt.preventDefault();\n        return; // cancel dnd\n      }\n    } else if (filter) {\n      filter = filter.split(',').some(function (criteria) {\n        criteria = closest(originalTarget, criteria.trim(), el, false);\n\n        if (criteria) {\n          _dispatchEvent({\n            sortable: _this,\n            rootEl: criteria,\n            name: 'filter',\n            targetEl: target,\n            fromEl: el,\n            toEl: el\n          });\n\n          pluginEvent('filter', _this, {\n            evt: evt\n          });\n          return true;\n        }\n      });\n\n      if (filter) {\n        preventOnFilter && evt.cancelable && evt.preventDefault();\n        return; // cancel dnd\n      }\n    }\n\n    if (options.handle && !closest(originalTarget, options.handle, el, false)) {\n      return;\n    } // Prepare `dragstart`\n\n\n    this._prepareDragStart(evt, touch, target);\n  },\n  _prepareDragStart: function _prepareDragStart(\n  /** Event */\n  evt,\n  /** Touch */\n  touch,\n  /** HTMLElement */\n  target) {\n    var _this = this,\n        el = _this.el,\n        options = _this.options,\n        ownerDocument = el.ownerDocument,\n        dragStartFn;\n\n    if (target && !dragEl && target.parentNode === el) {\n      var dragRect = getRect(target);\n      rootEl = el;\n      dragEl = target;\n      parentEl = dragEl.parentNode;\n      nextEl = dragEl.nextSibling;\n      lastDownEl = target;\n      activeGroup = options.group;\n      Sortable.dragged = dragEl;\n      tapEvt = {\n        target: dragEl,\n        clientX: (touch || evt).clientX,\n        clientY: (touch || evt).clientY\n      };\n      tapDistanceLeft = tapEvt.clientX - dragRect.left;\n      tapDistanceTop = tapEvt.clientY - dragRect.top;\n      this._lastX = (touch || evt).clientX;\n      this._lastY = (touch || evt).clientY;\n      dragEl.style['will-change'] = 'all';\n\n      dragStartFn = function dragStartFn() {\n        pluginEvent('delayEnded', _this, {\n          evt: evt\n        });\n\n        if (Sortable.eventCanceled) {\n          _this._onDrop();\n\n          return;\n        } // Delayed drag has been triggered\n        // we can re-enable the events: touchmove/mousemove\n\n\n        _this._disableDelayedDragEvents();\n\n        if (!FireFox && _this.nativeDraggable) {\n          dragEl.draggable = true;\n        } // Bind the events: dragstart/dragend\n\n\n        _this._triggerDragStart(evt, touch); // Drag start event\n\n\n        _dispatchEvent({\n          sortable: _this,\n          name: 'choose',\n          originalEvent: evt\n        }); // Chosen item\n\n\n        toggleClass(dragEl, options.chosenClass, true);\n      }; // Disable \"draggable\"\n\n\n      options.ignore.split(',').forEach(function (criteria) {\n        find(dragEl, criteria.trim(), _disableDraggable);\n      });\n      on(ownerDocument, 'dragover', nearestEmptyInsertDetectEvent);\n      on(ownerDocument, 'mousemove', nearestEmptyInsertDetectEvent);\n      on(ownerDocument, 'touchmove', nearestEmptyInsertDetectEvent);\n      on(ownerDocument, 'mouseup', _this._onDrop);\n      on(ownerDocument, 'touchend', _this._onDrop);\n      on(ownerDocument, 'touchcancel', _this._onDrop); // Make dragEl draggable (must be before delay for FireFox)\n\n      if (FireFox && this.nativeDraggable) {\n        this.options.touchStartThreshold = 4;\n        dragEl.draggable = true;\n      }\n\n      pluginEvent('delayStart', this, {\n        evt: evt\n      }); // Delay is impossible for native DnD in Edge or IE\n\n      if (options.delay && (!options.delayOnTouchOnly || touch) && (!this.nativeDraggable || !(Edge || IE11OrLess))) {\n        if (Sortable.eventCanceled) {\n          this._onDrop();\n\n          return;\n        } // If the user moves the pointer or let go the click or touch\n        // before the delay has been reached:\n        // disable the delayed drag\n\n\n        on(ownerDocument, 'mouseup', _this._disableDelayedDrag);\n        on(ownerDocument, 'touchend', _this._disableDelayedDrag);\n        on(ownerDocument, 'touchcancel', _this._disableDelayedDrag);\n        on(ownerDocument, 'mousemove', _this._delayedDragTouchMoveHandler);\n        on(ownerDocument, 'touchmove', _this._delayedDragTouchMoveHandler);\n        options.supportPointer && on(ownerDocument, 'pointermove', _this._delayedDragTouchMoveHandler);\n        _this._dragStartTimer = setTimeout(dragStartFn, options.delay);\n      } else {\n        dragStartFn();\n      }\n    }\n  },\n  _delayedDragTouchMoveHandler: function _delayedDragTouchMoveHandler(\n  /** TouchEvent|PointerEvent **/\n  e) {\n    var touch = e.touches ? e.touches[0] : e;\n\n    if (Math.max(Math.abs(touch.clientX - this._lastX), Math.abs(touch.clientY - this._lastY)) >= Math.floor(this.options.touchStartThreshold / (this.nativeDraggable && window.devicePixelRatio || 1))) {\n      this._disableDelayedDrag();\n    }\n  },\n  _disableDelayedDrag: function _disableDelayedDrag() {\n    dragEl && _disableDraggable(dragEl);\n    clearTimeout(this._dragStartTimer);\n\n    this._disableDelayedDragEvents();\n  },\n  _disableDelayedDragEvents: function _disableDelayedDragEvents() {\n    var ownerDocument = this.el.ownerDocument;\n    off(ownerDocument, 'mouseup', this._disableDelayedDrag);\n    off(ownerDocument, 'touchend', this._disableDelayedDrag);\n    off(ownerDocument, 'touchcancel', this._disableDelayedDrag);\n    off(ownerDocument, 'mousemove', this._delayedDragTouchMoveHandler);\n    off(ownerDocument, 'touchmove', this._delayedDragTouchMoveHandler);\n    off(ownerDocument, 'pointermove', this._delayedDragTouchMoveHandler);\n  },\n  _triggerDragStart: function _triggerDragStart(\n  /** Event */\n  evt,\n  /** Touch */\n  touch) {\n    touch = touch || evt.pointerType == 'touch' && evt;\n\n    if (!this.nativeDraggable || touch) {\n      if (this.options.supportPointer) {\n        on(document, 'pointermove', this._onTouchMove);\n      } else if (touch) {\n        on(document, 'touchmove', this._onTouchMove);\n      } else {\n        on(document, 'mousemove', this._onTouchMove);\n      }\n    } else {\n      on(dragEl, 'dragend', this);\n      on(rootEl, 'dragstart', this._onDragStart);\n    }\n\n    try {\n      if (document.selection) {\n        // Timeout neccessary for IE9\n        _nextTick(function () {\n          document.selection.empty();\n        });\n      } else {\n        window.getSelection().removeAllRanges();\n      }\n    } catch (err) {}\n  },\n  _dragStarted: function _dragStarted(fallback, evt) {\n\n    awaitingDragStarted = false;\n\n    if (rootEl && dragEl) {\n      pluginEvent('dragStarted', this, {\n        evt: evt\n      });\n\n      if (this.nativeDraggable) {\n        on(document, 'dragover', _checkOutsideTargetEl);\n      }\n\n      var options = this.options; // Apply effect\n\n      !fallback && toggleClass(dragEl, options.dragClass, false);\n      toggleClass(dragEl, options.ghostClass, true);\n      Sortable.active = this;\n      fallback && this._appendGhost(); // Drag start event\n\n      _dispatchEvent({\n        sortable: this,\n        name: 'start',\n        originalEvent: evt\n      });\n    } else {\n      this._nulling();\n    }\n  },\n  _emulateDragOver: function _emulateDragOver() {\n    if (touchEvt) {\n      this._lastX = touchEvt.clientX;\n      this._lastY = touchEvt.clientY;\n\n      _hideGhostForTarget();\n\n      var target = document.elementFromPoint(touchEvt.clientX, touchEvt.clientY);\n      var parent = target;\n\n      while (target && target.shadowRoot) {\n        target = target.shadowRoot.elementFromPoint(touchEvt.clientX, touchEvt.clientY);\n        if (target === parent) break;\n        parent = target;\n      }\n\n      dragEl.parentNode[expando]._isOutsideThisEl(target);\n\n      if (parent) {\n        do {\n          if (parent[expando]) {\n            var inserted = void 0;\n            inserted = parent[expando]._onDragOver({\n              clientX: touchEvt.clientX,\n              clientY: touchEvt.clientY,\n              target: target,\n              rootEl: parent\n            });\n\n            if (inserted && !this.options.dragoverBubble) {\n              break;\n            }\n          }\n\n          target = parent; // store last element\n        }\n        /* jshint boss:true */\n        while (parent = parent.parentNode);\n      }\n\n      _unhideGhostForTarget();\n    }\n  },\n  _onTouchMove: function _onTouchMove(\n  /**TouchEvent*/\n  evt) {\n    if (tapEvt) {\n      var options = this.options,\n          fallbackTolerance = options.fallbackTolerance,\n          fallbackOffset = options.fallbackOffset,\n          touch = evt.touches ? evt.touches[0] : evt,\n          ghostMatrix = ghostEl && matrix(ghostEl, true),\n          scaleX = ghostEl && ghostMatrix && ghostMatrix.a,\n          scaleY = ghostEl && ghostMatrix && ghostMatrix.d,\n          relativeScrollOffset = PositionGhostAbsolutely && ghostRelativeParent && getRelativeScrollOffset(ghostRelativeParent),\n          dx = (touch.clientX - tapEvt.clientX + fallbackOffset.x) / (scaleX || 1) + (relativeScrollOffset ? relativeScrollOffset[0] - ghostRelativeParentInitialScroll[0] : 0) / (scaleX || 1),\n          dy = (touch.clientY - tapEvt.clientY + fallbackOffset.y) / (scaleY || 1) + (relativeScrollOffset ? relativeScrollOffset[1] - ghostRelativeParentInitialScroll[1] : 0) / (scaleY || 1); // only set the status to dragging, when we are actually dragging\n\n      if (!Sortable.active && !awaitingDragStarted) {\n        if (fallbackTolerance && Math.max(Math.abs(touch.clientX - this._lastX), Math.abs(touch.clientY - this._lastY)) < fallbackTolerance) {\n          return;\n        }\n\n        this._onDragStart(evt, true);\n      }\n\n      if (ghostEl) {\n        if (ghostMatrix) {\n          ghostMatrix.e += dx - (lastDx || 0);\n          ghostMatrix.f += dy - (lastDy || 0);\n        } else {\n          ghostMatrix = {\n            a: 1,\n            b: 0,\n            c: 0,\n            d: 1,\n            e: dx,\n            f: dy\n          };\n        }\n\n        var cssMatrix = \"matrix(\".concat(ghostMatrix.a, \",\").concat(ghostMatrix.b, \",\").concat(ghostMatrix.c, \",\").concat(ghostMatrix.d, \",\").concat(ghostMatrix.e, \",\").concat(ghostMatrix.f, \")\");\n        css(ghostEl, 'webkitTransform', cssMatrix);\n        css(ghostEl, 'mozTransform', cssMatrix);\n        css(ghostEl, 'msTransform', cssMatrix);\n        css(ghostEl, 'transform', cssMatrix);\n        lastDx = dx;\n        lastDy = dy;\n        touchEvt = touch;\n      }\n\n      evt.cancelable && evt.preventDefault();\n    }\n  },\n  _appendGhost: function _appendGhost() {\n    // Bug if using scale(): https://stackoverflow.com/questions/2637058\n    // Not being adjusted for\n    if (!ghostEl) {\n      var container = this.options.fallbackOnBody ? document.body : rootEl,\n          rect = getRect(dragEl, true, PositionGhostAbsolutely, true, container),\n          options = this.options; // Position absolutely\n\n      if (PositionGhostAbsolutely) {\n        // Get relatively positioned parent\n        ghostRelativeParent = container;\n\n        while (css(ghostRelativeParent, 'position') === 'static' && css(ghostRelativeParent, 'transform') === 'none' && ghostRelativeParent !== document) {\n          ghostRelativeParent = ghostRelativeParent.parentNode;\n        }\n\n        if (ghostRelativeParent !== document.body && ghostRelativeParent !== document.documentElement) {\n          if (ghostRelativeParent === document) ghostRelativeParent = getWindowScrollingElement();\n          rect.top += ghostRelativeParent.scrollTop;\n          rect.left += ghostRelativeParent.scrollLeft;\n        } else {\n          ghostRelativeParent = getWindowScrollingElement();\n        }\n\n        ghostRelativeParentInitialScroll = getRelativeScrollOffset(ghostRelativeParent);\n      }\n\n      ghostEl = dragEl.cloneNode(true);\n      toggleClass(ghostEl, options.ghostClass, false);\n      toggleClass(ghostEl, options.fallbackClass, true);\n      toggleClass(ghostEl, options.dragClass, true);\n      css(ghostEl, 'transition', '');\n      css(ghostEl, 'transform', '');\n      css(ghostEl, 'box-sizing', 'border-box');\n      css(ghostEl, 'margin', 0);\n      css(ghostEl, 'top', rect.top);\n      css(ghostEl, 'left', rect.left);\n      css(ghostEl, 'width', rect.width);\n      css(ghostEl, 'height', rect.height);\n      css(ghostEl, 'opacity', '0.8');\n      css(ghostEl, 'position', PositionGhostAbsolutely ? 'absolute' : 'fixed');\n      css(ghostEl, 'zIndex', '100000');\n      css(ghostEl, 'pointerEvents', 'none');\n      Sortable.ghost = ghostEl;\n      container.appendChild(ghostEl); // Set transform-origin\n\n      css(ghostEl, 'transform-origin', tapDistanceLeft / parseInt(ghostEl.style.width) * 100 + '% ' + tapDistanceTop / parseInt(ghostEl.style.height) * 100 + '%');\n    }\n  },\n  _onDragStart: function _onDragStart(\n  /**Event*/\n  evt,\n  /**boolean*/\n  fallback) {\n    var _this = this;\n\n    var dataTransfer = evt.dataTransfer;\n    var options = _this.options;\n    pluginEvent('dragStart', this, {\n      evt: evt\n    });\n\n    if (Sortable.eventCanceled) {\n      this._onDrop();\n\n      return;\n    }\n\n    pluginEvent('setupClone', this);\n\n    if (!Sortable.eventCanceled) {\n      cloneEl = clone(dragEl);\n      cloneEl.draggable = false;\n      cloneEl.style['will-change'] = '';\n\n      this._hideClone();\n\n      toggleClass(cloneEl, this.options.chosenClass, false);\n      Sortable.clone = cloneEl;\n    } // #1143: IFrame support workaround\n\n\n    _this.cloneId = _nextTick(function () {\n      pluginEvent('clone', _this);\n      if (Sortable.eventCanceled) return;\n\n      if (!_this.options.removeCloneOnHide) {\n        rootEl.insertBefore(cloneEl, dragEl);\n      }\n\n      _this._hideClone();\n\n      _dispatchEvent({\n        sortable: _this,\n        name: 'clone'\n      });\n    });\n    !fallback && toggleClass(dragEl, options.dragClass, true); // Set proper drop events\n\n    if (fallback) {\n      ignoreNextClick = true;\n      _this._loopId = setInterval(_this._emulateDragOver, 50);\n    } else {\n      // Undo what was set in _prepareDragStart before drag started\n      off(document, 'mouseup', _this._onDrop);\n      off(document, 'touchend', _this._onDrop);\n      off(document, 'touchcancel', _this._onDrop);\n\n      if (dataTransfer) {\n        dataTransfer.effectAllowed = 'move';\n        options.setData && options.setData.call(_this, dataTransfer, dragEl);\n      }\n\n      on(document, 'drop', _this); // #1276 fix:\n\n      css(dragEl, 'transform', 'translateZ(0)');\n    }\n\n    awaitingDragStarted = true;\n    _this._dragStartId = _nextTick(_this._dragStarted.bind(_this, fallback, evt));\n    on(document, 'selectstart', _this);\n    moved = true;\n\n    if (Safari) {\n      css(document.body, 'user-select', 'none');\n    }\n  },\n  // Returns true - if no further action is needed (either inserted or another condition)\n  _onDragOver: function _onDragOver(\n  /**Event*/\n  evt) {\n    var el = this.el,\n        target = evt.target,\n        dragRect,\n        targetRect,\n        revert,\n        options = this.options,\n        group = options.group,\n        activeSortable = Sortable.active,\n        isOwner = activeGroup === group,\n        canSort = options.sort,\n        fromSortable = putSortable || activeSortable,\n        vertical,\n        _this = this,\n        completedFired = false;\n\n    if (_silent) return;\n\n    function dragOverEvent(name, extra) {\n      pluginEvent(name, _this, _objectSpread({\n        evt: evt,\n        isOwner: isOwner,\n        axis: vertical ? 'vertical' : 'horizontal',\n        revert: revert,\n        dragRect: dragRect,\n        targetRect: targetRect,\n        canSort: canSort,\n        fromSortable: fromSortable,\n        target: target,\n        completed: completed,\n        onMove: function onMove(target, after) {\n          return _onMove(rootEl, el, dragEl, dragRect, target, getRect(target), evt, after);\n        },\n        changed: changed\n      }, extra));\n    } // Capture animation state\n\n\n    function capture() {\n      dragOverEvent('dragOverAnimationCapture');\n\n      _this.captureAnimationState();\n\n      if (_this !== fromSortable) {\n        fromSortable.captureAnimationState();\n      }\n    } // Return invocation when dragEl is inserted (or completed)\n\n\n    function completed(insertion) {\n      dragOverEvent('dragOverCompleted', {\n        insertion: insertion\n      });\n\n      if (insertion) {\n        // Clones must be hidden before folding animation to capture dragRectAbsolute properly\n        if (isOwner) {\n          activeSortable._hideClone();\n        } else {\n          activeSortable._showClone(_this);\n        }\n\n        if (_this !== fromSortable) {\n          // Set ghost class to new sortable's ghost class\n          toggleClass(dragEl, putSortable ? putSortable.options.ghostClass : activeSortable.options.ghostClass, false);\n          toggleClass(dragEl, options.ghostClass, true);\n        }\n\n        if (putSortable !== _this && _this !== Sortable.active) {\n          putSortable = _this;\n        } else if (_this === Sortable.active && putSortable) {\n          putSortable = null;\n        } // Animation\n\n\n        if (fromSortable === _this) {\n          _this._ignoreWhileAnimating = target;\n        }\n\n        _this.animateAll(function () {\n          dragOverEvent('dragOverAnimationComplete');\n          _this._ignoreWhileAnimating = null;\n        });\n\n        if (_this !== fromSortable) {\n          fromSortable.animateAll();\n          fromSortable._ignoreWhileAnimating = null;\n        }\n      } // Null lastTarget if it is not inside a previously swapped element\n\n\n      if (target === dragEl && !dragEl.animated || target === el && !target.animated) {\n        lastTarget = null;\n      } // no bubbling and not fallback\n\n\n      if (!options.dragoverBubble && !evt.rootEl && target !== document) {\n        dragEl.parentNode[expando]._isOutsideThisEl(evt.target); // Do not detect for empty insert if already inserted\n\n\n        !insertion && nearestEmptyInsertDetectEvent(evt);\n      }\n\n      !options.dragoverBubble && evt.stopPropagation && evt.stopPropagation();\n      return completedFired = true;\n    } // Call when dragEl has been inserted\n\n\n    function changed() {\n      newIndex = index(dragEl);\n      newDraggableIndex = index(dragEl, options.draggable);\n\n      _dispatchEvent({\n        sortable: _this,\n        name: 'change',\n        toEl: el,\n        newIndex: newIndex,\n        newDraggableIndex: newDraggableIndex,\n        originalEvent: evt\n      });\n    }\n\n    if (evt.preventDefault !== void 0) {\n      evt.cancelable && evt.preventDefault();\n    }\n\n    target = closest(target, options.draggable, el, true);\n    dragOverEvent('dragOver');\n    if (Sortable.eventCanceled) return completedFired;\n\n    if (dragEl.contains(evt.target) || target.animated && target.animatingX && target.animatingY || _this._ignoreWhileAnimating === target) {\n      return completed(false);\n    }\n\n    ignoreNextClick = false;\n\n    if (activeSortable && !options.disabled && (isOwner ? canSort || (revert = !rootEl.contains(dragEl)) // Reverting item into the original list\n    : putSortable === this || (this.lastPutMode = activeGroup.checkPull(this, activeSortable, dragEl, evt)) && group.checkPut(this, activeSortable, dragEl, evt))) {\n      vertical = this._getDirection(evt, target) === 'vertical';\n      dragRect = getRect(dragEl);\n      dragOverEvent('dragOverValid');\n      if (Sortable.eventCanceled) return completedFired;\n\n      if (revert) {\n        parentEl = rootEl; // actualization\n\n        capture();\n\n        this._hideClone();\n\n        dragOverEvent('revert');\n\n        if (!Sortable.eventCanceled) {\n          if (nextEl) {\n            rootEl.insertBefore(dragEl, nextEl);\n          } else {\n            rootEl.appendChild(dragEl);\n          }\n        }\n\n        return completed(true);\n      }\n\n      var elLastChild = lastChild(el, options.draggable);\n\n      if (!elLastChild || _ghostIsLast(evt, vertical, this) && !elLastChild.animated) {\n        // If already at end of list: Do not insert\n        if (elLastChild === dragEl) {\n          return completed(false);\n        } // assign target only if condition is true\n\n\n        if (elLastChild && el === evt.target) {\n          target = elLastChild;\n        }\n\n        if (target) {\n          targetRect = getRect(target);\n        }\n\n        if (_onMove(rootEl, el, dragEl, dragRect, target, targetRect, evt, !!target) !== false) {\n          capture();\n          el.appendChild(dragEl);\n          parentEl = el; // actualization\n\n          changed();\n          return completed(true);\n        }\n      } else if (target.parentNode === el) {\n        targetRect = getRect(target);\n        var direction = 0,\n            targetBeforeFirstSwap,\n            differentLevel = dragEl.parentNode !== el,\n            differentRowCol = !_dragElInRowColumn(dragEl.animated && dragEl.toRect || dragRect, target.animated && target.toRect || targetRect, vertical),\n            side1 = vertical ? 'top' : 'left',\n            scrolledPastTop = isScrolledPast(target, 'top', 'top') || isScrolledPast(dragEl, 'top', 'top'),\n            scrollBefore = scrolledPastTop ? scrolledPastTop.scrollTop : void 0;\n\n        if (lastTarget !== target) {\n          targetBeforeFirstSwap = targetRect[side1];\n          pastFirstInvertThresh = false;\n          isCircumstantialInvert = !differentRowCol && options.invertSwap || differentLevel;\n        }\n\n        direction = _getSwapDirection(evt, target, targetRect, vertical, differentRowCol ? 1 : options.swapThreshold, options.invertedSwapThreshold == null ? options.swapThreshold : options.invertedSwapThreshold, isCircumstantialInvert, lastTarget === target);\n        var sibling;\n\n        if (direction !== 0) {\n          // Check if target is beside dragEl in respective direction (ignoring hidden elements)\n          var dragIndex = index(dragEl);\n\n          do {\n            dragIndex -= direction;\n            sibling = parentEl.children[dragIndex];\n          } while (sibling && (css(sibling, 'display') === 'none' || sibling === ghostEl));\n        } // If dragEl is already beside target: Do not insert\n\n\n        if (direction === 0 || sibling === target) {\n          return completed(false);\n        }\n\n        lastTarget = target;\n        lastDirection = direction;\n        var nextSibling = target.nextElementSibling,\n            after = false;\n        after = direction === 1;\n\n        var moveVector = _onMove(rootEl, el, dragEl, dragRect, target, targetRect, evt, after);\n\n        if (moveVector !== false) {\n          if (moveVector === 1 || moveVector === -1) {\n            after = moveVector === 1;\n          }\n\n          _silent = true;\n          setTimeout(_unsilent, 30);\n          capture();\n\n          if (after && !nextSibling) {\n            el.appendChild(dragEl);\n          } else {\n            target.parentNode.insertBefore(dragEl, after ? nextSibling : target);\n          } // Undo chrome's scroll adjustment (has no effect on other browsers)\n\n\n          if (scrolledPastTop) {\n            scrollBy(scrolledPastTop, 0, scrollBefore - scrolledPastTop.scrollTop);\n          }\n\n          parentEl = dragEl.parentNode; // actualization\n          // must be done before animation\n\n          if (targetBeforeFirstSwap !== undefined && !isCircumstantialInvert) {\n            targetMoveDistance = Math.abs(targetBeforeFirstSwap - getRect(target)[side1]);\n          }\n\n          changed();\n          return completed(true);\n        }\n      }\n\n      if (el.contains(dragEl)) {\n        return completed(false);\n      }\n    }\n\n    return false;\n  },\n  _ignoreWhileAnimating: null,\n  _offMoveEvents: function _offMoveEvents() {\n    off(document, 'mousemove', this._onTouchMove);\n    off(document, 'touchmove', this._onTouchMove);\n    off(document, 'pointermove', this._onTouchMove);\n    off(document, 'dragover', nearestEmptyInsertDetectEvent);\n    off(document, 'mousemove', nearestEmptyInsertDetectEvent);\n    off(document, 'touchmove', nearestEmptyInsertDetectEvent);\n  },\n  _offUpEvents: function _offUpEvents() {\n    var ownerDocument = this.el.ownerDocument;\n    off(ownerDocument, 'mouseup', this._onDrop);\n    off(ownerDocument, 'touchend', this._onDrop);\n    off(ownerDocument, 'pointerup', this._onDrop);\n    off(ownerDocument, 'touchcancel', this._onDrop);\n    off(document, 'selectstart', this);\n  },\n  _onDrop: function _onDrop(\n  /**Event*/\n  evt) {\n    var el = this.el,\n        options = this.options; // Get the index of the dragged element within its parent\n\n    newIndex = index(dragEl);\n    newDraggableIndex = index(dragEl, options.draggable);\n    pluginEvent('drop', this, {\n      evt: evt\n    });\n    parentEl = dragEl && dragEl.parentNode; // Get again after plugin event\n\n    newIndex = index(dragEl);\n    newDraggableIndex = index(dragEl, options.draggable);\n\n    if (Sortable.eventCanceled) {\n      this._nulling();\n\n      return;\n    }\n\n    awaitingDragStarted = false;\n    isCircumstantialInvert = false;\n    pastFirstInvertThresh = false;\n    clearInterval(this._loopId);\n    clearTimeout(this._dragStartTimer);\n\n    _cancelNextTick(this.cloneId);\n\n    _cancelNextTick(this._dragStartId); // Unbind events\n\n\n    if (this.nativeDraggable) {\n      off(document, 'drop', this);\n      off(el, 'dragstart', this._onDragStart);\n    }\n\n    this._offMoveEvents();\n\n    this._offUpEvents();\n\n    if (Safari) {\n      css(document.body, 'user-select', '');\n    }\n\n    css(dragEl, 'transform', '');\n\n    if (evt) {\n      if (moved) {\n        evt.cancelable && evt.preventDefault();\n        !options.dropBubble && evt.stopPropagation();\n      }\n\n      ghostEl && ghostEl.parentNode && ghostEl.parentNode.removeChild(ghostEl);\n\n      if (rootEl === parentEl || putSortable && putSortable.lastPutMode !== 'clone') {\n        // Remove clone(s)\n        cloneEl && cloneEl.parentNode && cloneEl.parentNode.removeChild(cloneEl);\n      }\n\n      if (dragEl) {\n        if (this.nativeDraggable) {\n          off(dragEl, 'dragend', this);\n        }\n\n        _disableDraggable(dragEl);\n\n        dragEl.style['will-change'] = ''; // Remove classes\n        // ghostClass is added in dragStarted\n\n        if (moved && !awaitingDragStarted) {\n          toggleClass(dragEl, putSortable ? putSortable.options.ghostClass : this.options.ghostClass, false);\n        }\n\n        toggleClass(dragEl, this.options.chosenClass, false); // Drag stop event\n\n        _dispatchEvent({\n          sortable: this,\n          name: 'unchoose',\n          toEl: parentEl,\n          newIndex: null,\n          newDraggableIndex: null,\n          originalEvent: evt\n        });\n\n        if (rootEl !== parentEl) {\n          if (newIndex >= 0) {\n            // Add event\n            _dispatchEvent({\n              rootEl: parentEl,\n              name: 'add',\n              toEl: parentEl,\n              fromEl: rootEl,\n              originalEvent: evt\n            }); // Remove event\n\n\n            _dispatchEvent({\n              sortable: this,\n              name: 'remove',\n              toEl: parentEl,\n              originalEvent: evt\n            }); // drag from one list and drop into another\n\n\n            _dispatchEvent({\n              rootEl: parentEl,\n              name: 'sort',\n              toEl: parentEl,\n              fromEl: rootEl,\n              originalEvent: evt\n            });\n\n            _dispatchEvent({\n              sortable: this,\n              name: 'sort',\n              toEl: parentEl,\n              originalEvent: evt\n            });\n          }\n\n          putSortable && putSortable.save();\n        } else {\n          if (newIndex !== oldIndex) {\n            if (newIndex >= 0) {\n              // drag & drop within the same list\n              _dispatchEvent({\n                sortable: this,\n                name: 'update',\n                toEl: parentEl,\n                originalEvent: evt\n              });\n\n              _dispatchEvent({\n                sortable: this,\n                name: 'sort',\n                toEl: parentEl,\n                originalEvent: evt\n              });\n            }\n          }\n        }\n\n        if (Sortable.active) {\n          /* jshint eqnull:true */\n          if (newIndex == null || newIndex === -1) {\n            newIndex = oldIndex;\n            newDraggableIndex = oldDraggableIndex;\n          }\n\n          _dispatchEvent({\n            sortable: this,\n            name: 'end',\n            toEl: parentEl,\n            originalEvent: evt\n          }); // Save sorting\n\n\n          this.save();\n        }\n      }\n    }\n\n    this._nulling();\n  },\n  _nulling: function _nulling() {\n    pluginEvent('nulling', this);\n    rootEl = dragEl = parentEl = ghostEl = nextEl = cloneEl = lastDownEl = cloneHidden = tapEvt = touchEvt = moved = newIndex = newDraggableIndex = oldIndex = oldDraggableIndex = lastTarget = lastDirection = putSortable = activeGroup = Sortable.dragged = Sortable.ghost = Sortable.clone = Sortable.active = null;\n    savedInputChecked.forEach(function (el) {\n      el.checked = true;\n    });\n    savedInputChecked.length = lastDx = lastDy = 0;\n  },\n  handleEvent: function handleEvent(\n  /**Event*/\n  evt) {\n    switch (evt.type) {\n      case 'drop':\n      case 'dragend':\n        this._onDrop(evt);\n\n        break;\n\n      case 'dragenter':\n      case 'dragover':\n        if (dragEl) {\n          this._onDragOver(evt);\n\n          _globalDragOver(evt);\n        }\n\n        break;\n\n      case 'selectstart':\n        evt.preventDefault();\n        break;\n    }\n  },\n\n  /**\n   * Serializes the item into an array of string.\n   * @returns {String[]}\n   */\n  toArray: function toArray() {\n    var order = [],\n        el,\n        children = this.el.children,\n        i = 0,\n        n = children.length,\n        options = this.options;\n\n    for (; i < n; i++) {\n      el = children[i];\n\n      if (closest(el, options.draggable, this.el, false)) {\n        order.push(el.getAttribute(options.dataIdAttr) || _generateId(el));\n      }\n    }\n\n    return order;\n  },\n\n  /**\n   * Sorts the elements according to the array.\n   * @param  {String[]}  order  order of the items\n   */\n  sort: function sort(order) {\n    var items = {},\n        rootEl = this.el;\n    this.toArray().forEach(function (id, i) {\n      var el = rootEl.children[i];\n\n      if (closest(el, this.options.draggable, rootEl, false)) {\n        items[id] = el;\n      }\n    }, this);\n    order.forEach(function (id) {\n      if (items[id]) {\n        rootEl.removeChild(items[id]);\n        rootEl.appendChild(items[id]);\n      }\n    });\n  },\n\n  /**\n   * Save the current sorting\n   */\n  save: function save() {\n    var store = this.options.store;\n    store && store.set && store.set(this);\n  },\n\n  /**\n   * For each element in the set, get the first element that matches the selector by testing the element itself and traversing up through its ancestors in the DOM tree.\n   * @param   {HTMLElement}  el\n   * @param   {String}       [selector]  default: `options.draggable`\n   * @returns {HTMLElement|null}\n   */\n  closest: function closest$1(el, selector) {\n    return closest(el, selector || this.options.draggable, this.el, false);\n  },\n\n  /**\n   * Set/get option\n   * @param   {string} name\n   * @param   {*}      [value]\n   * @returns {*}\n   */\n  option: function option(name, value) {\n    var options = this.options;\n\n    if (value === void 0) {\n      return options[name];\n    } else {\n      var modifiedValue = PluginManager.modifyOption(this, name, value);\n\n      if (typeof modifiedValue !== 'undefined') {\n        options[name] = modifiedValue;\n      } else {\n        options[name] = value;\n      }\n\n      if (name === 'group') {\n        _prepareGroup(options);\n      }\n    }\n  },\n\n  /**\n   * Destroy\n   */\n  destroy: function destroy() {\n    pluginEvent('destroy', this);\n    var el = this.el;\n    el[expando] = null;\n    off(el, 'mousedown', this._onTapStart);\n    off(el, 'touchstart', this._onTapStart);\n    off(el, 'pointerdown', this._onTapStart);\n\n    if (this.nativeDraggable) {\n      off(el, 'dragover', this);\n      off(el, 'dragenter', this);\n    } // Remove draggable attributes\n\n\n    Array.prototype.forEach.call(el.querySelectorAll('[draggable]'), function (el) {\n      el.removeAttribute('draggable');\n    });\n\n    this._onDrop();\n\n    this._disableDelayedDragEvents();\n\n    sortables.splice(sortables.indexOf(this.el), 1);\n    this.el = el = null;\n  },\n  _hideClone: function _hideClone() {\n    if (!cloneHidden) {\n      pluginEvent('hideClone', this);\n      if (Sortable.eventCanceled) return;\n      css(cloneEl, 'display', 'none');\n\n      if (this.options.removeCloneOnHide && cloneEl.parentNode) {\n        cloneEl.parentNode.removeChild(cloneEl);\n      }\n\n      cloneHidden = true;\n    }\n  },\n  _showClone: function _showClone(putSortable) {\n    if (putSortable.lastPutMode !== 'clone') {\n      this._hideClone();\n\n      return;\n    }\n\n    if (cloneHidden) {\n      pluginEvent('showClone', this);\n      if (Sortable.eventCanceled) return; // show clone at dragEl or original position\n\n      if (rootEl.contains(dragEl) && !this.options.group.revertClone) {\n        rootEl.insertBefore(cloneEl, dragEl);\n      } else if (nextEl) {\n        rootEl.insertBefore(cloneEl, nextEl);\n      } else {\n        rootEl.appendChild(cloneEl);\n      }\n\n      if (this.options.group.revertClone) {\n        this.animate(dragEl, cloneEl);\n      }\n\n      css(cloneEl, 'display', '');\n      cloneHidden = false;\n    }\n  }\n};\n\nfunction _globalDragOver(\n/**Event*/\nevt) {\n  if (evt.dataTransfer) {\n    evt.dataTransfer.dropEffect = 'move';\n  }\n\n  evt.cancelable && evt.preventDefault();\n}\n\nfunction _onMove(fromEl, toEl, dragEl, dragRect, targetEl, targetRect, originalEvent, willInsertAfter) {\n  var evt,\n      sortable = fromEl[expando],\n      onMoveFn = sortable.options.onMove,\n      retVal; // Support for new CustomEvent feature\n\n  if (window.CustomEvent && !IE11OrLess && !Edge) {\n    evt = new CustomEvent('move', {\n      bubbles: true,\n      cancelable: true\n    });\n  } else {\n    evt = document.createEvent('Event');\n    evt.initEvent('move', true, true);\n  }\n\n  evt.to = toEl;\n  evt.from = fromEl;\n  evt.dragged = dragEl;\n  evt.draggedRect = dragRect;\n  evt.related = targetEl || toEl;\n  evt.relatedRect = targetRect || getRect(toEl);\n  evt.willInsertAfter = willInsertAfter;\n  evt.originalEvent = originalEvent;\n  fromEl.dispatchEvent(evt);\n\n  if (onMoveFn) {\n    retVal = onMoveFn.call(sortable, evt, originalEvent);\n  }\n\n  return retVal;\n}\n\nfunction _disableDraggable(el) {\n  el.draggable = false;\n}\n\nfunction _unsilent() {\n  _silent = false;\n}\n\nfunction _ghostIsLast(evt, vertical, sortable) {\n  var rect = getRect(lastChild(sortable.el, sortable.options.draggable));\n  var spacer = 10;\n  return vertical ? evt.clientX > rect.right + spacer || evt.clientX <= rect.right && evt.clientY > rect.bottom && evt.clientX >= rect.left : evt.clientX > rect.right && evt.clientY > rect.top || evt.clientX <= rect.right && evt.clientY > rect.bottom + spacer;\n}\n\nfunction _getSwapDirection(evt, target, targetRect, vertical, swapThreshold, invertedSwapThreshold, invertSwap, isLastTarget) {\n  var mouseOnAxis = vertical ? evt.clientY : evt.clientX,\n      targetLength = vertical ? targetRect.height : targetRect.width,\n      targetS1 = vertical ? targetRect.top : targetRect.left,\n      targetS2 = vertical ? targetRect.bottom : targetRect.right,\n      invert = false;\n\n  if (!invertSwap) {\n    // Never invert or create dragEl shadow when target movemenet causes mouse to move past the end of regular swapThreshold\n    if (isLastTarget && targetMoveDistance < targetLength * swapThreshold) {\n      // multiplied only by swapThreshold because mouse will already be inside target by (1 - threshold) * targetLength / 2\n      // check if past first invert threshold on side opposite of lastDirection\n      if (!pastFirstInvertThresh && (lastDirection === 1 ? mouseOnAxis > targetS1 + targetLength * invertedSwapThreshold / 2 : mouseOnAxis < targetS2 - targetLength * invertedSwapThreshold / 2)) {\n        // past first invert threshold, do not restrict inverted threshold to dragEl shadow\n        pastFirstInvertThresh = true;\n      }\n\n      if (!pastFirstInvertThresh) {\n        // dragEl shadow (target move distance shadow)\n        if (lastDirection === 1 ? mouseOnAxis < targetS1 + targetMoveDistance // over dragEl shadow\n        : mouseOnAxis > targetS2 - targetMoveDistance) {\n          return -lastDirection;\n        }\n      } else {\n        invert = true;\n      }\n    } else {\n      // Regular\n      if (mouseOnAxis > targetS1 + targetLength * (1 - swapThreshold) / 2 && mouseOnAxis < targetS2 - targetLength * (1 - swapThreshold) / 2) {\n        return _getInsertDirection(target);\n      }\n    }\n  }\n\n  invert = invert || invertSwap;\n\n  if (invert) {\n    // Invert of regular\n    if (mouseOnAxis < targetS1 + targetLength * invertedSwapThreshold / 2 || mouseOnAxis > targetS2 - targetLength * invertedSwapThreshold / 2) {\n      return mouseOnAxis > targetS1 + targetLength / 2 ? 1 : -1;\n    }\n  }\n\n  return 0;\n}\n/**\n * Gets the direction dragEl must be swapped relative to target in order to make it\n * seem that dragEl has been \"inserted\" into that element's position\n * @param  {HTMLElement} target       The target whose position dragEl is being inserted at\n * @return {Number}                   Direction dragEl must be swapped\n */\n\n\nfunction _getInsertDirection(target) {\n  if (index(dragEl) < index(target)) {\n    return 1;\n  } else {\n    return -1;\n  }\n}\n/**\n * Generate id\n * @param   {HTMLElement} el\n * @returns {String}\n * @private\n */\n\n\nfunction _generateId(el) {\n  var str = el.tagName + el.className + el.src + el.href + el.textContent,\n      i = str.length,\n      sum = 0;\n\n  while (i--) {\n    sum += str.charCodeAt(i);\n  }\n\n  return sum.toString(36);\n}\n\nfunction _saveInputCheckedState(root) {\n  savedInputChecked.length = 0;\n  var inputs = root.getElementsByTagName('input');\n  var idx = inputs.length;\n\n  while (idx--) {\n    var el = inputs[idx];\n    el.checked && savedInputChecked.push(el);\n  }\n}\n\nfunction _nextTick(fn) {\n  return setTimeout(fn, 0);\n}\n\nfunction _cancelNextTick(id) {\n  return clearTimeout(id);\n} // Fixed #973:\n\n\nif (documentExists) {\n  on(document, 'touchmove', function (evt) {\n    if ((Sortable.active || awaitingDragStarted) && evt.cancelable) {\n      evt.preventDefault();\n    }\n  });\n} // Export utils\n\n\nSortable.utils = {\n  on: on,\n  off: off,\n  css: css,\n  find: find,\n  is: function is(el, selector) {\n    return !!closest(el, selector, el, false);\n  },\n  extend: extend,\n  throttle: throttle,\n  closest: closest,\n  toggleClass: toggleClass,\n  clone: clone,\n  index: index,\n  nextTick: _nextTick,\n  cancelNextTick: _cancelNextTick,\n  detectDirection: _detectDirection,\n  getChild: getChild\n};\n/**\n * Get the Sortable instance of an element\n * @param  {HTMLElement} element The element\n * @return {Sortable|undefined}         The instance of Sortable\n */\n\nSortable.get = function (element) {\n  return element[expando];\n};\n/**\n * Mount a plugin to Sortable\n * @param  {...SortablePlugin|SortablePlugin[]} plugins       Plugins being mounted\n */\n\n\nSortable.mount = function () {\n  for (var _len = arguments.length, plugins = new Array(_len), _key = 0; _key < _len; _key++) {\n    plugins[_key] = arguments[_key];\n  }\n\n  if (plugins[0].constructor === Array) plugins = plugins[0];\n  plugins.forEach(function (plugin) {\n    if (!plugin.prototype || !plugin.prototype.constructor) {\n      throw \"Sortable: Mounted plugin must be a constructor function, not \".concat({}.toString.call(plugin));\n    }\n\n    if (plugin.utils) Sortable.utils = _objectSpread({}, Sortable.utils, plugin.utils);\n    PluginManager.mount(plugin);\n  });\n};\n/**\n * Create sortable instance\n * @param {HTMLElement}  el\n * @param {Object}      [options]\n */\n\n\nSortable.create = function (el, options) {\n  return new Sortable(el, options);\n}; // Export\n\n\nSortable.version = version;\n\nvar autoScrolls = [],\n    scrollEl,\n    scrollRootEl,\n    scrolling = false,\n    lastAutoScrollX,\n    lastAutoScrollY,\n    touchEvt$1,\n    pointerElemChangedInterval;\n\nfunction AutoScrollPlugin() {\n  function AutoScroll() {\n    this.defaults = {\n      scroll: true,\n      scrollSensitivity: 30,\n      scrollSpeed: 10,\n      bubbleScroll: true\n    }; // Bind all private methods\n\n    for (var fn in this) {\n      if (fn.charAt(0) === '_' && typeof this[fn] === 'function') {\n        this[fn] = this[fn].bind(this);\n      }\n    }\n  }\n\n  AutoScroll.prototype = {\n    dragStarted: function dragStarted(_ref) {\n      var originalEvent = _ref.originalEvent;\n\n      if (this.sortable.nativeDraggable) {\n        on(document, 'dragover', this._handleAutoScroll);\n      } else {\n        if (this.options.supportPointer) {\n          on(document, 'pointermove', this._handleFallbackAutoScroll);\n        } else if (originalEvent.touches) {\n          on(document, 'touchmove', this._handleFallbackAutoScroll);\n        } else {\n          on(document, 'mousemove', this._handleFallbackAutoScroll);\n        }\n      }\n    },\n    dragOverCompleted: function dragOverCompleted(_ref2) {\n      var originalEvent = _ref2.originalEvent;\n\n      // For when bubbling is canceled and using fallback (fallback 'touchmove' always reached)\n      if (!this.options.dragOverBubble && !originalEvent.rootEl) {\n        this._handleAutoScroll(originalEvent);\n      }\n    },\n    drop: function drop() {\n      if (this.sortable.nativeDraggable) {\n        off(document, 'dragover', this._handleAutoScroll);\n      } else {\n        off(document, 'pointermove', this._handleFallbackAutoScroll);\n        off(document, 'touchmove', this._handleFallbackAutoScroll);\n        off(document, 'mousemove', this._handleFallbackAutoScroll);\n      }\n\n      clearPointerElemChangedInterval();\n      clearAutoScrolls();\n      cancelThrottle();\n    },\n    nulling: function nulling() {\n      touchEvt$1 = scrollRootEl = scrollEl = scrolling = pointerElemChangedInterval = lastAutoScrollX = lastAutoScrollY = null;\n      autoScrolls.length = 0;\n    },\n    _handleFallbackAutoScroll: function _handleFallbackAutoScroll(evt) {\n      this._handleAutoScroll(evt, true);\n    },\n    _handleAutoScroll: function _handleAutoScroll(evt, fallback) {\n      var _this = this;\n\n      var x = (evt.touches ? evt.touches[0] : evt).clientX,\n          y = (evt.touches ? evt.touches[0] : evt).clientY,\n          elem = document.elementFromPoint(x, y);\n      touchEvt$1 = evt; // IE does not seem to have native autoscroll,\n      // Edge's autoscroll seems too conditional,\n      // MACOS Safari does not have autoscroll,\n      // Firefox and Chrome are good\n\n      if (fallback || Edge || IE11OrLess || Safari) {\n        autoScroll(evt, this.options, elem, fallback); // Listener for pointer element change\n\n        var ogElemScroller = getParentAutoScrollElement(elem, true);\n\n        if (scrolling && (!pointerElemChangedInterval || x !== lastAutoScrollX || y !== lastAutoScrollY)) {\n          pointerElemChangedInterval && clearPointerElemChangedInterval(); // Detect for pointer elem change, emulating native DnD behaviour\n\n          pointerElemChangedInterval = setInterval(function () {\n            var newElem = getParentAutoScrollElement(document.elementFromPoint(x, y), true);\n\n            if (newElem !== ogElemScroller) {\n              ogElemScroller = newElem;\n              clearAutoScrolls();\n            }\n\n            autoScroll(evt, _this.options, newElem, fallback);\n          }, 10);\n          lastAutoScrollX = x;\n          lastAutoScrollY = y;\n        }\n      } else {\n        // if DnD is enabled (and browser has good autoscrolling), first autoscroll will already scroll, so get parent autoscroll of first autoscroll\n        if (!this.options.bubbleScroll || getParentAutoScrollElement(elem, true) === getWindowScrollingElement()) {\n          clearAutoScrolls();\n          return;\n        }\n\n        autoScroll(evt, this.options, getParentAutoScrollElement(elem, false), false);\n      }\n    }\n  };\n  return _extends(AutoScroll, {\n    pluginName: 'scroll',\n    initializeByDefault: true\n  });\n}\n\nfunction clearAutoScrolls() {\n  autoScrolls.forEach(function (autoScroll) {\n    clearInterval(autoScroll.pid);\n  });\n  autoScrolls = [];\n}\n\nfunction clearPointerElemChangedInterval() {\n  clearInterval(pointerElemChangedInterval);\n}\n\nvar autoScroll = throttle(function (evt, options, rootEl, isFallback) {\n  // Bug: https://bugzilla.mozilla.org/show_bug.cgi?id=505521\n  if (!options.scroll) return;\n  var x = (evt.touches ? evt.touches[0] : evt).clientX,\n      y = (evt.touches ? evt.touches[0] : evt).clientY,\n      sens = options.scrollSensitivity,\n      speed = options.scrollSpeed,\n      winScroller = getWindowScrollingElement();\n  var scrollThisInstance = false,\n      scrollCustomFn; // New scroll root, set scrollEl\n\n  if (scrollRootEl !== rootEl) {\n    scrollRootEl = rootEl;\n    clearAutoScrolls();\n    scrollEl = options.scroll;\n    scrollCustomFn = options.scrollFn;\n\n    if (scrollEl === true) {\n      scrollEl = getParentAutoScrollElement(rootEl, true);\n    }\n  }\n\n  var layersOut = 0;\n  var currentParent = scrollEl;\n\n  do {\n    var el = currentParent,\n        rect = getRect(el),\n        top = rect.top,\n        bottom = rect.bottom,\n        left = rect.left,\n        right = rect.right,\n        width = rect.width,\n        height = rect.height,\n        canScrollX = void 0,\n        canScrollY = void 0,\n        scrollWidth = el.scrollWidth,\n        scrollHeight = el.scrollHeight,\n        elCSS = css(el),\n        scrollPosX = el.scrollLeft,\n        scrollPosY = el.scrollTop;\n\n    if (el === winScroller) {\n      canScrollX = width < scrollWidth && (elCSS.overflowX === 'auto' || elCSS.overflowX === 'scroll' || elCSS.overflowX === 'visible');\n      canScrollY = height < scrollHeight && (elCSS.overflowY === 'auto' || elCSS.overflowY === 'scroll' || elCSS.overflowY === 'visible');\n    } else {\n      canScrollX = width < scrollWidth && (elCSS.overflowX === 'auto' || elCSS.overflowX === 'scroll');\n      canScrollY = height < scrollHeight && (elCSS.overflowY === 'auto' || elCSS.overflowY === 'scroll');\n    }\n\n    var vx = canScrollX && (Math.abs(right - x) <= sens && scrollPosX + width < scrollWidth) - (Math.abs(left - x) <= sens && !!scrollPosX);\n    var vy = canScrollY && (Math.abs(bottom - y) <= sens && scrollPosY + height < scrollHeight) - (Math.abs(top - y) <= sens && !!scrollPosY);\n\n    if (!autoScrolls[layersOut]) {\n      for (var i = 0; i <= layersOut; i++) {\n        if (!autoScrolls[i]) {\n          autoScrolls[i] = {};\n        }\n      }\n    }\n\n    if (autoScrolls[layersOut].vx != vx || autoScrolls[layersOut].vy != vy || autoScrolls[layersOut].el !== el) {\n      autoScrolls[layersOut].el = el;\n      autoScrolls[layersOut].vx = vx;\n      autoScrolls[layersOut].vy = vy;\n      clearInterval(autoScrolls[layersOut].pid);\n\n      if (vx != 0 || vy != 0) {\n        scrollThisInstance = true;\n        /* jshint loopfunc:true */\n\n        autoScrolls[layersOut].pid = setInterval(function () {\n          // emulate drag over during autoscroll (fallback), emulating native DnD behaviour\n          if (isFallback && this.layer === 0) {\n            Sortable.active._onTouchMove(touchEvt$1); // To move ghost if it is positioned absolutely\n\n          }\n\n          var scrollOffsetY = autoScrolls[this.layer].vy ? autoScrolls[this.layer].vy * speed : 0;\n          var scrollOffsetX = autoScrolls[this.layer].vx ? autoScrolls[this.layer].vx * speed : 0;\n\n          if (typeof scrollCustomFn === 'function') {\n            if (scrollCustomFn.call(Sortable.dragged.parentNode[expando], scrollOffsetX, scrollOffsetY, evt, touchEvt$1, autoScrolls[this.layer].el) !== 'continue') {\n              return;\n            }\n          }\n\n          scrollBy(autoScrolls[this.layer].el, scrollOffsetX, scrollOffsetY);\n        }.bind({\n          layer: layersOut\n        }), 24);\n      }\n    }\n\n    layersOut++;\n  } while (options.bubbleScroll && currentParent !== winScroller && (currentParent = getParentAutoScrollElement(currentParent, false)));\n\n  scrolling = scrollThisInstance; // in case another function catches scrolling as false in between when it is not\n}, 30);\n\nvar drop = function drop(_ref) {\n  var originalEvent = _ref.originalEvent,\n      putSortable = _ref.putSortable,\n      dragEl = _ref.dragEl,\n      activeSortable = _ref.activeSortable,\n      dispatchSortableEvent = _ref.dispatchSortableEvent,\n      hideGhostForTarget = _ref.hideGhostForTarget,\n      unhideGhostForTarget = _ref.unhideGhostForTarget;\n  if (!originalEvent) return;\n  var toSortable = putSortable || activeSortable;\n  hideGhostForTarget();\n  var touch = originalEvent.changedTouches && originalEvent.changedTouches.length ? originalEvent.changedTouches[0] : originalEvent;\n  var target = document.elementFromPoint(touch.clientX, touch.clientY);\n  unhideGhostForTarget();\n\n  if (toSortable && !toSortable.el.contains(target)) {\n    dispatchSortableEvent('spill');\n    this.onSpill({\n      dragEl: dragEl,\n      putSortable: putSortable\n    });\n  }\n};\n\nfunction Revert() {}\n\nRevert.prototype = {\n  startIndex: null,\n  dragStart: function dragStart(_ref2) {\n    var oldDraggableIndex = _ref2.oldDraggableIndex;\n    this.startIndex = oldDraggableIndex;\n  },\n  onSpill: function onSpill(_ref3) {\n    var dragEl = _ref3.dragEl,\n        putSortable = _ref3.putSortable;\n    this.sortable.captureAnimationState();\n\n    if (putSortable) {\n      putSortable.captureAnimationState();\n    }\n\n    var nextSibling = getChild(this.sortable.el, this.startIndex, this.options);\n\n    if (nextSibling) {\n      this.sortable.el.insertBefore(dragEl, nextSibling);\n    } else {\n      this.sortable.el.appendChild(dragEl);\n    }\n\n    this.sortable.animateAll();\n\n    if (putSortable) {\n      putSortable.animateAll();\n    }\n  },\n  drop: drop\n};\n\n_extends(Revert, {\n  pluginName: 'revertOnSpill'\n});\n\nfunction Remove() {}\n\nRemove.prototype = {\n  onSpill: function onSpill(_ref4) {\n    var dragEl = _ref4.dragEl,\n        putSortable = _ref4.putSortable;\n    var parentSortable = putSortable || this.sortable;\n    parentSortable.captureAnimationState();\n    dragEl.parentNode && dragEl.parentNode.removeChild(dragEl);\n    parentSortable.animateAll();\n  },\n  drop: drop\n};\n\n_extends(Remove, {\n  pluginName: 'removeOnSpill'\n});\n\nvar lastSwapEl;\n\nfunction SwapPlugin() {\n  function Swap() {\n    this.defaults = {\n      swapClass: 'sortable-swap-highlight'\n    };\n  }\n\n  Swap.prototype = {\n    dragStart: function dragStart(_ref) {\n      var dragEl = _ref.dragEl;\n      lastSwapEl = dragEl;\n    },\n    dragOverValid: function dragOverValid(_ref2) {\n      var completed = _ref2.completed,\n          target = _ref2.target,\n          onMove = _ref2.onMove,\n          activeSortable = _ref2.activeSortable,\n          changed = _ref2.changed,\n          cancel = _ref2.cancel;\n      if (!activeSortable.options.swap) return;\n      var el = this.sortable.el,\n          options = this.options;\n\n      if (target && target !== el) {\n        var prevSwapEl = lastSwapEl;\n\n        if (onMove(target) !== false) {\n          toggleClass(target, options.swapClass, true);\n          lastSwapEl = target;\n        } else {\n          lastSwapEl = null;\n        }\n\n        if (prevSwapEl && prevSwapEl !== lastSwapEl) {\n          toggleClass(prevSwapEl, options.swapClass, false);\n        }\n      }\n\n      changed();\n      completed(true);\n      cancel();\n    },\n    drop: function drop(_ref3) {\n      var activeSortable = _ref3.activeSortable,\n          putSortable = _ref3.putSortable,\n          dragEl = _ref3.dragEl;\n      var toSortable = putSortable || this.sortable;\n      var options = this.options;\n      lastSwapEl && toggleClass(lastSwapEl, options.swapClass, false);\n\n      if (lastSwapEl && (options.swap || putSortable && putSortable.options.swap)) {\n        if (dragEl !== lastSwapEl) {\n          toSortable.captureAnimationState();\n          if (toSortable !== activeSortable) activeSortable.captureAnimationState();\n          swapNodes(dragEl, lastSwapEl);\n          toSortable.animateAll();\n          if (toSortable !== activeSortable) activeSortable.animateAll();\n        }\n      }\n    },\n    nulling: function nulling() {\n      lastSwapEl = null;\n    }\n  };\n  return _extends(Swap, {\n    pluginName: 'swap',\n    eventProperties: function eventProperties() {\n      return {\n        swapItem: lastSwapEl\n      };\n    }\n  });\n}\n\nfunction swapNodes(n1, n2) {\n  var p1 = n1.parentNode,\n      p2 = n2.parentNode,\n      i1,\n      i2;\n  if (!p1 || !p2 || p1.isEqualNode(n2) || p2.isEqualNode(n1)) return;\n  i1 = index(n1);\n  i2 = index(n2);\n\n  if (p1.isEqualNode(p2) && i1 < i2) {\n    i2++;\n  }\n\n  p1.insertBefore(n2, p1.children[i1]);\n  p2.insertBefore(n1, p2.children[i2]);\n}\n\nvar multiDragElements = [],\n    multiDragClones = [],\n    lastMultiDragSelect,\n    // for selection with modifier key down (SHIFT)\nmultiDragSortable,\n    initialFolding = false,\n    // Initial multi-drag fold when drag started\nfolding = false,\n    // Folding any other time\ndragStarted = false,\n    dragEl$1,\n    clonesFromRect,\n    clonesHidden;\n\nfunction MultiDragPlugin() {\n  function MultiDrag(sortable) {\n    // Bind all private methods\n    for (var fn in this) {\n      if (fn.charAt(0) === '_' && typeof this[fn] === 'function') {\n        this[fn] = this[fn].bind(this);\n      }\n    }\n\n    if (sortable.options.supportPointer) {\n      on(document, 'pointerup', this._deselectMultiDrag);\n    } else {\n      on(document, 'mouseup', this._deselectMultiDrag);\n      on(document, 'touchend', this._deselectMultiDrag);\n    }\n\n    on(document, 'keydown', this._checkKeyDown);\n    on(document, 'keyup', this._checkKeyUp);\n    this.defaults = {\n      selectedClass: 'sortable-selected',\n      multiDragKey: null,\n      setData: function setData(dataTransfer, dragEl) {\n        var data = '';\n\n        if (multiDragElements.length && multiDragSortable === sortable) {\n          multiDragElements.forEach(function (multiDragElement, i) {\n            data += (!i ? '' : ', ') + multiDragElement.textContent;\n          });\n        } else {\n          data = dragEl.textContent;\n        }\n\n        dataTransfer.setData('Text', data);\n      }\n    };\n  }\n\n  MultiDrag.prototype = {\n    multiDragKeyDown: false,\n    isMultiDrag: false,\n    delayStartGlobal: function delayStartGlobal(_ref) {\n      var dragged = _ref.dragEl;\n      dragEl$1 = dragged;\n    },\n    delayEnded: function delayEnded() {\n      this.isMultiDrag = ~multiDragElements.indexOf(dragEl$1);\n    },\n    setupClone: function setupClone(_ref2) {\n      var sortable = _ref2.sortable,\n          cancel = _ref2.cancel;\n      if (!this.isMultiDrag) return;\n\n      for (var i = 0; i < multiDragElements.length; i++) {\n        multiDragClones.push(clone(multiDragElements[i]));\n        multiDragClones[i].sortableIndex = multiDragElements[i].sortableIndex;\n        multiDragClones[i].draggable = false;\n        multiDragClones[i].style['will-change'] = '';\n        toggleClass(multiDragClones[i], this.options.selectedClass, false);\n        multiDragElements[i] === dragEl$1 && toggleClass(multiDragClones[i], this.options.chosenClass, false);\n      }\n\n      sortable._hideClone();\n\n      cancel();\n    },\n    clone: function clone(_ref3) {\n      var sortable = _ref3.sortable,\n          rootEl = _ref3.rootEl,\n          dispatchSortableEvent = _ref3.dispatchSortableEvent,\n          cancel = _ref3.cancel;\n      if (!this.isMultiDrag) return;\n\n      if (!this.options.removeCloneOnHide) {\n        if (multiDragElements.length && multiDragSortable === sortable) {\n          insertMultiDragClones(true, rootEl);\n          dispatchSortableEvent('clone');\n          cancel();\n        }\n      }\n    },\n    showClone: function showClone(_ref4) {\n      var cloneNowShown = _ref4.cloneNowShown,\n          rootEl = _ref4.rootEl,\n          cancel = _ref4.cancel;\n      if (!this.isMultiDrag) return;\n      insertMultiDragClones(false, rootEl);\n      multiDragClones.forEach(function (clone) {\n        css(clone, 'display', '');\n      });\n      cloneNowShown();\n      clonesHidden = false;\n      cancel();\n    },\n    hideClone: function hideClone(_ref5) {\n      var _this = this;\n\n      var sortable = _ref5.sortable,\n          cloneNowHidden = _ref5.cloneNowHidden,\n          cancel = _ref5.cancel;\n      if (!this.isMultiDrag) return;\n      multiDragClones.forEach(function (clone) {\n        css(clone, 'display', 'none');\n\n        if (_this.options.removeCloneOnHide && clone.parentNode) {\n          clone.parentNode.removeChild(clone);\n        }\n      });\n      cloneNowHidden();\n      clonesHidden = true;\n      cancel();\n    },\n    dragStartGlobal: function dragStartGlobal(_ref6) {\n      var sortable = _ref6.sortable;\n\n      if (!this.isMultiDrag && multiDragSortable) {\n        multiDragSortable.multiDrag._deselectMultiDrag();\n      }\n\n      multiDragElements.forEach(function (multiDragElement) {\n        multiDragElement.sortableIndex = index(multiDragElement);\n      }); // Sort multi-drag elements\n\n      multiDragElements = multiDragElements.sort(function (a, b) {\n        return a.sortableIndex - b.sortableIndex;\n      });\n      dragStarted = true;\n    },\n    dragStarted: function dragStarted(_ref7) {\n      var _this2 = this;\n\n      var sortable = _ref7.sortable;\n      if (!this.isMultiDrag) return;\n\n      if (this.options.sort) {\n        // Capture rects,\n        // hide multi drag elements (by positioning them absolute),\n        // set multi drag elements rects to dragRect,\n        // show multi drag elements,\n        // animate to rects,\n        // unset rects & remove from DOM\n        sortable.captureAnimationState();\n\n        if (this.options.animation) {\n          multiDragElements.forEach(function (multiDragElement) {\n            if (multiDragElement === dragEl$1) return;\n            css(multiDragElement, 'position', 'absolute');\n          });\n          var dragRect = getRect(dragEl$1, false, true, true);\n          multiDragElements.forEach(function (multiDragElement) {\n            if (multiDragElement === dragEl$1) return;\n            setRect(multiDragElement, dragRect);\n          });\n          folding = true;\n          initialFolding = true;\n        }\n      }\n\n      sortable.animateAll(function () {\n        folding = false;\n        initialFolding = false;\n\n        if (_this2.options.animation) {\n          multiDragElements.forEach(function (multiDragElement) {\n            unsetRect(multiDragElement);\n          });\n        } // Remove all auxiliary multidrag items from el, if sorting enabled\n\n\n        if (_this2.options.sort) {\n          removeMultiDragElements();\n        }\n      });\n    },\n    dragOver: function dragOver(_ref8) {\n      var target = _ref8.target,\n          completed = _ref8.completed,\n          cancel = _ref8.cancel;\n\n      if (folding && ~multiDragElements.indexOf(target)) {\n        completed(false);\n        cancel();\n      }\n    },\n    revert: function revert(_ref9) {\n      var fromSortable = _ref9.fromSortable,\n          rootEl = _ref9.rootEl,\n          sortable = _ref9.sortable,\n          dragRect = _ref9.dragRect;\n\n      if (multiDragElements.length > 1) {\n        // Setup unfold animation\n        multiDragElements.forEach(function (multiDragElement) {\n          sortable.addAnimationState({\n            target: multiDragElement,\n            rect: folding ? getRect(multiDragElement) : dragRect\n          });\n          unsetRect(multiDragElement);\n          multiDragElement.fromRect = dragRect;\n          fromSortable.removeAnimationState(multiDragElement);\n        });\n        folding = false;\n        insertMultiDragElements(!this.options.removeCloneOnHide, rootEl);\n      }\n    },\n    dragOverCompleted: function dragOverCompleted(_ref10) {\n      var sortable = _ref10.sortable,\n          isOwner = _ref10.isOwner,\n          insertion = _ref10.insertion,\n          activeSortable = _ref10.activeSortable,\n          parentEl = _ref10.parentEl,\n          putSortable = _ref10.putSortable;\n      var options = this.options;\n\n      if (insertion) {\n        // Clones must be hidden before folding animation to capture dragRectAbsolute properly\n        if (isOwner) {\n          activeSortable._hideClone();\n        }\n\n        initialFolding = false; // If leaving sort:false root, or already folding - Fold to new location\n\n        if (options.animation && multiDragElements.length > 1 && (folding || !isOwner && !activeSortable.options.sort && !putSortable)) {\n          // Fold: Set all multi drag elements's rects to dragEl's rect when multi-drag elements are invisible\n          var dragRectAbsolute = getRect(dragEl$1, false, true, true);\n          multiDragElements.forEach(function (multiDragElement) {\n            if (multiDragElement === dragEl$1) return;\n            setRect(multiDragElement, dragRectAbsolute); // Move element(s) to end of parentEl so that it does not interfere with multi-drag clones insertion if they are inserted\n            // while folding, and so that we can capture them again because old sortable will no longer be fromSortable\n\n            parentEl.appendChild(multiDragElement);\n          });\n          folding = true;\n        } // Clones must be shown (and check to remove multi drags) after folding when interfering multiDragElements are moved out\n\n\n        if (!isOwner) {\n          // Only remove if not folding (folding will remove them anyways)\n          if (!folding) {\n            removeMultiDragElements();\n          }\n\n          if (multiDragElements.length > 1) {\n            var clonesHiddenBefore = clonesHidden;\n\n            activeSortable._showClone(sortable); // Unfold animation for clones if showing from hidden\n\n\n            if (activeSortable.options.animation && !clonesHidden && clonesHiddenBefore) {\n              multiDragClones.forEach(function (clone) {\n                activeSortable.addAnimationState({\n                  target: clone,\n                  rect: clonesFromRect\n                });\n                clone.fromRect = clonesFromRect;\n                clone.thisAnimationDuration = null;\n              });\n            }\n          } else {\n            activeSortable._showClone(sortable);\n          }\n        }\n      }\n    },\n    dragOverAnimationCapture: function dragOverAnimationCapture(_ref11) {\n      var dragRect = _ref11.dragRect,\n          isOwner = _ref11.isOwner,\n          activeSortable = _ref11.activeSortable;\n      multiDragElements.forEach(function (multiDragElement) {\n        multiDragElement.thisAnimationDuration = null;\n      });\n\n      if (activeSortable.options.animation && !isOwner && activeSortable.multiDrag.isMultiDrag) {\n        clonesFromRect = _extends({}, dragRect);\n        var dragMatrix = matrix(dragEl$1, true);\n        clonesFromRect.top -= dragMatrix.f;\n        clonesFromRect.left -= dragMatrix.e;\n      }\n    },\n    dragOverAnimationComplete: function dragOverAnimationComplete() {\n      if (folding) {\n        folding = false;\n        removeMultiDragElements();\n      }\n    },\n    drop: function drop(_ref12) {\n      var evt = _ref12.originalEvent,\n          rootEl = _ref12.rootEl,\n          parentEl = _ref12.parentEl,\n          sortable = _ref12.sortable,\n          dispatchSortableEvent = _ref12.dispatchSortableEvent,\n          oldIndex = _ref12.oldIndex,\n          putSortable = _ref12.putSortable;\n      var toSortable = putSortable || this.sortable;\n      if (!evt) return;\n      var options = this.options,\n          children = parentEl.children; // Multi-drag selection\n\n      if (!dragStarted) {\n        if (options.multiDragKey && !this.multiDragKeyDown) {\n          this._deselectMultiDrag();\n        }\n\n        toggleClass(dragEl$1, options.selectedClass, !~multiDragElements.indexOf(dragEl$1));\n\n        if (!~multiDragElements.indexOf(dragEl$1)) {\n          multiDragElements.push(dragEl$1);\n          dispatchEvent({\n            sortable: sortable,\n            rootEl: rootEl,\n            name: 'select',\n            targetEl: dragEl$1,\n            originalEvt: evt\n          }); // Modifier activated, select from last to dragEl\n\n          if (evt.shiftKey && lastMultiDragSelect && sortable.el.contains(lastMultiDragSelect)) {\n            var lastIndex = index(lastMultiDragSelect),\n                currentIndex = index(dragEl$1);\n\n            if (~lastIndex && ~currentIndex && lastIndex !== currentIndex) {\n              // Must include lastMultiDragSelect (select it), in case modified selection from no selection\n              // (but previous selection existed)\n              var n, i;\n\n              if (currentIndex > lastIndex) {\n                i = lastIndex;\n                n = currentIndex;\n              } else {\n                i = currentIndex;\n                n = lastIndex + 1;\n              }\n\n              for (; i < n; i++) {\n                if (~multiDragElements.indexOf(children[i])) continue;\n                toggleClass(children[i], options.selectedClass, true);\n                multiDragElements.push(children[i]);\n                dispatchEvent({\n                  sortable: sortable,\n                  rootEl: rootEl,\n                  name: 'select',\n                  targetEl: children[i],\n                  originalEvt: evt\n                });\n              }\n            }\n          } else {\n            lastMultiDragSelect = dragEl$1;\n          }\n\n          multiDragSortable = toSortable;\n        } else {\n          multiDragElements.splice(multiDragElements.indexOf(dragEl$1), 1);\n          lastMultiDragSelect = null;\n          dispatchEvent({\n            sortable: sortable,\n            rootEl: rootEl,\n            name: 'deselect',\n            targetEl: dragEl$1,\n            originalEvt: evt\n          });\n        }\n      } // Multi-drag drop\n\n\n      if (dragStarted && this.isMultiDrag) {\n        // Do not \"unfold\" after around dragEl if reverted\n        if ((parentEl[expando].options.sort || parentEl !== rootEl) && multiDragElements.length > 1) {\n          var dragRect = getRect(dragEl$1),\n              multiDragIndex = index(dragEl$1, ':not(.' + this.options.selectedClass + ')');\n          if (!initialFolding && options.animation) dragEl$1.thisAnimationDuration = null;\n          toSortable.captureAnimationState();\n\n          if (!initialFolding) {\n            if (options.animation) {\n              dragEl$1.fromRect = dragRect;\n              multiDragElements.forEach(function (multiDragElement) {\n                multiDragElement.thisAnimationDuration = null;\n\n                if (multiDragElement !== dragEl$1) {\n                  var rect = folding ? getRect(multiDragElement) : dragRect;\n                  multiDragElement.fromRect = rect; // Prepare unfold animation\n\n                  toSortable.addAnimationState({\n                    target: multiDragElement,\n                    rect: rect\n                  });\n                }\n              });\n            } // Multi drag elements are not necessarily removed from the DOM on drop, so to reinsert\n            // properly they must all be removed\n\n\n            removeMultiDragElements();\n            multiDragElements.forEach(function (multiDragElement) {\n              if (children[multiDragIndex]) {\n                parentEl.insertBefore(multiDragElement, children[multiDragIndex]);\n              } else {\n                parentEl.appendChild(multiDragElement);\n              }\n\n              multiDragIndex++;\n            }); // If initial folding is done, the elements may have changed position because they are now\n            // unfolding around dragEl, even though dragEl may not have his index changed, so update event\n            // must be fired here as Sortable will not.\n\n            if (oldIndex === index(dragEl$1)) {\n              var update = false;\n              multiDragElements.forEach(function (multiDragElement) {\n                if (multiDragElement.sortableIndex !== index(multiDragElement)) {\n                  update = true;\n                  return;\n                }\n              });\n\n              if (update) {\n                dispatchSortableEvent('update');\n              }\n            }\n          } // Must be done after capturing individual rects (scroll bar)\n\n\n          multiDragElements.forEach(function (multiDragElement) {\n            unsetRect(multiDragElement);\n          });\n          toSortable.animateAll();\n        }\n\n        multiDragSortable = toSortable;\n      } // Remove clones if necessary\n\n\n      if (rootEl === parentEl || putSortable && putSortable.lastPutMode !== 'clone') {\n        multiDragClones.forEach(function (clone) {\n          clone.parentNode && clone.parentNode.removeChild(clone);\n        });\n      }\n    },\n    nullingGlobal: function nullingGlobal() {\n      this.isMultiDrag = dragStarted = false;\n      multiDragClones.length = 0;\n    },\n    destroyGlobal: function destroyGlobal() {\n      this._deselectMultiDrag();\n\n      off(document, 'pointerup', this._deselectMultiDrag);\n      off(document, 'mouseup', this._deselectMultiDrag);\n      off(document, 'touchend', this._deselectMultiDrag);\n      off(document, 'keydown', this._checkKeyDown);\n      off(document, 'keyup', this._checkKeyUp);\n    },\n    _deselectMultiDrag: function _deselectMultiDrag(evt) {\n      if (typeof dragStarted !== \"undefined\" && dragStarted) return; // Only deselect if selection is in this sortable\n\n      if (multiDragSortable !== this.sortable) return; // Only deselect if target is not item in this sortable\n\n      if (evt && closest(evt.target, this.options.draggable, this.sortable.el, false)) return; // Only deselect if left click\n\n      if (evt && evt.button !== 0) return;\n\n      while (multiDragElements.length) {\n        var el = multiDragElements[0];\n        toggleClass(el, this.options.selectedClass, false);\n        multiDragElements.shift();\n        dispatchEvent({\n          sortable: this.sortable,\n          rootEl: this.sortable.el,\n          name: 'deselect',\n          targetEl: el,\n          originalEvt: evt\n        });\n      }\n    },\n    _checkKeyDown: function _checkKeyDown(evt) {\n      if (evt.key === this.options.multiDragKey) {\n        this.multiDragKeyDown = true;\n      }\n    },\n    _checkKeyUp: function _checkKeyUp(evt) {\n      if (evt.key === this.options.multiDragKey) {\n        this.multiDragKeyDown = false;\n      }\n    }\n  };\n  return _extends(MultiDrag, {\n    // Static methods & properties\n    pluginName: 'multiDrag',\n    utils: {\n      /**\r\n       * Selects the provided multi-drag item\r\n       * @param  {HTMLElement} el    The element to be selected\r\n       */\n      select: function select(el) {\n        var sortable = el.parentNode[expando];\n        if (!sortable || !sortable.options.multiDrag || ~multiDragElements.indexOf(el)) return;\n\n        if (multiDragSortable && multiDragSortable !== sortable) {\n          multiDragSortable.multiDrag._deselectMultiDrag();\n\n          multiDragSortable = sortable;\n        }\n\n        toggleClass(el, sortable.options.selectedClass, true);\n        multiDragElements.push(el);\n      },\n\n      /**\r\n       * Deselects the provided multi-drag item\r\n       * @param  {HTMLElement} el    The element to be deselected\r\n       */\n      deselect: function deselect(el) {\n        var sortable = el.parentNode[expando],\n            index = multiDragElements.indexOf(el);\n        if (!sortable || !sortable.options.multiDrag || !~index) return;\n        toggleClass(el, sortable.options.selectedClass, false);\n        multiDragElements.splice(index, 1);\n      }\n    },\n    eventProperties: function eventProperties() {\n      var _this3 = this;\n\n      var oldIndicies = [],\n          newIndicies = [];\n      multiDragElements.forEach(function (multiDragElement) {\n        oldIndicies.push({\n          multiDragElement: multiDragElement,\n          index: multiDragElement.sortableIndex\n        }); // multiDragElements will already be sorted if folding\n\n        var newIndex;\n\n        if (folding && multiDragElement !== dragEl$1) {\n          newIndex = -1;\n        } else if (folding) {\n          newIndex = index(multiDragElement, ':not(.' + _this3.options.selectedClass + ')');\n        } else {\n          newIndex = index(multiDragElement);\n        }\n\n        newIndicies.push({\n          multiDragElement: multiDragElement,\n          index: newIndex\n        });\n      });\n      return {\n        items: _toConsumableArray(multiDragElements),\n        clones: [].concat(multiDragClones),\n        oldIndicies: oldIndicies,\n        newIndicies: newIndicies\n      };\n    },\n    optionListeners: {\n      multiDragKey: function multiDragKey(key) {\n        key = key.toLowerCase();\n\n        if (key === 'ctrl') {\n          key = 'Control';\n        } else if (key.length > 1) {\n          key = key.charAt(0).toUpperCase() + key.substr(1);\n        }\n\n        return key;\n      }\n    }\n  });\n}\n\nfunction insertMultiDragElements(clonesInserted, rootEl) {\n  multiDragElements.forEach(function (multiDragElement, i) {\n    var target = rootEl.children[multiDragElement.sortableIndex + (clonesInserted ? Number(i) : 0)];\n\n    if (target) {\n      rootEl.insertBefore(multiDragElement, target);\n    } else {\n      rootEl.appendChild(multiDragElement);\n    }\n  });\n}\n/**\r\n * Insert multi-drag clones\r\n * @param  {[Boolean]} elementsInserted  Whether the multi-drag elements are inserted\r\n * @param  {HTMLElement} rootEl\r\n */\n\n\nfunction insertMultiDragClones(elementsInserted, rootEl) {\n  multiDragClones.forEach(function (clone, i) {\n    var target = rootEl.children[clone.sortableIndex + (elementsInserted ? Number(i) : 0)];\n\n    if (target) {\n      rootEl.insertBefore(clone, target);\n    } else {\n      rootEl.appendChild(clone);\n    }\n  });\n}\n\nfunction removeMultiDragElements() {\n  multiDragElements.forEach(function (multiDragElement) {\n    if (multiDragElement === dragEl$1) return;\n    multiDragElement.parentNode && multiDragElement.parentNode.removeChild(multiDragElement);\n  });\n}\n\nSortable.mount(new AutoScrollPlugin());\nSortable.mount(Remove, Revert);\n\nexport default Sortable;\nexport { MultiDragPlugin as MultiDrag, Sortable, SwapPlugin as Swap };\n","// Defaults\nvar defaultOptions = {\n\tformat: 'image/png',\n\tquality: 0.92,\n\twidth: undefined,\n\theight: undefined,\n\tCanvas: undefined,\n\tcrossOrigin: undefined\n};\n\n// Return Promise\nvar mergeImages = function (sources, options) {\n\tif ( sources === void 0 ) sources = [];\n\tif ( options === void 0 ) options = {};\n\n\treturn new Promise(function (resolve) {\n\toptions = Object.assign({}, defaultOptions, options);\n\n\t// Setup browser/Node.js specific variables\n\tvar canvas = options.Canvas ? new options.Canvas() : window.document.createElement('canvas');\n\tvar Image = options.Canvas ? options.Canvas.Image : window.Image;\n\tif (options.Canvas) {\n\t\toptions.quality *= 100;\n\t}\n\n\t// Load sources\n\tvar images = sources.map(function (source) { return new Promise(function (resolve, reject) {\n\t\t// Convert sources to objects\n\t\tif (source.constructor.name !== 'Object') {\n\t\t\tsource = { src: source };\n\t\t}\n\n\t\t// Resolve source and img when loaded\n\t\tvar img = new Image();\n\t\timg.crossOrigin = options.crossOrigin;\n\t\timg.onerror = function () { return reject(new Error('Couldn\\'t load image')); };\n\t\timg.onload = function () { return resolve(Object.assign({}, source, { img: img })); };\n\t\timg.src = source.src;\n\t}); });\n\n\t// Get canvas context\n\tvar ctx = canvas.getContext('2d');\n\n\t// When sources have loaded\n\tresolve(Promise.all(images)\n\t\t.then(function (images) {\n\t\t\t// Set canvas dimensions\n\t\t\tvar getSize = function (dim) { return options[dim] || Math.max.apply(Math, images.map(function (image) { return image.img[dim]; })); };\n\t\t\tcanvas.width = getSize('width');\n\t\t\tcanvas.height = getSize('height');\n\n\t\t\t// Draw images to canvas\n\t\t\timages.forEach(function (image) {\n\t\t\t\tctx.globalAlpha = image.opacity ? image.opacity : 1;\n\t\t\t\treturn ctx.drawImage(image.img, image.x || 0, image.y || 0);\n\t\t\t});\n\n\t\t\tif (options.Canvas && options.format === 'image/jpeg') {\n\t\t\t\t// Resolve data URI for node-canvas jpeg async\n\t\t\t\treturn new Promise(function (resolve) {\n\t\t\t\t\tcanvas.toDataURL(options.format, {\n\t\t\t\t\t\tquality: options.quality,\n\t\t\t\t\t\tprogressive: false\n\t\t\t\t\t}, function (err, jpeg) {\n\t\t\t\t\t\tif (err) {\n\t\t\t\t\t\t\tthrow err;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tresolve(jpeg);\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// Resolve all other data URIs sync\n\t\t\treturn canvas.toDataURL(options.format, options.quality);\n\t\t}));\n});\n};\n\nexport default mergeImages;\n//# sourceMappingURL=index.es2015.js.map\n","/*! Hammer.JS - v2.0.7 - 2016-04-22\n * http://hammerjs.github.io/\n *\n * Copyright (c) 2016 Jorik Tangelder;\n * Licensed under the MIT license */\n(function(window, document, exportName, undefined) {\n  'use strict';\n\nvar VENDOR_PREFIXES = ['', 'webkit', 'Moz', 'MS', 'ms', 'o'];\nvar TEST_ELEMENT = document.createElement('div');\n\nvar TYPE_FUNCTION = 'function';\n\nvar round = Math.round;\nvar abs = Math.abs;\nvar now = Date.now;\n\n/**\n * set a timeout with a given scope\n * @param {Function} fn\n * @param {Number} timeout\n * @param {Object} context\n * @returns {number}\n */\nfunction setTimeoutContext(fn, timeout, context) {\n    return setTimeout(bindFn(fn, context), timeout);\n}\n\n/**\n * if the argument is an array, we want to execute the fn on each entry\n * if it aint an array we don't want to do a thing.\n * this is used by all the methods that accept a single and array argument.\n * @param {*|Array} arg\n * @param {String} fn\n * @param {Object} [context]\n * @returns {Boolean}\n */\nfunction invokeArrayArg(arg, fn, context) {\n    if (Array.isArray(arg)) {\n        each(arg, context[fn], context);\n        return true;\n    }\n    return false;\n}\n\n/**\n * walk objects and arrays\n * @param {Object} obj\n * @param {Function} iterator\n * @param {Object} context\n */\nfunction each(obj, iterator, context) {\n    var i;\n\n    if (!obj) {\n        return;\n    }\n\n    if (obj.forEach) {\n        obj.forEach(iterator, context);\n    } else if (obj.length !== undefined) {\n        i = 0;\n        while (i < obj.length) {\n            iterator.call(context, obj[i], i, obj);\n            i++;\n        }\n    } else {\n        for (i in obj) {\n            obj.hasOwnProperty(i) && iterator.call(context, obj[i], i, obj);\n        }\n    }\n}\n\n/**\n * wrap a method with a deprecation warning and stack trace\n * @param {Function} method\n * @param {String} name\n * @param {String} message\n * @returns {Function} A new function wrapping the supplied method.\n */\nfunction deprecate(method, name, message) {\n    var deprecationMessage = 'DEPRECATED METHOD: ' + name + '\\n' + message + ' AT \\n';\n    return function() {\n        var e = new Error('get-stack-trace');\n        var stack = e && e.stack ? e.stack.replace(/^[^\\(]+?[\\n$]/gm, '')\n            .replace(/^\\s+at\\s+/gm, '')\n            .replace(/^Object.<anonymous>\\s*\\(/gm, '{anonymous}()@') : 'Unknown Stack Trace';\n\n        var log = window.console && (window.console.warn || window.console.log);\n        if (log) {\n            log.call(window.console, deprecationMessage, stack);\n        }\n        return method.apply(this, arguments);\n    };\n}\n\n/**\n * extend object.\n * means that properties in dest will be overwritten by the ones in src.\n * @param {Object} target\n * @param {...Object} objects_to_assign\n * @returns {Object} target\n */\nvar assign;\nif (typeof Object.assign !== 'function') {\n    assign = function assign(target) {\n        if (target === undefined || target === null) {\n            throw new TypeError('Cannot convert undefined or null to object');\n        }\n\n        var output = Object(target);\n        for (var index = 1; index < arguments.length; index++) {\n            var source = arguments[index];\n            if (source !== undefined && source !== null) {\n                for (var nextKey in source) {\n                    if (source.hasOwnProperty(nextKey)) {\n                        output[nextKey] = source[nextKey];\n                    }\n                }\n            }\n        }\n        return output;\n    };\n} else {\n    assign = Object.assign;\n}\n\n/**\n * extend object.\n * means that properties in dest will be overwritten by the ones in src.\n * @param {Object} dest\n * @param {Object} src\n * @param {Boolean} [merge=false]\n * @returns {Object} dest\n */\nvar extend = deprecate(function extend(dest, src, merge) {\n    var keys = Object.keys(src);\n    var i = 0;\n    while (i < keys.length) {\n        if (!merge || (merge && dest[keys[i]] === undefined)) {\n            dest[keys[i]] = src[keys[i]];\n        }\n        i++;\n    }\n    return dest;\n}, 'extend', 'Use `assign`.');\n\n/**\n * merge the values from src in the dest.\n * means that properties that exist in dest will not be overwritten by src\n * @param {Object} dest\n * @param {Object} src\n * @returns {Object} dest\n */\nvar merge = deprecate(function merge(dest, src) {\n    return extend(dest, src, true);\n}, 'merge', 'Use `assign`.');\n\n/**\n * simple class inheritance\n * @param {Function} child\n * @param {Function} base\n * @param {Object} [properties]\n */\nfunction inherit(child, base, properties) {\n    var baseP = base.prototype,\n        childP;\n\n    childP = child.prototype = Object.create(baseP);\n    childP.constructor = child;\n    childP._super = baseP;\n\n    if (properties) {\n        assign(childP, properties);\n    }\n}\n\n/**\n * simple function bind\n * @param {Function} fn\n * @param {Object} context\n * @returns {Function}\n */\nfunction bindFn(fn, context) {\n    return function boundFn() {\n        return fn.apply(context, arguments);\n    };\n}\n\n/**\n * let a boolean value also be a function that must return a boolean\n * this first item in args will be used as the context\n * @param {Boolean|Function} val\n * @param {Array} [args]\n * @returns {Boolean}\n */\nfunction boolOrFn(val, args) {\n    if (typeof val == TYPE_FUNCTION) {\n        return val.apply(args ? args[0] || undefined : undefined, args);\n    }\n    return val;\n}\n\n/**\n * use the val2 when val1 is undefined\n * @param {*} val1\n * @param {*} val2\n * @returns {*}\n */\nfunction ifUndefined(val1, val2) {\n    return (val1 === undefined) ? val2 : val1;\n}\n\n/**\n * addEventListener with multiple events at once\n * @param {EventTarget} target\n * @param {String} types\n * @param {Function} handler\n */\nfunction addEventListeners(target, types, handler) {\n    each(splitStr(types), function(type) {\n        target.addEventListener(type, handler, false);\n    });\n}\n\n/**\n * removeEventListener with multiple events at once\n * @param {EventTarget} target\n * @param {String} types\n * @param {Function} handler\n */\nfunction removeEventListeners(target, types, handler) {\n    each(splitStr(types), function(type) {\n        target.removeEventListener(type, handler, false);\n    });\n}\n\n/**\n * find if a node is in the given parent\n * @method hasParent\n * @param {HTMLElement} node\n * @param {HTMLElement} parent\n * @return {Boolean} found\n */\nfunction hasParent(node, parent) {\n    while (node) {\n        if (node == parent) {\n            return true;\n        }\n        node = node.parentNode;\n    }\n    return false;\n}\n\n/**\n * small indexOf wrapper\n * @param {String} str\n * @param {String} find\n * @returns {Boolean} found\n */\nfunction inStr(str, find) {\n    return str.indexOf(find) > -1;\n}\n\n/**\n * split string on whitespace\n * @param {String} str\n * @returns {Array} words\n */\nfunction splitStr(str) {\n    return str.trim().split(/\\s+/g);\n}\n\n/**\n * find if a array contains the object using indexOf or a simple polyFill\n * @param {Array} src\n * @param {String} find\n * @param {String} [findByKey]\n * @return {Boolean|Number} false when not found, or the index\n */\nfunction inArray(src, find, findByKey) {\n    if (src.indexOf && !findByKey) {\n        return src.indexOf(find);\n    } else {\n        var i = 0;\n        while (i < src.length) {\n            if ((findByKey && src[i][findByKey] == find) || (!findByKey && src[i] === find)) {\n                return i;\n            }\n            i++;\n        }\n        return -1;\n    }\n}\n\n/**\n * convert array-like objects to real arrays\n * @param {Object} obj\n * @returns {Array}\n */\nfunction toArray(obj) {\n    return Array.prototype.slice.call(obj, 0);\n}\n\n/**\n * unique array with objects based on a key (like 'id') or just by the array's value\n * @param {Array} src [{id:1},{id:2},{id:1}]\n * @param {String} [key]\n * @param {Boolean} [sort=False]\n * @returns {Array} [{id:1},{id:2}]\n */\nfunction uniqueArray(src, key, sort) {\n    var results = [];\n    var values = [];\n    var i = 0;\n\n    while (i < src.length) {\n        var val = key ? src[i][key] : src[i];\n        if (inArray(values, val) < 0) {\n            results.push(src[i]);\n        }\n        values[i] = val;\n        i++;\n    }\n\n    if (sort) {\n        if (!key) {\n            results = results.sort();\n        } else {\n            results = results.sort(function sortUniqueArray(a, b) {\n                return a[key] > b[key];\n            });\n        }\n    }\n\n    return results;\n}\n\n/**\n * get the prefixed property\n * @param {Object} obj\n * @param {String} property\n * @returns {String|Undefined} prefixed\n */\nfunction prefixed(obj, property) {\n    var prefix, prop;\n    var camelProp = property[0].toUpperCase() + property.slice(1);\n\n    var i = 0;\n    while (i < VENDOR_PREFIXES.length) {\n        prefix = VENDOR_PREFIXES[i];\n        prop = (prefix) ? prefix + camelProp : property;\n\n        if (prop in obj) {\n            return prop;\n        }\n        i++;\n    }\n    return undefined;\n}\n\n/**\n * get a unique id\n * @returns {number} uniqueId\n */\nvar _uniqueId = 1;\nfunction uniqueId() {\n    return _uniqueId++;\n}\n\n/**\n * get the window object of an element\n * @param {HTMLElement} element\n * @returns {DocumentView|Window}\n */\nfunction getWindowForElement(element) {\n    var doc = element.ownerDocument || element;\n    return (doc.defaultView || doc.parentWindow || window);\n}\n\nvar MOBILE_REGEX = /mobile|tablet|ip(ad|hone|od)|android/i;\n\nvar SUPPORT_TOUCH = ('ontouchstart' in window);\nvar SUPPORT_POINTER_EVENTS = prefixed(window, 'PointerEvent') !== undefined;\nvar SUPPORT_ONLY_TOUCH = SUPPORT_TOUCH && MOBILE_REGEX.test(navigator.userAgent);\n\nvar INPUT_TYPE_TOUCH = 'touch';\nvar INPUT_TYPE_PEN = 'pen';\nvar INPUT_TYPE_MOUSE = 'mouse';\nvar INPUT_TYPE_KINECT = 'kinect';\n\nvar COMPUTE_INTERVAL = 25;\n\nvar INPUT_START = 1;\nvar INPUT_MOVE = 2;\nvar INPUT_END = 4;\nvar INPUT_CANCEL = 8;\n\nvar DIRECTION_NONE = 1;\nvar DIRECTION_LEFT = 2;\nvar DIRECTION_RIGHT = 4;\nvar DIRECTION_UP = 8;\nvar DIRECTION_DOWN = 16;\n\nvar DIRECTION_HORIZONTAL = DIRECTION_LEFT | DIRECTION_RIGHT;\nvar DIRECTION_VERTICAL = DIRECTION_UP | DIRECTION_DOWN;\nvar DIRECTION_ALL = DIRECTION_HORIZONTAL | DIRECTION_VERTICAL;\n\nvar PROPS_XY = ['x', 'y'];\nvar PROPS_CLIENT_XY = ['clientX', 'clientY'];\n\n/**\n * create new input type manager\n * @param {Manager} manager\n * @param {Function} callback\n * @returns {Input}\n * @constructor\n */\nfunction Input(manager, callback) {\n    var self = this;\n    this.manager = manager;\n    this.callback = callback;\n    this.element = manager.element;\n    this.target = manager.options.inputTarget;\n\n    // smaller wrapper around the handler, for the scope and the enabled state of the manager,\n    // so when disabled the input events are completely bypassed.\n    this.domHandler = function(ev) {\n        if (boolOrFn(manager.options.enable, [manager])) {\n            self.handler(ev);\n        }\n    };\n\n    this.init();\n\n}\n\nInput.prototype = {\n    /**\n     * should handle the inputEvent data and trigger the callback\n     * @virtual\n     */\n    handler: function() { },\n\n    /**\n     * bind the events\n     */\n    init: function() {\n        this.evEl && addEventListeners(this.element, this.evEl, this.domHandler);\n        this.evTarget && addEventListeners(this.target, this.evTarget, this.domHandler);\n        this.evWin && addEventListeners(getWindowForElement(this.element), this.evWin, this.domHandler);\n    },\n\n    /**\n     * unbind the events\n     */\n    destroy: function() {\n        this.evEl && removeEventListeners(this.element, this.evEl, this.domHandler);\n        this.evTarget && removeEventListeners(this.target, this.evTarget, this.domHandler);\n        this.evWin && removeEventListeners(getWindowForElement(this.element), this.evWin, this.domHandler);\n    }\n};\n\n/**\n * create new input type manager\n * called by the Manager constructor\n * @param {Hammer} manager\n * @returns {Input}\n */\nfunction createInputInstance(manager) {\n    var Type;\n    var inputClass = manager.options.inputClass;\n\n    if (inputClass) {\n        Type = inputClass;\n    } else if (SUPPORT_POINTER_EVENTS) {\n        Type = PointerEventInput;\n    } else if (SUPPORT_ONLY_TOUCH) {\n        Type = TouchInput;\n    } else if (!SUPPORT_TOUCH) {\n        Type = MouseInput;\n    } else {\n        Type = TouchMouseInput;\n    }\n    return new (Type)(manager, inputHandler);\n}\n\n/**\n * handle input events\n * @param {Manager} manager\n * @param {String} eventType\n * @param {Object} input\n */\nfunction inputHandler(manager, eventType, input) {\n    var pointersLen = input.pointers.length;\n    var changedPointersLen = input.changedPointers.length;\n    var isFirst = (eventType & INPUT_START && (pointersLen - changedPointersLen === 0));\n    var isFinal = (eventType & (INPUT_END | INPUT_CANCEL) && (pointersLen - changedPointersLen === 0));\n\n    input.isFirst = !!isFirst;\n    input.isFinal = !!isFinal;\n\n    if (isFirst) {\n        manager.session = {};\n    }\n\n    // source event is the normalized value of the domEvents\n    // like 'touchstart, mouseup, pointerdown'\n    input.eventType = eventType;\n\n    // compute scale, rotation etc\n    computeInputData(manager, input);\n\n    // emit secret event\n    manager.emit('hammer.input', input);\n\n    manager.recognize(input);\n    manager.session.prevInput = input;\n}\n\n/**\n * extend the data with some usable properties like scale, rotate, velocity etc\n * @param {Object} manager\n * @param {Object} input\n */\nfunction computeInputData(manager, input) {\n    var session = manager.session;\n    var pointers = input.pointers;\n    var pointersLength = pointers.length;\n\n    // store the first input to calculate the distance and direction\n    if (!session.firstInput) {\n        session.firstInput = simpleCloneInputData(input);\n    }\n\n    // to compute scale and rotation we need to store the multiple touches\n    if (pointersLength > 1 && !session.firstMultiple) {\n        session.firstMultiple = simpleCloneInputData(input);\n    } else if (pointersLength === 1) {\n        session.firstMultiple = false;\n    }\n\n    var firstInput = session.firstInput;\n    var firstMultiple = session.firstMultiple;\n    var offsetCenter = firstMultiple ? firstMultiple.center : firstInput.center;\n\n    var center = input.center = getCenter(pointers);\n    input.timeStamp = now();\n    input.deltaTime = input.timeStamp - firstInput.timeStamp;\n\n    input.angle = getAngle(offsetCenter, center);\n    input.distance = getDistance(offsetCenter, center);\n\n    computeDeltaXY(session, input);\n    input.offsetDirection = getDirection(input.deltaX, input.deltaY);\n\n    var overallVelocity = getVelocity(input.deltaTime, input.deltaX, input.deltaY);\n    input.overallVelocityX = overallVelocity.x;\n    input.overallVelocityY = overallVelocity.y;\n    input.overallVelocity = (abs(overallVelocity.x) > abs(overallVelocity.y)) ? overallVelocity.x : overallVelocity.y;\n\n    input.scale = firstMultiple ? getScale(firstMultiple.pointers, pointers) : 1;\n    input.rotation = firstMultiple ? getRotation(firstMultiple.pointers, pointers) : 0;\n\n    input.maxPointers = !session.prevInput ? input.pointers.length : ((input.pointers.length >\n        session.prevInput.maxPointers) ? input.pointers.length : session.prevInput.maxPointers);\n\n    computeIntervalInputData(session, input);\n\n    // find the correct target\n    var target = manager.element;\n    if (hasParent(input.srcEvent.target, target)) {\n        target = input.srcEvent.target;\n    }\n    input.target = target;\n}\n\nfunction computeDeltaXY(session, input) {\n    var center = input.center;\n    var offset = session.offsetDelta || {};\n    var prevDelta = session.prevDelta || {};\n    var prevInput = session.prevInput || {};\n\n    if (input.eventType === INPUT_START || prevInput.eventType === INPUT_END) {\n        prevDelta = session.prevDelta = {\n            x: prevInput.deltaX || 0,\n            y: prevInput.deltaY || 0\n        };\n\n        offset = session.offsetDelta = {\n            x: center.x,\n            y: center.y\n        };\n    }\n\n    input.deltaX = prevDelta.x + (center.x - offset.x);\n    input.deltaY = prevDelta.y + (center.y - offset.y);\n}\n\n/**\n * velocity is calculated every x ms\n * @param {Object} session\n * @param {Object} input\n */\nfunction computeIntervalInputData(session, input) {\n    var last = session.lastInterval || input,\n        deltaTime = input.timeStamp - last.timeStamp,\n        velocity, velocityX, velocityY, direction;\n\n    if (input.eventType != INPUT_CANCEL && (deltaTime > COMPUTE_INTERVAL || last.velocity === undefined)) {\n        var deltaX = input.deltaX - last.deltaX;\n        var deltaY = input.deltaY - last.deltaY;\n\n        var v = getVelocity(deltaTime, deltaX, deltaY);\n        velocityX = v.x;\n        velocityY = v.y;\n        velocity = (abs(v.x) > abs(v.y)) ? v.x : v.y;\n        direction = getDirection(deltaX, deltaY);\n\n        session.lastInterval = input;\n    } else {\n        // use latest velocity info if it doesn't overtake a minimum period\n        velocity = last.velocity;\n        velocityX = last.velocityX;\n        velocityY = last.velocityY;\n        direction = last.direction;\n    }\n\n    input.velocity = velocity;\n    input.velocityX = velocityX;\n    input.velocityY = velocityY;\n    input.direction = direction;\n}\n\n/**\n * create a simple clone from the input used for storage of firstInput and firstMultiple\n * @param {Object} input\n * @returns {Object} clonedInputData\n */\nfunction simpleCloneInputData(input) {\n    // make a simple copy of the pointers because we will get a reference if we don't\n    // we only need clientXY for the calculations\n    var pointers = [];\n    var i = 0;\n    while (i < input.pointers.length) {\n        pointers[i] = {\n            clientX: round(input.pointers[i].clientX),\n            clientY: round(input.pointers[i].clientY)\n        };\n        i++;\n    }\n\n    return {\n        timeStamp: now(),\n        pointers: pointers,\n        center: getCenter(pointers),\n        deltaX: input.deltaX,\n        deltaY: input.deltaY\n    };\n}\n\n/**\n * get the center of all the pointers\n * @param {Array} pointers\n * @return {Object} center contains `x` and `y` properties\n */\nfunction getCenter(pointers) {\n    var pointersLength = pointers.length;\n\n    // no need to loop when only one touch\n    if (pointersLength === 1) {\n        return {\n            x: round(pointers[0].clientX),\n            y: round(pointers[0].clientY)\n        };\n    }\n\n    var x = 0, y = 0, i = 0;\n    while (i < pointersLength) {\n        x += pointers[i].clientX;\n        y += pointers[i].clientY;\n        i++;\n    }\n\n    return {\n        x: round(x / pointersLength),\n        y: round(y / pointersLength)\n    };\n}\n\n/**\n * calculate the velocity between two points. unit is in px per ms.\n * @param {Number} deltaTime\n * @param {Number} x\n * @param {Number} y\n * @return {Object} velocity `x` and `y`\n */\nfunction getVelocity(deltaTime, x, y) {\n    return {\n        x: x / deltaTime || 0,\n        y: y / deltaTime || 0\n    };\n}\n\n/**\n * get the direction between two points\n * @param {Number} x\n * @param {Number} y\n * @return {Number} direction\n */\nfunction getDirection(x, y) {\n    if (x === y) {\n        return DIRECTION_NONE;\n    }\n\n    if (abs(x) >= abs(y)) {\n        return x < 0 ? DIRECTION_LEFT : DIRECTION_RIGHT;\n    }\n    return y < 0 ? DIRECTION_UP : DIRECTION_DOWN;\n}\n\n/**\n * calculate the absolute distance between two points\n * @param {Object} p1 {x, y}\n * @param {Object} p2 {x, y}\n * @param {Array} [props] containing x and y keys\n * @return {Number} distance\n */\nfunction getDistance(p1, p2, props) {\n    if (!props) {\n        props = PROPS_XY;\n    }\n    var x = p2[props[0]] - p1[props[0]],\n        y = p2[props[1]] - p1[props[1]];\n\n    return Math.sqrt((x * x) + (y * y));\n}\n\n/**\n * calculate the angle between two coordinates\n * @param {Object} p1\n * @param {Object} p2\n * @param {Array} [props] containing x and y keys\n * @return {Number} angle\n */\nfunction getAngle(p1, p2, props) {\n    if (!props) {\n        props = PROPS_XY;\n    }\n    var x = p2[props[0]] - p1[props[0]],\n        y = p2[props[1]] - p1[props[1]];\n    return Math.atan2(y, x) * 180 / Math.PI;\n}\n\n/**\n * calculate the rotation degrees between two pointersets\n * @param {Array} start array of pointers\n * @param {Array} end array of pointers\n * @return {Number} rotation\n */\nfunction getRotation(start, end) {\n    return getAngle(end[1], end[0], PROPS_CLIENT_XY) + getAngle(start[1], start[0], PROPS_CLIENT_XY);\n}\n\n/**\n * calculate the scale factor between two pointersets\n * no scale is 1, and goes down to 0 when pinched together, and bigger when pinched out\n * @param {Array} start array of pointers\n * @param {Array} end array of pointers\n * @return {Number} scale\n */\nfunction getScale(start, end) {\n    return getDistance(end[0], end[1], PROPS_CLIENT_XY) / getDistance(start[0], start[1], PROPS_CLIENT_XY);\n}\n\nvar MOUSE_INPUT_MAP = {\n    mousedown: INPUT_START,\n    mousemove: INPUT_MOVE,\n    mouseup: INPUT_END\n};\n\nvar MOUSE_ELEMENT_EVENTS = 'mousedown';\nvar MOUSE_WINDOW_EVENTS = 'mousemove mouseup';\n\n/**\n * Mouse events input\n * @constructor\n * @extends Input\n */\nfunction MouseInput() {\n    this.evEl = MOUSE_ELEMENT_EVENTS;\n    this.evWin = MOUSE_WINDOW_EVENTS;\n\n    this.pressed = false; // mousedown state\n\n    Input.apply(this, arguments);\n}\n\ninherit(MouseInput, Input, {\n    /**\n     * handle mouse events\n     * @param {Object} ev\n     */\n    handler: function MEhandler(ev) {\n        var eventType = MOUSE_INPUT_MAP[ev.type];\n\n        // on start we want to have the left mouse button down\n        if (eventType & INPUT_START && ev.button === 0) {\n            this.pressed = true;\n        }\n\n        if (eventType & INPUT_MOVE && ev.which !== 1) {\n            eventType = INPUT_END;\n        }\n\n        // mouse must be down\n        if (!this.pressed) {\n            return;\n        }\n\n        if (eventType & INPUT_END) {\n            this.pressed = false;\n        }\n\n        this.callback(this.manager, eventType, {\n            pointers: [ev],\n            changedPointers: [ev],\n            pointerType: INPUT_TYPE_MOUSE,\n            srcEvent: ev\n        });\n    }\n});\n\nvar POINTER_INPUT_MAP = {\n    pointerdown: INPUT_START,\n    pointermove: INPUT_MOVE,\n    pointerup: INPUT_END,\n    pointercancel: INPUT_CANCEL,\n    pointerout: INPUT_CANCEL\n};\n\n// in IE10 the pointer types is defined as an enum\nvar IE10_POINTER_TYPE_ENUM = {\n    2: INPUT_TYPE_TOUCH,\n    3: INPUT_TYPE_PEN,\n    4: INPUT_TYPE_MOUSE,\n    5: INPUT_TYPE_KINECT // see https://twitter.com/jacobrossi/status/480596438489890816\n};\n\nvar POINTER_ELEMENT_EVENTS = 'pointerdown';\nvar POINTER_WINDOW_EVENTS = 'pointermove pointerup pointercancel';\n\n// IE10 has prefixed support, and case-sensitive\nif (window.MSPointerEvent && !window.PointerEvent) {\n    POINTER_ELEMENT_EVENTS = 'MSPointerDown';\n    POINTER_WINDOW_EVENTS = 'MSPointerMove MSPointerUp MSPointerCancel';\n}\n\n/**\n * Pointer events input\n * @constructor\n * @extends Input\n */\nfunction PointerEventInput() {\n    this.evEl = POINTER_ELEMENT_EVENTS;\n    this.evWin = POINTER_WINDOW_EVENTS;\n\n    Input.apply(this, arguments);\n\n    this.store = (this.manager.session.pointerEvents = []);\n}\n\ninherit(PointerEventInput, Input, {\n    /**\n     * handle mouse events\n     * @param {Object} ev\n     */\n    handler: function PEhandler(ev) {\n        var store = this.store;\n        var removePointer = false;\n\n        var eventTypeNormalized = ev.type.toLowerCase().replace('ms', '');\n        var eventType = POINTER_INPUT_MAP[eventTypeNormalized];\n        var pointerType = IE10_POINTER_TYPE_ENUM[ev.pointerType] || ev.pointerType;\n\n        var isTouch = (pointerType == INPUT_TYPE_TOUCH);\n\n        // get index of the event in the store\n        var storeIndex = inArray(store, ev.pointerId, 'pointerId');\n\n        // start and mouse must be down\n        if (eventType & INPUT_START && (ev.button === 0 || isTouch)) {\n            if (storeIndex < 0) {\n                store.push(ev);\n                storeIndex = store.length - 1;\n            }\n        } else if (eventType & (INPUT_END | INPUT_CANCEL)) {\n            removePointer = true;\n        }\n\n        // it not found, so the pointer hasn't been down (so it's probably a hover)\n        if (storeIndex < 0) {\n            return;\n        }\n\n        // update the event in the store\n        store[storeIndex] = ev;\n\n        this.callback(this.manager, eventType, {\n            pointers: store,\n            changedPointers: [ev],\n            pointerType: pointerType,\n            srcEvent: ev\n        });\n\n        if (removePointer) {\n            // remove from the store\n            store.splice(storeIndex, 1);\n        }\n    }\n});\n\nvar SINGLE_TOUCH_INPUT_MAP = {\n    touchstart: INPUT_START,\n    touchmove: INPUT_MOVE,\n    touchend: INPUT_END,\n    touchcancel: INPUT_CANCEL\n};\n\nvar SINGLE_TOUCH_TARGET_EVENTS = 'touchstart';\nvar SINGLE_TOUCH_WINDOW_EVENTS = 'touchstart touchmove touchend touchcancel';\n\n/**\n * Touch events input\n * @constructor\n * @extends Input\n */\nfunction SingleTouchInput() {\n    this.evTarget = SINGLE_TOUCH_TARGET_EVENTS;\n    this.evWin = SINGLE_TOUCH_WINDOW_EVENTS;\n    this.started = false;\n\n    Input.apply(this, arguments);\n}\n\ninherit(SingleTouchInput, Input, {\n    handler: function TEhandler(ev) {\n        var type = SINGLE_TOUCH_INPUT_MAP[ev.type];\n\n        // should we handle the touch events?\n        if (type === INPUT_START) {\n            this.started = true;\n        }\n\n        if (!this.started) {\n            return;\n        }\n\n        var touches = normalizeSingleTouches.call(this, ev, type);\n\n        // when done, reset the started state\n        if (type & (INPUT_END | INPUT_CANCEL) && touches[0].length - touches[1].length === 0) {\n            this.started = false;\n        }\n\n        this.callback(this.manager, type, {\n            pointers: touches[0],\n            changedPointers: touches[1],\n            pointerType: INPUT_TYPE_TOUCH,\n            srcEvent: ev\n        });\n    }\n});\n\n/**\n * @this {TouchInput}\n * @param {Object} ev\n * @param {Number} type flag\n * @returns {undefined|Array} [all, changed]\n */\nfunction normalizeSingleTouches(ev, type) {\n    var all = toArray(ev.touches);\n    var changed = toArray(ev.changedTouches);\n\n    if (type & (INPUT_END | INPUT_CANCEL)) {\n        all = uniqueArray(all.concat(changed), 'identifier', true);\n    }\n\n    return [all, changed];\n}\n\nvar TOUCH_INPUT_MAP = {\n    touchstart: INPUT_START,\n    touchmove: INPUT_MOVE,\n    touchend: INPUT_END,\n    touchcancel: INPUT_CANCEL\n};\n\nvar TOUCH_TARGET_EVENTS = 'touchstart touchmove touchend touchcancel';\n\n/**\n * Multi-user touch events input\n * @constructor\n * @extends Input\n */\nfunction TouchInput() {\n    this.evTarget = TOUCH_TARGET_EVENTS;\n    this.targetIds = {};\n\n    Input.apply(this, arguments);\n}\n\ninherit(TouchInput, Input, {\n    handler: function MTEhandler(ev) {\n        var type = TOUCH_INPUT_MAP[ev.type];\n        var touches = getTouches.call(this, ev, type);\n        if (!touches) {\n            return;\n        }\n\n        this.callback(this.manager, type, {\n            pointers: touches[0],\n            changedPointers: touches[1],\n            pointerType: INPUT_TYPE_TOUCH,\n            srcEvent: ev\n        });\n    }\n});\n\n/**\n * @this {TouchInput}\n * @param {Object} ev\n * @param {Number} type flag\n * @returns {undefined|Array} [all, changed]\n */\nfunction getTouches(ev, type) {\n    var allTouches = toArray(ev.touches);\n    var targetIds = this.targetIds;\n\n    // when there is only one touch, the process can be simplified\n    if (type & (INPUT_START | INPUT_MOVE) && allTouches.length === 1) {\n        targetIds[allTouches[0].identifier] = true;\n        return [allTouches, allTouches];\n    }\n\n    var i,\n        targetTouches,\n        changedTouches = toArray(ev.changedTouches),\n        changedTargetTouches = [],\n        target = this.target;\n\n    // get target touches from touches\n    targetTouches = allTouches.filter(function(touch) {\n        return hasParent(touch.target, target);\n    });\n\n    // collect touches\n    if (type === INPUT_START) {\n        i = 0;\n        while (i < targetTouches.length) {\n            targetIds[targetTouches[i].identifier] = true;\n            i++;\n        }\n    }\n\n    // filter changed touches to only contain touches that exist in the collected target ids\n    i = 0;\n    while (i < changedTouches.length) {\n        if (targetIds[changedTouches[i].identifier]) {\n            changedTargetTouches.push(changedTouches[i]);\n        }\n\n        // cleanup removed touches\n        if (type & (INPUT_END | INPUT_CANCEL)) {\n            delete targetIds[changedTouches[i].identifier];\n        }\n        i++;\n    }\n\n    if (!changedTargetTouches.length) {\n        return;\n    }\n\n    return [\n        // merge targetTouches with changedTargetTouches so it contains ALL touches, including 'end' and 'cancel'\n        uniqueArray(targetTouches.concat(changedTargetTouches), 'identifier', true),\n        changedTargetTouches\n    ];\n}\n\n/**\n * Combined touch and mouse input\n *\n * Touch has a higher priority then mouse, and while touching no mouse events are allowed.\n * This because touch devices also emit mouse events while doing a touch.\n *\n * @constructor\n * @extends Input\n */\n\nvar DEDUP_TIMEOUT = 2500;\nvar DEDUP_DISTANCE = 25;\n\nfunction TouchMouseInput() {\n    Input.apply(this, arguments);\n\n    var handler = bindFn(this.handler, this);\n    this.touch = new TouchInput(this.manager, handler);\n    this.mouse = new MouseInput(this.manager, handler);\n\n    this.primaryTouch = null;\n    this.lastTouches = [];\n}\n\ninherit(TouchMouseInput, Input, {\n    /**\n     * handle mouse and touch events\n     * @param {Hammer} manager\n     * @param {String} inputEvent\n     * @param {Object} inputData\n     */\n    handler: function TMEhandler(manager, inputEvent, inputData) {\n        var isTouch = (inputData.pointerType == INPUT_TYPE_TOUCH),\n            isMouse = (inputData.pointerType == INPUT_TYPE_MOUSE);\n\n        if (isMouse && inputData.sourceCapabilities && inputData.sourceCapabilities.firesTouchEvents) {\n            return;\n        }\n\n        // when we're in a touch event, record touches to  de-dupe synthetic mouse event\n        if (isTouch) {\n            recordTouches.call(this, inputEvent, inputData);\n        } else if (isMouse && isSyntheticEvent.call(this, inputData)) {\n            return;\n        }\n\n        this.callback(manager, inputEvent, inputData);\n    },\n\n    /**\n     * remove the event listeners\n     */\n    destroy: function destroy() {\n        this.touch.destroy();\n        this.mouse.destroy();\n    }\n});\n\nfunction recordTouches(eventType, eventData) {\n    if (eventType & INPUT_START) {\n        this.primaryTouch = eventData.changedPointers[0].identifier;\n        setLastTouch.call(this, eventData);\n    } else if (eventType & (INPUT_END | INPUT_CANCEL)) {\n        setLastTouch.call(this, eventData);\n    }\n}\n\nfunction setLastTouch(eventData) {\n    var touch = eventData.changedPointers[0];\n\n    if (touch.identifier === this.primaryTouch) {\n        var lastTouch = {x: touch.clientX, y: touch.clientY};\n        this.lastTouches.push(lastTouch);\n        var lts = this.lastTouches;\n        var removeLastTouch = function() {\n            var i = lts.indexOf(lastTouch);\n            if (i > -1) {\n                lts.splice(i, 1);\n            }\n        };\n        setTimeout(removeLastTouch, DEDUP_TIMEOUT);\n    }\n}\n\nfunction isSyntheticEvent(eventData) {\n    var x = eventData.srcEvent.clientX, y = eventData.srcEvent.clientY;\n    for (var i = 0; i < this.lastTouches.length; i++) {\n        var t = this.lastTouches[i];\n        var dx = Math.abs(x - t.x), dy = Math.abs(y - t.y);\n        if (dx <= DEDUP_DISTANCE && dy <= DEDUP_DISTANCE) {\n            return true;\n        }\n    }\n    return false;\n}\n\nvar PREFIXED_TOUCH_ACTION = prefixed(TEST_ELEMENT.style, 'touchAction');\nvar NATIVE_TOUCH_ACTION = PREFIXED_TOUCH_ACTION !== undefined;\n\n// magical touchAction value\nvar TOUCH_ACTION_COMPUTE = 'compute';\nvar TOUCH_ACTION_AUTO = 'auto';\nvar TOUCH_ACTION_MANIPULATION = 'manipulation'; // not implemented\nvar TOUCH_ACTION_NONE = 'none';\nvar TOUCH_ACTION_PAN_X = 'pan-x';\nvar TOUCH_ACTION_PAN_Y = 'pan-y';\nvar TOUCH_ACTION_MAP = getTouchActionProps();\n\n/**\n * Touch Action\n * sets the touchAction property or uses the js alternative\n * @param {Manager} manager\n * @param {String} value\n * @constructor\n */\nfunction TouchAction(manager, value) {\n    this.manager = manager;\n    this.set(value);\n}\n\nTouchAction.prototype = {\n    /**\n     * set the touchAction value on the element or enable the polyfill\n     * @param {String} value\n     */\n    set: function(value) {\n        // find out the touch-action by the event handlers\n        if (value == TOUCH_ACTION_COMPUTE) {\n            value = this.compute();\n        }\n\n        if (NATIVE_TOUCH_ACTION && this.manager.element.style && TOUCH_ACTION_MAP[value]) {\n            this.manager.element.style[PREFIXED_TOUCH_ACTION] = value;\n        }\n        this.actions = value.toLowerCase().trim();\n    },\n\n    /**\n     * just re-set the touchAction value\n     */\n    update: function() {\n        this.set(this.manager.options.touchAction);\n    },\n\n    /**\n     * compute the value for the touchAction property based on the recognizer's settings\n     * @returns {String} value\n     */\n    compute: function() {\n        var actions = [];\n        each(this.manager.recognizers, function(recognizer) {\n            if (boolOrFn(recognizer.options.enable, [recognizer])) {\n                actions = actions.concat(recognizer.getTouchAction());\n            }\n        });\n        return cleanTouchActions(actions.join(' '));\n    },\n\n    /**\n     * this method is called on each input cycle and provides the preventing of the browser behavior\n     * @param {Object} input\n     */\n    preventDefaults: function(input) {\n        var srcEvent = input.srcEvent;\n        var direction = input.offsetDirection;\n\n        // if the touch action did prevented once this session\n        if (this.manager.session.prevented) {\n            srcEvent.preventDefault();\n            return;\n        }\n\n        var actions = this.actions;\n        var hasNone = inStr(actions, TOUCH_ACTION_NONE) && !TOUCH_ACTION_MAP[TOUCH_ACTION_NONE];\n        var hasPanY = inStr(actions, TOUCH_ACTION_PAN_Y) && !TOUCH_ACTION_MAP[TOUCH_ACTION_PAN_Y];\n        var hasPanX = inStr(actions, TOUCH_ACTION_PAN_X) && !TOUCH_ACTION_MAP[TOUCH_ACTION_PAN_X];\n\n        if (hasNone) {\n            //do not prevent defaults if this is a tap gesture\n\n            var isTapPointer = input.pointers.length === 1;\n            var isTapMovement = input.distance < 2;\n            var isTapTouchTime = input.deltaTime < 250;\n\n            if (isTapPointer && isTapMovement && isTapTouchTime) {\n                return;\n            }\n        }\n\n        if (hasPanX && hasPanY) {\n            // `pan-x pan-y` means browser handles all scrolling/panning, do not prevent\n            return;\n        }\n\n        if (hasNone ||\n            (hasPanY && direction & DIRECTION_HORIZONTAL) ||\n            (hasPanX && direction & DIRECTION_VERTICAL)) {\n            return this.preventSrc(srcEvent);\n        }\n    },\n\n    /**\n     * call preventDefault to prevent the browser's default behavior (scrolling in most cases)\n     * @param {Object} srcEvent\n     */\n    preventSrc: function(srcEvent) {\n        this.manager.session.prevented = true;\n        srcEvent.preventDefault();\n    }\n};\n\n/**\n * when the touchActions are collected they are not a valid value, so we need to clean things up. *\n * @param {String} actions\n * @returns {*}\n */\nfunction cleanTouchActions(actions) {\n    // none\n    if (inStr(actions, TOUCH_ACTION_NONE)) {\n        return TOUCH_ACTION_NONE;\n    }\n\n    var hasPanX = inStr(actions, TOUCH_ACTION_PAN_X);\n    var hasPanY = inStr(actions, TOUCH_ACTION_PAN_Y);\n\n    // if both pan-x and pan-y are set (different recognizers\n    // for different directions, e.g. horizontal pan but vertical swipe?)\n    // we need none (as otherwise with pan-x pan-y combined none of these\n    // recognizers will work, since the browser would handle all panning\n    if (hasPanX && hasPanY) {\n        return TOUCH_ACTION_NONE;\n    }\n\n    // pan-x OR pan-y\n    if (hasPanX || hasPanY) {\n        return hasPanX ? TOUCH_ACTION_PAN_X : TOUCH_ACTION_PAN_Y;\n    }\n\n    // manipulation\n    if (inStr(actions, TOUCH_ACTION_MANIPULATION)) {\n        return TOUCH_ACTION_MANIPULATION;\n    }\n\n    return TOUCH_ACTION_AUTO;\n}\n\nfunction getTouchActionProps() {\n    if (!NATIVE_TOUCH_ACTION) {\n        return false;\n    }\n    var touchMap = {};\n    var cssSupports = window.CSS && window.CSS.supports;\n    ['auto', 'manipulation', 'pan-y', 'pan-x', 'pan-x pan-y', 'none'].forEach(function(val) {\n\n        // If css.supports is not supported but there is native touch-action assume it supports\n        // all values. This is the case for IE 10 and 11.\n        touchMap[val] = cssSupports ? window.CSS.supports('touch-action', val) : true;\n    });\n    return touchMap;\n}\n\n/**\n * Recognizer flow explained; *\n * All recognizers have the initial state of POSSIBLE when a input session starts.\n * The definition of a input session is from the first input until the last input, with all it's movement in it. *\n * Example session for mouse-input: mousedown -> mousemove -> mouseup\n *\n * On each recognizing cycle (see Manager.recognize) the .recognize() method is executed\n * which determines with state it should be.\n *\n * If the recognizer has the state FAILED, CANCELLED or RECOGNIZED (equals ENDED), it is reset to\n * POSSIBLE to give it another change on the next cycle.\n *\n *               Possible\n *                  |\n *            +-----+---------------+\n *            |                     |\n *      +-----+-----+               |\n *      |           |               |\n *   Failed      Cancelled          |\n *                          +-------+------+\n *                          |              |\n *                      Recognized       Began\n *                                         |\n *                                      Changed\n *                                         |\n *                                  Ended/Recognized\n */\nvar STATE_POSSIBLE = 1;\nvar STATE_BEGAN = 2;\nvar STATE_CHANGED = 4;\nvar STATE_ENDED = 8;\nvar STATE_RECOGNIZED = STATE_ENDED;\nvar STATE_CANCELLED = 16;\nvar STATE_FAILED = 32;\n\n/**\n * Recognizer\n * Every recognizer needs to extend from this class.\n * @constructor\n * @param {Object} options\n */\nfunction Recognizer(options) {\n    this.options = assign({}, this.defaults, options || {});\n\n    this.id = uniqueId();\n\n    this.manager = null;\n\n    // default is enable true\n    this.options.enable = ifUndefined(this.options.enable, true);\n\n    this.state = STATE_POSSIBLE;\n\n    this.simultaneous = {};\n    this.requireFail = [];\n}\n\nRecognizer.prototype = {\n    /**\n     * @virtual\n     * @type {Object}\n     */\n    defaults: {},\n\n    /**\n     * set options\n     * @param {Object} options\n     * @return {Recognizer}\n     */\n    set: function(options) {\n        assign(this.options, options);\n\n        // also update the touchAction, in case something changed about the directions/enabled state\n        this.manager && this.manager.touchAction.update();\n        return this;\n    },\n\n    /**\n     * recognize simultaneous with an other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    recognizeWith: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'recognizeWith', this)) {\n            return this;\n        }\n\n        var simultaneous = this.simultaneous;\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        if (!simultaneous[otherRecognizer.id]) {\n            simultaneous[otherRecognizer.id] = otherRecognizer;\n            otherRecognizer.recognizeWith(this);\n        }\n        return this;\n    },\n\n    /**\n     * drop the simultaneous link. it doesnt remove the link on the other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    dropRecognizeWith: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'dropRecognizeWith', this)) {\n            return this;\n        }\n\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        delete this.simultaneous[otherRecognizer.id];\n        return this;\n    },\n\n    /**\n     * recognizer can only run when an other is failing\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    requireFailure: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'requireFailure', this)) {\n            return this;\n        }\n\n        var requireFail = this.requireFail;\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        if (inArray(requireFail, otherRecognizer) === -1) {\n            requireFail.push(otherRecognizer);\n            otherRecognizer.requireFailure(this);\n        }\n        return this;\n    },\n\n    /**\n     * drop the requireFailure link. it does not remove the link on the other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    dropRequireFailure: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'dropRequireFailure', this)) {\n            return this;\n        }\n\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        var index = inArray(this.requireFail, otherRecognizer);\n        if (index > -1) {\n            this.requireFail.splice(index, 1);\n        }\n        return this;\n    },\n\n    /**\n     * has require failures boolean\n     * @returns {boolean}\n     */\n    hasRequireFailures: function() {\n        return this.requireFail.length > 0;\n    },\n\n    /**\n     * if the recognizer can recognize simultaneous with an other recognizer\n     * @param {Recognizer} otherRecognizer\n     * @returns {Boolean}\n     */\n    canRecognizeWith: function(otherRecognizer) {\n        return !!this.simultaneous[otherRecognizer.id];\n    },\n\n    /**\n     * You should use `tryEmit` instead of `emit` directly to check\n     * that all the needed recognizers has failed before emitting.\n     * @param {Object} input\n     */\n    emit: function(input) {\n        var self = this;\n        var state = this.state;\n\n        function emit(event) {\n            self.manager.emit(event, input);\n        }\n\n        // 'panstart' and 'panmove'\n        if (state < STATE_ENDED) {\n            emit(self.options.event + stateStr(state));\n        }\n\n        emit(self.options.event); // simple 'eventName' events\n\n        if (input.additionalEvent) { // additional event(panleft, panright, pinchin, pinchout...)\n            emit(input.additionalEvent);\n        }\n\n        // panend and pancancel\n        if (state >= STATE_ENDED) {\n            emit(self.options.event + stateStr(state));\n        }\n    },\n\n    /**\n     * Check that all the require failure recognizers has failed,\n     * if true, it emits a gesture event,\n     * otherwise, setup the state to FAILED.\n     * @param {Object} input\n     */\n    tryEmit: function(input) {\n        if (this.canEmit()) {\n            return this.emit(input);\n        }\n        // it's failing anyway\n        this.state = STATE_FAILED;\n    },\n\n    /**\n     * can we emit?\n     * @returns {boolean}\n     */\n    canEmit: function() {\n        var i = 0;\n        while (i < this.requireFail.length) {\n            if (!(this.requireFail[i].state & (STATE_FAILED | STATE_POSSIBLE))) {\n                return false;\n            }\n            i++;\n        }\n        return true;\n    },\n\n    /**\n     * update the recognizer\n     * @param {Object} inputData\n     */\n    recognize: function(inputData) {\n        // make a new copy of the inputData\n        // so we can change the inputData without messing up the other recognizers\n        var inputDataClone = assign({}, inputData);\n\n        // is is enabled and allow recognizing?\n        if (!boolOrFn(this.options.enable, [this, inputDataClone])) {\n            this.reset();\n            this.state = STATE_FAILED;\n            return;\n        }\n\n        // reset when we've reached the end\n        if (this.state & (STATE_RECOGNIZED | STATE_CANCELLED | STATE_FAILED)) {\n            this.state = STATE_POSSIBLE;\n        }\n\n        this.state = this.process(inputDataClone);\n\n        // the recognizer has recognized a gesture\n        // so trigger an event\n        if (this.state & (STATE_BEGAN | STATE_CHANGED | STATE_ENDED | STATE_CANCELLED)) {\n            this.tryEmit(inputDataClone);\n        }\n    },\n\n    /**\n     * return the state of the recognizer\n     * the actual recognizing happens in this method\n     * @virtual\n     * @param {Object} inputData\n     * @returns {Const} STATE\n     */\n    process: function(inputData) { }, // jshint ignore:line\n\n    /**\n     * return the preferred touch-action\n     * @virtual\n     * @returns {Array}\n     */\n    getTouchAction: function() { },\n\n    /**\n     * called when the gesture isn't allowed to recognize\n     * like when another is being recognized or it is disabled\n     * @virtual\n     */\n    reset: function() { }\n};\n\n/**\n * get a usable string, used as event postfix\n * @param {Const} state\n * @returns {String} state\n */\nfunction stateStr(state) {\n    if (state & STATE_CANCELLED) {\n        return 'cancel';\n    } else if (state & STATE_ENDED) {\n        return 'end';\n    } else if (state & STATE_CHANGED) {\n        return 'move';\n    } else if (state & STATE_BEGAN) {\n        return 'start';\n    }\n    return '';\n}\n\n/**\n * direction cons to string\n * @param {Const} direction\n * @returns {String}\n */\nfunction directionStr(direction) {\n    if (direction == DIRECTION_DOWN) {\n        return 'down';\n    } else if (direction == DIRECTION_UP) {\n        return 'up';\n    } else if (direction == DIRECTION_LEFT) {\n        return 'left';\n    } else if (direction == DIRECTION_RIGHT) {\n        return 'right';\n    }\n    return '';\n}\n\n/**\n * get a recognizer by name if it is bound to a manager\n * @param {Recognizer|String} otherRecognizer\n * @param {Recognizer} recognizer\n * @returns {Recognizer}\n */\nfunction getRecognizerByNameIfManager(otherRecognizer, recognizer) {\n    var manager = recognizer.manager;\n    if (manager) {\n        return manager.get(otherRecognizer);\n    }\n    return otherRecognizer;\n}\n\n/**\n * This recognizer is just used as a base for the simple attribute recognizers.\n * @constructor\n * @extends Recognizer\n */\nfunction AttrRecognizer() {\n    Recognizer.apply(this, arguments);\n}\n\ninherit(AttrRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof AttrRecognizer\n     */\n    defaults: {\n        /**\n         * @type {Number}\n         * @default 1\n         */\n        pointers: 1\n    },\n\n    /**\n     * Used to check if it the recognizer receives valid input, like input.distance > 10.\n     * @memberof AttrRecognizer\n     * @param {Object} input\n     * @returns {Boolean} recognized\n     */\n    attrTest: function(input) {\n        var optionPointers = this.options.pointers;\n        return optionPointers === 0 || input.pointers.length === optionPointers;\n    },\n\n    /**\n     * Process the input and return the state for the recognizer\n     * @memberof AttrRecognizer\n     * @param {Object} input\n     * @returns {*} State\n     */\n    process: function(input) {\n        var state = this.state;\n        var eventType = input.eventType;\n\n        var isRecognized = state & (STATE_BEGAN | STATE_CHANGED);\n        var isValid = this.attrTest(input);\n\n        // on cancel input and we've recognized before, return STATE_CANCELLED\n        if (isRecognized && (eventType & INPUT_CANCEL || !isValid)) {\n            return state | STATE_CANCELLED;\n        } else if (isRecognized || isValid) {\n            if (eventType & INPUT_END) {\n                return state | STATE_ENDED;\n            } else if (!(state & STATE_BEGAN)) {\n                return STATE_BEGAN;\n            }\n            return state | STATE_CHANGED;\n        }\n        return STATE_FAILED;\n    }\n});\n\n/**\n * Pan\n * Recognized when the pointer is down and moved in the allowed direction.\n * @constructor\n * @extends AttrRecognizer\n */\nfunction PanRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n\n    this.pX = null;\n    this.pY = null;\n}\n\ninherit(PanRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof PanRecognizer\n     */\n    defaults: {\n        event: 'pan',\n        threshold: 10,\n        pointers: 1,\n        direction: DIRECTION_ALL\n    },\n\n    getTouchAction: function() {\n        var direction = this.options.direction;\n        var actions = [];\n        if (direction & DIRECTION_HORIZONTAL) {\n            actions.push(TOUCH_ACTION_PAN_Y);\n        }\n        if (direction & DIRECTION_VERTICAL) {\n            actions.push(TOUCH_ACTION_PAN_X);\n        }\n        return actions;\n    },\n\n    directionTest: function(input) {\n        var options = this.options;\n        var hasMoved = true;\n        var distance = input.distance;\n        var direction = input.direction;\n        var x = input.deltaX;\n        var y = input.deltaY;\n\n        // lock to axis?\n        if (!(direction & options.direction)) {\n            if (options.direction & DIRECTION_HORIZONTAL) {\n                direction = (x === 0) ? DIRECTION_NONE : (x < 0) ? DIRECTION_LEFT : DIRECTION_RIGHT;\n                hasMoved = x != this.pX;\n                distance = Math.abs(input.deltaX);\n            } else {\n                direction = (y === 0) ? DIRECTION_NONE : (y < 0) ? DIRECTION_UP : DIRECTION_DOWN;\n                hasMoved = y != this.pY;\n                distance = Math.abs(input.deltaY);\n            }\n        }\n        input.direction = direction;\n        return hasMoved && distance > options.threshold && direction & options.direction;\n    },\n\n    attrTest: function(input) {\n        return AttrRecognizer.prototype.attrTest.call(this, input) &&\n            (this.state & STATE_BEGAN || (!(this.state & STATE_BEGAN) && this.directionTest(input)));\n    },\n\n    emit: function(input) {\n\n        this.pX = input.deltaX;\n        this.pY = input.deltaY;\n\n        var direction = directionStr(input.direction);\n\n        if (direction) {\n            input.additionalEvent = this.options.event + direction;\n        }\n        this._super.emit.call(this, input);\n    }\n});\n\n/**\n * Pinch\n * Recognized when two or more pointers are moving toward (zoom-in) or away from each other (zoom-out).\n * @constructor\n * @extends AttrRecognizer\n */\nfunction PinchRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n}\n\ninherit(PinchRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof PinchRecognizer\n     */\n    defaults: {\n        event: 'pinch',\n        threshold: 0,\n        pointers: 2\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_NONE];\n    },\n\n    attrTest: function(input) {\n        return this._super.attrTest.call(this, input) &&\n            (Math.abs(input.scale - 1) > this.options.threshold || this.state & STATE_BEGAN);\n    },\n\n    emit: function(input) {\n        if (input.scale !== 1) {\n            var inOut = input.scale < 1 ? 'in' : 'out';\n            input.additionalEvent = this.options.event + inOut;\n        }\n        this._super.emit.call(this, input);\n    }\n});\n\n/**\n * Press\n * Recognized when the pointer is down for x ms without any movement.\n * @constructor\n * @extends Recognizer\n */\nfunction PressRecognizer() {\n    Recognizer.apply(this, arguments);\n\n    this._timer = null;\n    this._input = null;\n}\n\ninherit(PressRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof PressRecognizer\n     */\n    defaults: {\n        event: 'press',\n        pointers: 1,\n        time: 251, // minimal time of the pointer to be pressed\n        threshold: 9 // a minimal movement is ok, but keep it low\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_AUTO];\n    },\n\n    process: function(input) {\n        var options = this.options;\n        var validPointers = input.pointers.length === options.pointers;\n        var validMovement = input.distance < options.threshold;\n        var validTime = input.deltaTime > options.time;\n\n        this._input = input;\n\n        // we only allow little movement\n        // and we've reached an end event, so a tap is possible\n        if (!validMovement || !validPointers || (input.eventType & (INPUT_END | INPUT_CANCEL) && !validTime)) {\n            this.reset();\n        } else if (input.eventType & INPUT_START) {\n            this.reset();\n            this._timer = setTimeoutContext(function() {\n                this.state = STATE_RECOGNIZED;\n                this.tryEmit();\n            }, options.time, this);\n        } else if (input.eventType & INPUT_END) {\n            return STATE_RECOGNIZED;\n        }\n        return STATE_FAILED;\n    },\n\n    reset: function() {\n        clearTimeout(this._timer);\n    },\n\n    emit: function(input) {\n        if (this.state !== STATE_RECOGNIZED) {\n            return;\n        }\n\n        if (input && (input.eventType & INPUT_END)) {\n            this.manager.emit(this.options.event + 'up', input);\n        } else {\n            this._input.timeStamp = now();\n            this.manager.emit(this.options.event, this._input);\n        }\n    }\n});\n\n/**\n * Rotate\n * Recognized when two or more pointer are moving in a circular motion.\n * @constructor\n * @extends AttrRecognizer\n */\nfunction RotateRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n}\n\ninherit(RotateRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof RotateRecognizer\n     */\n    defaults: {\n        event: 'rotate',\n        threshold: 0,\n        pointers: 2\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_NONE];\n    },\n\n    attrTest: function(input) {\n        return this._super.attrTest.call(this, input) &&\n            (Math.abs(input.rotation) > this.options.threshold || this.state & STATE_BEGAN);\n    }\n});\n\n/**\n * Swipe\n * Recognized when the pointer is moving fast (velocity), with enough distance in the allowed direction.\n * @constructor\n * @extends AttrRecognizer\n */\nfunction SwipeRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n}\n\ninherit(SwipeRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof SwipeRecognizer\n     */\n    defaults: {\n        event: 'swipe',\n        threshold: 10,\n        velocity: 0.3,\n        direction: DIRECTION_HORIZONTAL | DIRECTION_VERTICAL,\n        pointers: 1\n    },\n\n    getTouchAction: function() {\n        return PanRecognizer.prototype.getTouchAction.call(this);\n    },\n\n    attrTest: function(input) {\n        var direction = this.options.direction;\n        var velocity;\n\n        if (direction & (DIRECTION_HORIZONTAL | DIRECTION_VERTICAL)) {\n            velocity = input.overallVelocity;\n        } else if (direction & DIRECTION_HORIZONTAL) {\n            velocity = input.overallVelocityX;\n        } else if (direction & DIRECTION_VERTICAL) {\n            velocity = input.overallVelocityY;\n        }\n\n        return this._super.attrTest.call(this, input) &&\n            direction & input.offsetDirection &&\n            input.distance > this.options.threshold &&\n            input.maxPointers == this.options.pointers &&\n            abs(velocity) > this.options.velocity && input.eventType & INPUT_END;\n    },\n\n    emit: function(input) {\n        var direction = directionStr(input.offsetDirection);\n        if (direction) {\n            this.manager.emit(this.options.event + direction, input);\n        }\n\n        this.manager.emit(this.options.event, input);\n    }\n});\n\n/**\n * A tap is ecognized when the pointer is doing a small tap/click. Multiple taps are recognized if they occur\n * between the given interval and position. The delay option can be used to recognize multi-taps without firing\n * a single tap.\n *\n * The eventData from the emitted event contains the property `tapCount`, which contains the amount of\n * multi-taps being recognized.\n * @constructor\n * @extends Recognizer\n */\nfunction TapRecognizer() {\n    Recognizer.apply(this, arguments);\n\n    // previous time and center,\n    // used for tap counting\n    this.pTime = false;\n    this.pCenter = false;\n\n    this._timer = null;\n    this._input = null;\n    this.count = 0;\n}\n\ninherit(TapRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof PinchRecognizer\n     */\n    defaults: {\n        event: 'tap',\n        pointers: 1,\n        taps: 1,\n        interval: 300, // max time between the multi-tap taps\n        time: 250, // max time of the pointer to be down (like finger on the screen)\n        threshold: 9, // a minimal movement is ok, but keep it low\n        posThreshold: 10 // a multi-tap can be a bit off the initial position\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_MANIPULATION];\n    },\n\n    process: function(input) {\n        var options = this.options;\n\n        var validPointers = input.pointers.length === options.pointers;\n        var validMovement = input.distance < options.threshold;\n        var validTouchTime = input.deltaTime < options.time;\n\n        this.reset();\n\n        if ((input.eventType & INPUT_START) && (this.count === 0)) {\n            return this.failTimeout();\n        }\n\n        // we only allow little movement\n        // and we've reached an end event, so a tap is possible\n        if (validMovement && validTouchTime && validPointers) {\n            if (input.eventType != INPUT_END) {\n                return this.failTimeout();\n            }\n\n            var validInterval = this.pTime ? (input.timeStamp - this.pTime < options.interval) : true;\n            var validMultiTap = !this.pCenter || getDistance(this.pCenter, input.center) < options.posThreshold;\n\n            this.pTime = input.timeStamp;\n            this.pCenter = input.center;\n\n            if (!validMultiTap || !validInterval) {\n                this.count = 1;\n            } else {\n                this.count += 1;\n            }\n\n            this._input = input;\n\n            // if tap count matches we have recognized it,\n            // else it has began recognizing...\n            var tapCount = this.count % options.taps;\n            if (tapCount === 0) {\n                // no failing requirements, immediately trigger the tap event\n                // or wait as long as the multitap interval to trigger\n                if (!this.hasRequireFailures()) {\n                    return STATE_RECOGNIZED;\n                } else {\n                    this._timer = setTimeoutContext(function() {\n                        this.state = STATE_RECOGNIZED;\n                        this.tryEmit();\n                    }, options.interval, this);\n                    return STATE_BEGAN;\n                }\n            }\n        }\n        return STATE_FAILED;\n    },\n\n    failTimeout: function() {\n        this._timer = setTimeoutContext(function() {\n            this.state = STATE_FAILED;\n        }, this.options.interval, this);\n        return STATE_FAILED;\n    },\n\n    reset: function() {\n        clearTimeout(this._timer);\n    },\n\n    emit: function() {\n        if (this.state == STATE_RECOGNIZED) {\n            this._input.tapCount = this.count;\n            this.manager.emit(this.options.event, this._input);\n        }\n    }\n});\n\n/**\n * Simple way to create a manager with a default set of recognizers.\n * @param {HTMLElement} element\n * @param {Object} [options]\n * @constructor\n */\nfunction Hammer(element, options) {\n    options = options || {};\n    options.recognizers = ifUndefined(options.recognizers, Hammer.defaults.preset);\n    return new Manager(element, options);\n}\n\n/**\n * @const {string}\n */\nHammer.VERSION = '2.0.7';\n\n/**\n * default settings\n * @namespace\n */\nHammer.defaults = {\n    /**\n     * set if DOM events are being triggered.\n     * But this is slower and unused by simple implementations, so disabled by default.\n     * @type {Boolean}\n     * @default false\n     */\n    domEvents: false,\n\n    /**\n     * The value for the touchAction property/fallback.\n     * When set to `compute` it will magically set the correct value based on the added recognizers.\n     * @type {String}\n     * @default compute\n     */\n    touchAction: TOUCH_ACTION_COMPUTE,\n\n    /**\n     * @type {Boolean}\n     * @default true\n     */\n    enable: true,\n\n    /**\n     * EXPERIMENTAL FEATURE -- can be removed/changed\n     * Change the parent input target element.\n     * If Null, then it is being set the to main element.\n     * @type {Null|EventTarget}\n     * @default null\n     */\n    inputTarget: null,\n\n    /**\n     * force an input class\n     * @type {Null|Function}\n     * @default null\n     */\n    inputClass: null,\n\n    /**\n     * Default recognizer setup when calling `Hammer()`\n     * When creating a new Manager these will be skipped.\n     * @type {Array}\n     */\n    preset: [\n        // RecognizerClass, options, [recognizeWith, ...], [requireFailure, ...]\n        [RotateRecognizer, {enable: false}],\n        [PinchRecognizer, {enable: false}, ['rotate']],\n        [SwipeRecognizer, {direction: DIRECTION_HORIZONTAL}],\n        [PanRecognizer, {direction: DIRECTION_HORIZONTAL}, ['swipe']],\n        [TapRecognizer],\n        [TapRecognizer, {event: 'doubletap', taps: 2}, ['tap']],\n        [PressRecognizer]\n    ],\n\n    /**\n     * Some CSS properties can be used to improve the working of Hammer.\n     * Add them to this method and they will be set when creating a new Manager.\n     * @namespace\n     */\n    cssProps: {\n        /**\n         * Disables text selection to improve the dragging gesture. Mainly for desktop browsers.\n         * @type {String}\n         * @default 'none'\n         */\n        userSelect: 'none',\n\n        /**\n         * Disable the Windows Phone grippers when pressing an element.\n         * @type {String}\n         * @default 'none'\n         */\n        touchSelect: 'none',\n\n        /**\n         * Disables the default callout shown when you touch and hold a touch target.\n         * On iOS, when you touch and hold a touch target such as a link, Safari displays\n         * a callout containing information about the link. This property allows you to disable that callout.\n         * @type {String}\n         * @default 'none'\n         */\n        touchCallout: 'none',\n\n        /**\n         * Specifies whether zooming is enabled. Used by IE10>\n         * @type {String}\n         * @default 'none'\n         */\n        contentZooming: 'none',\n\n        /**\n         * Specifies that an entire element should be draggable instead of its contents. Mainly for desktop browsers.\n         * @type {String}\n         * @default 'none'\n         */\n        userDrag: 'none',\n\n        /**\n         * Overrides the highlight color shown when the user taps a link or a JavaScript\n         * clickable element in iOS. This property obeys the alpha value, if specified.\n         * @type {String}\n         * @default 'rgba(0,0,0,0)'\n         */\n        tapHighlightColor: 'rgba(0,0,0,0)'\n    }\n};\n\nvar STOP = 1;\nvar FORCED_STOP = 2;\n\n/**\n * Manager\n * @param {HTMLElement} element\n * @param {Object} [options]\n * @constructor\n */\nfunction Manager(element, options) {\n    this.options = assign({}, Hammer.defaults, options || {});\n\n    this.options.inputTarget = this.options.inputTarget || element;\n\n    this.handlers = {};\n    this.session = {};\n    this.recognizers = [];\n    this.oldCssProps = {};\n\n    this.element = element;\n    this.input = createInputInstance(this);\n    this.touchAction = new TouchAction(this, this.options.touchAction);\n\n    toggleCssProps(this, true);\n\n    each(this.options.recognizers, function(item) {\n        var recognizer = this.add(new (item[0])(item[1]));\n        item[2] && recognizer.recognizeWith(item[2]);\n        item[3] && recognizer.requireFailure(item[3]);\n    }, this);\n}\n\nManager.prototype = {\n    /**\n     * set options\n     * @param {Object} options\n     * @returns {Manager}\n     */\n    set: function(options) {\n        assign(this.options, options);\n\n        // Options that need a little more setup\n        if (options.touchAction) {\n            this.touchAction.update();\n        }\n        if (options.inputTarget) {\n            // Clean up existing event listeners and reinitialize\n            this.input.destroy();\n            this.input.target = options.inputTarget;\n            this.input.init();\n        }\n        return this;\n    },\n\n    /**\n     * stop recognizing for this session.\n     * This session will be discarded, when a new [input]start event is fired.\n     * When forced, the recognizer cycle is stopped immediately.\n     * @param {Boolean} [force]\n     */\n    stop: function(force) {\n        this.session.stopped = force ? FORCED_STOP : STOP;\n    },\n\n    /**\n     * run the recognizers!\n     * called by the inputHandler function on every movement of the pointers (touches)\n     * it walks through all the recognizers and tries to detect the gesture that is being made\n     * @param {Object} inputData\n     */\n    recognize: function(inputData) {\n        var session = this.session;\n        if (session.stopped) {\n            return;\n        }\n\n        // run the touch-action polyfill\n        this.touchAction.preventDefaults(inputData);\n\n        var recognizer;\n        var recognizers = this.recognizers;\n\n        // this holds the recognizer that is being recognized.\n        // so the recognizer's state needs to be BEGAN, CHANGED, ENDED or RECOGNIZED\n        // if no recognizer is detecting a thing, it is set to `null`\n        var curRecognizer = session.curRecognizer;\n\n        // reset when the last recognizer is recognized\n        // or when we're in a new session\n        if (!curRecognizer || (curRecognizer && curRecognizer.state & STATE_RECOGNIZED)) {\n            curRecognizer = session.curRecognizer = null;\n        }\n\n        var i = 0;\n        while (i < recognizers.length) {\n            recognizer = recognizers[i];\n\n            // find out if we are allowed try to recognize the input for this one.\n            // 1.   allow if the session is NOT forced stopped (see the .stop() method)\n            // 2.   allow if we still haven't recognized a gesture in this session, or the this recognizer is the one\n            //      that is being recognized.\n            // 3.   allow if the recognizer is allowed to run simultaneous with the current recognized recognizer.\n            //      this can be setup with the `recognizeWith()` method on the recognizer.\n            if (session.stopped !== FORCED_STOP && ( // 1\n                    !curRecognizer || recognizer == curRecognizer || // 2\n                    recognizer.canRecognizeWith(curRecognizer))) { // 3\n                recognizer.recognize(inputData);\n            } else {\n                recognizer.reset();\n            }\n\n            // if the recognizer has been recognizing the input as a valid gesture, we want to store this one as the\n            // current active recognizer. but only if we don't already have an active recognizer\n            if (!curRecognizer && recognizer.state & (STATE_BEGAN | STATE_CHANGED | STATE_ENDED)) {\n                curRecognizer = session.curRecognizer = recognizer;\n            }\n            i++;\n        }\n    },\n\n    /**\n     * get a recognizer by its event name.\n     * @param {Recognizer|String} recognizer\n     * @returns {Recognizer|Null}\n     */\n    get: function(recognizer) {\n        if (recognizer instanceof Recognizer) {\n            return recognizer;\n        }\n\n        var recognizers = this.recognizers;\n        for (var i = 0; i < recognizers.length; i++) {\n            if (recognizers[i].options.event == recognizer) {\n                return recognizers[i];\n            }\n        }\n        return null;\n    },\n\n    /**\n     * add a recognizer to the manager\n     * existing recognizers with the same event name will be removed\n     * @param {Recognizer} recognizer\n     * @returns {Recognizer|Manager}\n     */\n    add: function(recognizer) {\n        if (invokeArrayArg(recognizer, 'add', this)) {\n            return this;\n        }\n\n        // remove existing\n        var existing = this.get(recognizer.options.event);\n        if (existing) {\n            this.remove(existing);\n        }\n\n        this.recognizers.push(recognizer);\n        recognizer.manager = this;\n\n        this.touchAction.update();\n        return recognizer;\n    },\n\n    /**\n     * remove a recognizer by name or instance\n     * @param {Recognizer|String} recognizer\n     * @returns {Manager}\n     */\n    remove: function(recognizer) {\n        if (invokeArrayArg(recognizer, 'remove', this)) {\n            return this;\n        }\n\n        recognizer = this.get(recognizer);\n\n        // let's make sure this recognizer exists\n        if (recognizer) {\n            var recognizers = this.recognizers;\n            var index = inArray(recognizers, recognizer);\n\n            if (index !== -1) {\n                recognizers.splice(index, 1);\n                this.touchAction.update();\n            }\n        }\n\n        return this;\n    },\n\n    /**\n     * bind event\n     * @param {String} events\n     * @param {Function} handler\n     * @returns {EventEmitter} this\n     */\n    on: function(events, handler) {\n        if (events === undefined) {\n            return;\n        }\n        if (handler === undefined) {\n            return;\n        }\n\n        var handlers = this.handlers;\n        each(splitStr(events), function(event) {\n            handlers[event] = handlers[event] || [];\n            handlers[event].push(handler);\n        });\n        return this;\n    },\n\n    /**\n     * unbind event, leave emit blank to remove all handlers\n     * @param {String} events\n     * @param {Function} [handler]\n     * @returns {EventEmitter} this\n     */\n    off: function(events, handler) {\n        if (events === undefined) {\n            return;\n        }\n\n        var handlers = this.handlers;\n        each(splitStr(events), function(event) {\n            if (!handler) {\n                delete handlers[event];\n            } else {\n                handlers[event] && handlers[event].splice(inArray(handlers[event], handler), 1);\n            }\n        });\n        return this;\n    },\n\n    /**\n     * emit event to the listeners\n     * @param {String} event\n     * @param {Object} data\n     */\n    emit: function(event, data) {\n        // we also want to trigger dom events\n        if (this.options.domEvents) {\n            triggerDomEvent(event, data);\n        }\n\n        // no handlers, so skip it all\n        var handlers = this.handlers[event] && this.handlers[event].slice();\n        if (!handlers || !handlers.length) {\n            return;\n        }\n\n        data.type = event;\n        data.preventDefault = function() {\n            data.srcEvent.preventDefault();\n        };\n\n        var i = 0;\n        while (i < handlers.length) {\n            handlers[i](data);\n            i++;\n        }\n    },\n\n    /**\n     * destroy the manager and unbinds all events\n     * it doesn't unbind dom events, that is the user own responsibility\n     */\n    destroy: function() {\n        this.element && toggleCssProps(this, false);\n\n        this.handlers = {};\n        this.session = {};\n        this.input.destroy();\n        this.element = null;\n    }\n};\n\n/**\n * add/remove the css properties as defined in manager.options.cssProps\n * @param {Manager} manager\n * @param {Boolean} add\n */\nfunction toggleCssProps(manager, add) {\n    var element = manager.element;\n    if (!element.style) {\n        return;\n    }\n    var prop;\n    each(manager.options.cssProps, function(value, name) {\n        prop = prefixed(element.style, name);\n        if (add) {\n            manager.oldCssProps[prop] = element.style[prop];\n            element.style[prop] = value;\n        } else {\n            element.style[prop] = manager.oldCssProps[prop] || '';\n        }\n    });\n    if (!add) {\n        manager.oldCssProps = {};\n    }\n}\n\n/**\n * trigger dom event\n * @param {String} event\n * @param {Object} data\n */\nfunction triggerDomEvent(event, data) {\n    var gestureEvent = document.createEvent('Event');\n    gestureEvent.initEvent(event, true, true);\n    gestureEvent.gesture = data;\n    data.target.dispatchEvent(gestureEvent);\n}\n\nassign(Hammer, {\n    INPUT_START: INPUT_START,\n    INPUT_MOVE: INPUT_MOVE,\n    INPUT_END: INPUT_END,\n    INPUT_CANCEL: INPUT_CANCEL,\n\n    STATE_POSSIBLE: STATE_POSSIBLE,\n    STATE_BEGAN: STATE_BEGAN,\n    STATE_CHANGED: STATE_CHANGED,\n    STATE_ENDED: STATE_ENDED,\n    STATE_RECOGNIZED: STATE_RECOGNIZED,\n    STATE_CANCELLED: STATE_CANCELLED,\n    STATE_FAILED: STATE_FAILED,\n\n    DIRECTION_NONE: DIRECTION_NONE,\n    DIRECTION_LEFT: DIRECTION_LEFT,\n    DIRECTION_RIGHT: DIRECTION_RIGHT,\n    DIRECTION_UP: DIRECTION_UP,\n    DIRECTION_DOWN: DIRECTION_DOWN,\n    DIRECTION_HORIZONTAL: DIRECTION_HORIZONTAL,\n    DIRECTION_VERTICAL: DIRECTION_VERTICAL,\n    DIRECTION_ALL: DIRECTION_ALL,\n\n    Manager: Manager,\n    Input: Input,\n    TouchAction: TouchAction,\n\n    TouchInput: TouchInput,\n    MouseInput: MouseInput,\n    PointerEventInput: PointerEventInput,\n    TouchMouseInput: TouchMouseInput,\n    SingleTouchInput: SingleTouchInput,\n\n    Recognizer: Recognizer,\n    AttrRecognizer: AttrRecognizer,\n    Tap: TapRecognizer,\n    Pan: PanRecognizer,\n    Swipe: SwipeRecognizer,\n    Pinch: PinchRecognizer,\n    Rotate: RotateRecognizer,\n    Press: PressRecognizer,\n\n    on: addEventListeners,\n    off: removeEventListeners,\n    each: each,\n    merge: merge,\n    extend: extend,\n    assign: assign,\n    inherit: inherit,\n    bindFn: bindFn,\n    prefixed: prefixed\n});\n\n// this prevents errors when Hammer is loaded in the presence of an AMD\n//  style loader but by script tag, not by the loader.\nvar freeGlobal = (typeof window !== 'undefined' ? window : (typeof self !== 'undefined' ? self : {})); // jshint ignore:line\nfreeGlobal.Hammer = Hammer;\n\nif (typeof define === 'function' && define.amd) {\n    define(function() {\n        return Hammer;\n    });\n} else if (typeof module != 'undefined' && module.exports) {\n    module.exports = Hammer;\n} else {\n    window[exportName] = Hammer;\n}\n\n})(window, document, 'Hammer');\n","// .dirname, .basename, and .extname methods are extracted from Node.js v8.11.1,\n// backported and transplited with Babel, with backwards-compat fixes\n\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// resolves . and .. elements in a path array with directory names there\n// must be no slashes, empty elements, or device names (c:\\) in the array\n// (so also no leading and trailing slashes - it does not distinguish\n// relative and absolute paths)\nfunction normalizeArray(parts, allowAboveRoot) {\n  // if the path tries to go above the root, `up` ends up > 0\n  var up = 0;\n  for (var i = parts.length - 1; i >= 0; i--) {\n    var last = parts[i];\n    if (last === '.') {\n      parts.splice(i, 1);\n    } else if (last === '..') {\n      parts.splice(i, 1);\n      up++;\n    } else if (up) {\n      parts.splice(i, 1);\n      up--;\n    }\n  }\n\n  // if the path is allowed to go above the root, restore leading ..s\n  if (allowAboveRoot) {\n    for (; up--; up) {\n      parts.unshift('..');\n    }\n  }\n\n  return parts;\n}\n\n// path.resolve([from ...], to)\n// posix version\nexports.resolve = function() {\n  var resolvedPath = '',\n      resolvedAbsolute = false;\n\n  for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {\n    var path = (i >= 0) ? arguments[i] : process.cwd();\n\n    // Skip empty and invalid entries\n    if (typeof path !== 'string') {\n      throw new TypeError('Arguments to path.resolve must be strings');\n    } else if (!path) {\n      continue;\n    }\n\n    resolvedPath = path + '/' + resolvedPath;\n    resolvedAbsolute = path.charAt(0) === '/';\n  }\n\n  // At this point the path should be resolved to a full absolute path, but\n  // handle relative paths to be safe (might happen when process.cwd() fails)\n\n  // Normalize the path\n  resolvedPath = normalizeArray(filter(resolvedPath.split('/'), function(p) {\n    return !!p;\n  }), !resolvedAbsolute).join('/');\n\n  return ((resolvedAbsolute ? '/' : '') + resolvedPath) || '.';\n};\n\n// path.normalize(path)\n// posix version\nexports.normalize = function(path) {\n  var isAbsolute = exports.isAbsolute(path),\n      trailingSlash = substr(path, -1) === '/';\n\n  // Normalize the path\n  path = normalizeArray(filter(path.split('/'), function(p) {\n    return !!p;\n  }), !isAbsolute).join('/');\n\n  if (!path && !isAbsolute) {\n    path = '.';\n  }\n  if (path && trailingSlash) {\n    path += '/';\n  }\n\n  return (isAbsolute ? '/' : '') + path;\n};\n\n// posix version\nexports.isAbsolute = function(path) {\n  return path.charAt(0) === '/';\n};\n\n// posix version\nexports.join = function() {\n  var paths = Array.prototype.slice.call(arguments, 0);\n  return exports.normalize(filter(paths, function(p, index) {\n    if (typeof p !== 'string') {\n      throw new TypeError('Arguments to path.join must be strings');\n    }\n    return p;\n  }).join('/'));\n};\n\n\n// path.relative(from, to)\n// posix version\nexports.relative = function(from, to) {\n  from = exports.resolve(from).substr(1);\n  to = exports.resolve(to).substr(1);\n\n  function trim(arr) {\n    var start = 0;\n    for (; start < arr.length; start++) {\n      if (arr[start] !== '') break;\n    }\n\n    var end = arr.length - 1;\n    for (; end >= 0; end--) {\n      if (arr[end] !== '') break;\n    }\n\n    if (start > end) return [];\n    return arr.slice(start, end - start + 1);\n  }\n\n  var fromParts = trim(from.split('/'));\n  var toParts = trim(to.split('/'));\n\n  var length = Math.min(fromParts.length, toParts.length);\n  var samePartsLength = length;\n  for (var i = 0; i < length; i++) {\n    if (fromParts[i] !== toParts[i]) {\n      samePartsLength = i;\n      break;\n    }\n  }\n\n  var outputParts = [];\n  for (var i = samePartsLength; i < fromParts.length; i++) {\n    outputParts.push('..');\n  }\n\n  outputParts = outputParts.concat(toParts.slice(samePartsLength));\n\n  return outputParts.join('/');\n};\n\nexports.sep = '/';\nexports.delimiter = ':';\n\nexports.dirname = function (path) {\n  if (typeof path !== 'string') path = path + '';\n  if (path.length === 0) return '.';\n  var code = path.charCodeAt(0);\n  var hasRoot = code === 47 /*/*/;\n  var end = -1;\n  var matchedSlash = true;\n  for (var i = path.length - 1; i >= 1; --i) {\n    code = path.charCodeAt(i);\n    if (code === 47 /*/*/) {\n        if (!matchedSlash) {\n          end = i;\n          break;\n        }\n      } else {\n      // We saw the first non-path separator\n      matchedSlash = false;\n    }\n  }\n\n  if (end === -1) return hasRoot ? '/' : '.';\n  if (hasRoot && end === 1) {\n    // return '//';\n    // Backwards-compat fix:\n    return '/';\n  }\n  return path.slice(0, end);\n};\n\nfunction basename(path) {\n  if (typeof path !== 'string') path = path + '';\n\n  var start = 0;\n  var end = -1;\n  var matchedSlash = true;\n  var i;\n\n  for (i = path.length - 1; i >= 0; --i) {\n    if (path.charCodeAt(i) === 47 /*/*/) {\n        // If we reached a path separator that was not part of a set of path\n        // separators at the end of the string, stop now\n        if (!matchedSlash) {\n          start = i + 1;\n          break;\n        }\n      } else if (end === -1) {\n      // We saw the first non-path separator, mark this as the end of our\n      // path component\n      matchedSlash = false;\n      end = i + 1;\n    }\n  }\n\n  if (end === -1) return '';\n  return path.slice(start, end);\n}\n\n// Uses a mixed approach for backwards-compatibility, as ext behavior changed\n// in new Node.js versions, so only basename() above is backported here\nexports.basename = function (path, ext) {\n  var f = basename(path);\n  if (ext && f.substr(-1 * ext.length) === ext) {\n    f = f.substr(0, f.length - ext.length);\n  }\n  return f;\n};\n\nexports.extname = function (path) {\n  if (typeof path !== 'string') path = path + '';\n  var startDot = -1;\n  var startPart = 0;\n  var end = -1;\n  var matchedSlash = true;\n  // Track the state of characters (if any) we see before our first dot and\n  // after any path separator we find\n  var preDotState = 0;\n  for (var i = path.length - 1; i >= 0; --i) {\n    var code = path.charCodeAt(i);\n    if (code === 47 /*/*/) {\n        // If we reached a path separator that was not part of a set of path\n        // separators at the end of the string, stop now\n        if (!matchedSlash) {\n          startPart = i + 1;\n          break;\n        }\n        continue;\n      }\n    if (end === -1) {\n      // We saw the first non-path separator, mark this as the end of our\n      // extension\n      matchedSlash = false;\n      end = i + 1;\n    }\n    if (code === 46 /*.*/) {\n        // If this is our first dot, mark it as the start of our extension\n        if (startDot === -1)\n          startDot = i;\n        else if (preDotState !== 1)\n          preDotState = 1;\n    } else if (startDot !== -1) {\n      // We saw a non-dot and non-path separator before our dot, so we should\n      // have a good chance at having a non-empty extension\n      preDotState = -1;\n    }\n  }\n\n  if (startDot === -1 || end === -1 ||\n      // We saw a non-dot character immediately before the dot\n      preDotState === 0 ||\n      // The (right-most) trimmed path component is exactly '..'\n      preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {\n    return '';\n  }\n  return path.slice(startDot, end);\n};\n\nfunction filter (xs, f) {\n    if (xs.filter) return xs.filter(f);\n    var res = [];\n    for (var i = 0; i < xs.length; i++) {\n        if (f(xs[i], i, xs)) res.push(xs[i]);\n    }\n    return res;\n}\n\n// String.prototype.substr - negative index don't work in IE8\nvar substr = 'ab'.substr(-1) === 'b'\n    ? function (str, start, len) { return str.substr(start, len) }\n    : function (str, start, len) {\n        if (start < 0) start = str.length + start;\n        return str.substr(start, len);\n    }\n;\n"],"sourceRoot":""}